[{"id":"88113769.280aa8","type":"tab","label":"eVOLVER01","disabled":false,"info":""},{"id":"411dd76c.f0c058","type":"tab","label":"eVOLVER02","disabled":false,"info":""},{"id":"5ff2f33d.a031ec","type":"tab","label":"eVOLVER03","disabled":false,"info":""},{"id":"af2c32b8.f8597","type":"tab","label":"eVOLVER04","disabled":false,"info":""},{"id":"e841cd1.acd343","type":"tab","label":"eVOLVER05","disabled":false,"info":""},{"id":"201b2be.ed99554","type":"tab","label":"eVOLVER06","disabled":false,"info":""},{"id":"6d64c863.e19eb","type":"tab","label":"eVOLVER07","disabled":false,"info":""},{"id":"1602201.072f66","type":"tab","label":"eVOLVER08","disabled":false,"info":""},{"id":"9bc24a99.023758","type":"tab","label":"eVOLVER09","disabled":false,"info":""},{"id":"656ab444.766c2c","type":"tab","label":"eVOLVER10","disabled":false,"info":""},{"id":"eaf3948f.736798","type":"tab","label":"eVOLVER11","disabled":false,"info":""},{"id":"9e3f83ca.2ddf88","type":"tab","label":"eVOLVER12","disabled":false,"info":""},{"id":"eda2f12a.3ee13","type":"tab","label":"eVOLVER13","disabled":false,"info":""},{"id":"cafacf4c.e0827","type":"tab","label":"eVOLVER14","disabled":false,"info":""},{"id":"1ddf0442.60e8f4","type":"tab","label":"eVOLVER15","disabled":false,"info":""},{"id":"42061ad8.4facfc","type":"tab","label":"eVOLVER16","disabled":false,"info":""},{"id":"4fbe4352.72609c","type":"tab","label":"eVOLVER17","disabled":false,"info":""},{"id":"9d3e08ea.adda9","type":"arduino-board","z":"","device":"/dev/eVOLVER09"},{"id":"396a2c3e.afdd34","type":"ui_group","z":"","name":"multiplex","tab":"","order":1,"disp":true,"width":"16","collapse":false},{"id":"c802aebd.49388","type":"arduino-board","z":"","device":"/dev/eVOLVER10"},{"id":"8587da80.6e477","type":"arduino-board","z":"","device":"/dev/eVOLVER11"},{"id":"7aa0e762.ce5f48","type":"arduino-board","z":"","device":"/dev/eVOLVER16"},{"id":"b65698e0.7cc6f8","type":"arduino-board","z":"","device":"/dev/eVOLVER14"},{"id":"12b5e3c.f07cb1c","type":"arduino-board","z":"","device":"/dev/eVOLVER01"},{"id":"d6fbebf1.ddd72","type":"arduino-board","z":"","device":"/dev/eVOLVER02"},{"id":"372fb60f.099312","type":"arduino-board","z":"","device":"/dev/eVOLVER03"},{"id":"57f34ab0.5f3bec","type":"arduino-board","z":"","device":"/dev/eVOLVER04"},{"id":"28efad38.45a01a","type":"arduino-board","z":"","device":"/dev/eVOLVER13"},{"id":"49bde5be.616064","type":"arduino-board","z":"","device":"/dev/eVOLVER08"},{"id":"851a0b68.60bc78","type":"arduino-board","z":"","device":"/dev/eVOLVER07"},{"id":"5cdd9fe1.5d2a7","type":"arduino-board","z":"","device":"/dev/eVOLVER06"},{"id":"2d9393dd.556294","type":"arduino-board","z":"","device":"/dev/eVOLVER05"},{"id":"c1cc5fa7.d444c","type":"arduino-board","z":"","device":"/dev/eVOLVER15"},{"id":"a749048f.7e77f8","type":"arduino-board","z":"","device":"/dev/eVOLVER12"},{"id":"c33baa48.3545b","type":"arduino-board","z":"","device":"/dev/eVOLVER17"},{"id":"5cbe5b09.4b43c4","type":"ui_base","theme":{"name":"theme-light","lightTheme":{"default":"#0094CE","baseColor":"#0094CE","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#0094CE","value":"#0094CE","edited":false},"page-titlebar-backgroundColor":{"value":"#0094CE","edited":false},"page-backgroundColor":{"value":"#fafafa","edited":false},"page-sidebar-backgroundColor":{"value":"#ffffff","edited":false},"group-textColor":{"value":"#1bbfff","edited":false},"group-borderColor":{"value":"#ffffff","edited":false},"group-backgroundColor":{"value":"#ffffff","edited":false},"widget-textColor":{"value":"#111111","edited":false},"widget-backgroundColor":{"value":"#0094ce","edited":false},"widget-borderColor":{"value":"#ffffff","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey"}},"site":{"name":"Node-RED Dashboard","hideToolbar":"false","allowSwipe":"false","lockMenu":"false","allowTempTheme":"true","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"70ecaafa.846474","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"547b1552.3cb064","type":"ui_group","z":"","name":"eVOLVER01","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"1fb9ee9d.b187f1","type":"ui_group","z":"","name":"eVOLVER02","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"6a5aba0d.93eefc","type":"ui_group","z":"","name":"eVOLVER03","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"2fd754f7.843a1c","type":"ui_group","z":"","name":"eVOLVER04","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"bc61f52d.e6512","type":"ui_group","z":"","name":"eVOLVER05","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"340f142b.f003c4","type":"ui_group","z":"","name":"eVOLVER06","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"a41f3210.859238","type":"ui_group","z":"","name":"eVOLVER07","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"98e4d06b.58da1","type":"ui_group","z":"","name":"eVOLVER08","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"82058319.12e218","type":"ui_group","z":"","name":"eVOLVER09","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"9eb9882c.9c798","type":"ui_group","z":"","name":"eVOLVER10","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"24d194c.5f33c6c","type":"ui_group","z":"","name":"eVOLVER11","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"b7d47df1.f4cac","type":"ui_group","z":"","name":"eVOLVER12","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"eb578d89.6735a","type":"ui_group","z":"","name":"eVOLVER13","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"f65b31b2.0f517","type":"ui_group","z":"","name":"eVOLVER14","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"7178649e.9f6a7c","type":"ui_group","z":"","name":"eVOLVER15","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"3af17477.a6eb0c","type":"ui_group","z":"","name":"eVOLVER16","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"810a0156.ee1528","type":"ui_group","z":"","name":"eVOLVER17","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"707335ca.3669ec","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"4dfd5f59.571c08","type":"ui_group","z":"","name":"eVOLVER01","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"4c708341.cde28c","type":"ui_group","z":"","name":"eVOLVER02","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"2bce244b.00ef34","type":"ui_group","z":"","name":"eVOLVER03","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"b1169193.c33bd","type":"ui_group","z":"","name":"eVOLVER04","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"7a17786b.ffe3b","type":"ui_group","z":"","name":"eVOLVER05","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"77baf99d.363b3","type":"ui_group","z":"","name":"eVOLVER06","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"a94b887a.56a1e8","type":"ui_group","z":"","name":"eVOLVER07","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"6938d5db.b1833c","type":"ui_group","z":"","name":"eVOLVER08","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"bf8a13d3.7d4ac8","type":"ui_group","z":"","name":"eVOLVER09","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"94701515.145348","type":"ui_group","z":"","name":"eVOLVER10","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"231809a3.fc4fae","type":"ui_group","z":"","name":"eVOLVER11","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"de1d0c9b.1d6768","type":"ui_group","z":"","name":"eVOLVER12","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"3b6f704f.456e48","type":"ui_group","z":"","name":"eVOLVER13","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"cecf4134.cdf518","type":"ui_group","z":"","name":"eVOLVER14","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"89637051.de9d6","type":"ui_group","z":"","name":"eVOLVER15","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"d295f6be.fedd28","type":"ui_group","z":"","name":"eVOLVER16","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"58f9ef.5efa6e1","type":"ui_group","z":"","name":"eVOLVER17","tab":"","order":1,"disp":false,"width":"20","collapse":false},{"id":"bc035127.6f486","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"81b8a460.9485c8","type":"ui_group","z":"","name":"eVOLVER01","tab":"2ffbe9b4.135b3e","order":1,"disp":false,"width":"20","collapse":false},{"id":"2ffbe9b4.135b3e","type":"ui_tab","z":"","name":"eVOLVER01","icon":"dashboard","order":2,"disabled":false,"hidden":false},{"id":"e597db51.4ca438","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"89016fd5.f82b","type":"ui_group","z":"","name":"eVOLVER02","tab":"c92dae32.aa10b","order":1,"disp":false,"width":"20","collapse":false},{"id":"c92dae32.aa10b","type":"ui_tab","z":"","name":"eVOLVER02","icon":"dashboard","order":3,"disabled":false,"hidden":false},{"id":"43ff8522.d4c3ac","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"2f478177.2ea12e","type":"ui_group","z":"","name":"eVOLVER03","tab":"7b156031.4f123","order":1,"disp":false,"width":"20","collapse":false},{"id":"7b156031.4f123","type":"ui_tab","z":"","name":"eVOLVER03","icon":"dashboard","order":4,"disabled":false,"hidden":false},{"id":"fb2e5ef4.88f308","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"a0f2281.bca1558","type":"ui_group","z":"","name":"eVOLVER04","tab":"81c652a3.0394f","order":1,"disp":false,"width":"20","collapse":false},{"id":"81c652a3.0394f","type":"ui_tab","z":"","name":"eVOLVER04","icon":"dashboard","order":5,"disabled":false,"hidden":false},{"id":"19a2d3e5.477abc","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"776aa8a2.226a08","type":"ui_group","z":"","name":"eVOLVER05","tab":"704be9c3.21aa","order":1,"disp":false,"width":"20","collapse":false},{"id":"704be9c3.21aa","type":"ui_tab","z":"","name":"eVOLVER05","icon":"dashboard","order":6,"disabled":false,"hidden":false},{"id":"e21f26fd.480c4","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"29e435f5.f794ba","type":"ui_group","z":"","name":"eVOLVER06","tab":"c98a7111.c41b9","order":1,"disp":false,"width":"20","collapse":false},{"id":"c98a7111.c41b9","type":"ui_tab","z":"","name":"eVOLVER06","icon":"dashboard","order":7,"disabled":false,"hidden":false},{"id":"4a0a6caf.d79b4c","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"4697ebe9.8dd584","type":"ui_group","z":"","name":"eVOLVER07","tab":"143fdf91.787c3","order":1,"disp":false,"width":"20","collapse":false},{"id":"143fdf91.787c3","type":"ui_tab","z":"","name":"eVOLVER07","icon":"dashboard","order":8,"disabled":false,"hidden":false},{"id":"a823be3e.85f85","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"884c551b.71bce8","type":"ui_group","z":"","name":"eVOLVER08","tab":"c0416231.589e6","order":1,"disp":false,"width":"20","collapse":false},{"id":"c0416231.589e6","type":"ui_tab","z":"","name":"eVOLVER08","icon":"dashboard","order":9,"disabled":false,"hidden":false},{"id":"f80c1b15.f01b9","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"dd4d9a20.f63d98","type":"ui_group","z":"","name":"eVOLVER09","tab":"50e4cefa.edf6a8","order":1,"disp":false,"width":"20","collapse":false},{"id":"50e4cefa.edf6a8","type":"ui_tab","z":"","name":"eVOLVER09","icon":"dashboard","order":10,"disabled":false,"hidden":false},{"id":"5b850958.14c3d8","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"4e07d53e.eeff54","type":"ui_group","z":"","name":"eVOLVER10","tab":"9d744f4b.27949","order":1,"disp":false,"width":"20","collapse":false},{"id":"9d744f4b.27949","type":"ui_tab","z":"","name":"eVOLVER10","icon":"dashboard","order":11,"disabled":false,"hidden":false},{"id":"61629539.bf0614","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"9f1e154a.46ea78","type":"ui_group","z":"","name":"eVOLVER11","tab":"de7cc7fe.fdbb9","order":1,"disp":false,"width":"20","collapse":false},{"id":"de7cc7fe.fdbb9","type":"ui_tab","z":"","name":"eVOLVER11","icon":"dashboard","order":12,"disabled":false,"hidden":false},{"id":"be4be4d6.15f79","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"89076f33.868b08","type":"ui_group","z":"","name":"eVOLVER12","tab":"3c8cd79b.3cd1e8","order":1,"disp":false,"width":"20","collapse":false},{"id":"3c8cd79b.3cd1e8","type":"ui_tab","z":"","name":"eVOLVER12","icon":"dashboard","order":13,"disabled":false,"hidden":false},{"id":"4ef1793f.14116","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"9ebd0a8a.c990b8","type":"ui_group","z":"","name":"eVOLVER13","tab":"f158abbf.23d698","order":1,"disp":false,"width":"20","collapse":false},{"id":"f158abbf.23d698","type":"ui_tab","z":"","name":"eVOLVER13","icon":"dashboard","order":14,"disabled":false,"hidden":false},{"id":"486e3895.7ccb6","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"a6258d41.e8e188","type":"ui_group","z":"","name":"eVOLVER14","tab":"256ba998.e3d44e","order":1,"disp":false,"width":"20","collapse":false},{"id":"256ba998.e3d44e","type":"ui_tab","z":"","name":"eVOLVER14","icon":"dashboard","order":15,"disabled":false,"hidden":false},{"id":"11b534cd.fa16cb","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"178a1720.914539","type":"ui_group","z":"","name":"eVOLVER15","tab":"6cd26ee3.3b882","order":1,"disp":false,"width":"20","collapse":false},{"id":"6cd26ee3.3b882","type":"ui_tab","z":"","name":"eVOLVER15","icon":"dashboard","order":16,"disabled":false,"hidden":false},{"id":"472ba25d.ba8c1c","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"63aa638c.503edc","type":"ui_group","z":"","name":"eVOLVER16","tab":"4956510b.360da","order":1,"disp":false,"width":"20","collapse":false},{"id":"4956510b.360da","type":"ui_tab","z":"","name":"eVOLVER16","icon":"dashboard","order":17,"disabled":false,"hidden":false},{"id":"e8ea794b.b31868","type":"arduino-board","z":"","device":"/dev/ttyUSB0"},{"id":"71419c2a.2a3a5c","type":"ui_group","z":"","name":"eVOLVER17","tab":"dde5f4dd.d1bb3","order":1,"disp":false,"width":"20","collapse":false},{"id":"dde5f4dd.d1bb3","type":"ui_tab","z":"","name":"eVOLVER17","icon":"dashboard","order":18,"disabled":false,"hidden":false},{"id":"f6e3c81b.f6a27","type":"ui_spacer","name":"spacer","group":"396a2c3e.afdd34","order":132,"width":"6","height":1},{"id":"10e544d2.49eddb","type":"ui_spacer","name":"spacer","group":"396a2c3e.afdd34","order":37,"width":"14","height":1},{"id":"a7ec577c.aea7c8","type":"ui_spacer","name":"spacer","group":"396a2c3e.afdd34","order":56,"width":"14","height":1},{"id":"d1109466.6c2708","type":"ui_spacer","name":"spacer","group":"396a2c3e.afdd34","order":59,"width":"10","height":1},{"id":"2023a281.6ae27e","type":"arduino out","z":"88113769.280aa8","name":"GL17","pin":"3","state":"OUTPUT","arduino":"bc035127.6f486","x":1130,"y":60,"wires":[]},{"id":"d9654f06.2291c8","type":"arduino out","z":"88113769.280aa8","name":"YL17","pin":"2","state":"OUTPUT","arduino":"bc035127.6f486","x":1550,"y":60,"wires":[]},{"id":"f8a1d05c.641d9","type":"ui_slider","z":"88113769.280aa8","name":"05 intensity:","label":"intensity:","tooltip":"","group":"81b8a460.9485c8","order":30,"width":"7","height":"1","passthru":true,"outs":"end","topic":"","min":0,"max":"255","step":"1","x":1170,"y":420,"wires":[["fe23fc8.112958","4c007d24.4b725c"]]},{"id":"9b6f39c4.29b278","type":"ui_numeric","z":"88113769.280aa8","name":"06 and set to 480","label":"and set to","tooltip":"","group":"81b8a460.9485c8","order":37,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"1025","step":"1","x":1030,"y":840,"wires":[["7cbe2a7b.e1f674"]]},{"id":"f1702cb6.aac34","type":"ui_switch","z":"88113769.280aa8","name":"01 GL17","label":"","tooltip":"","group":"81b8a460.9485c8","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"green","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"green","x":1000,"y":60,"wires":[["2023a281.6ae27e"]]},{"id":"78ff2dae.d54cac","type":"ui_switch","z":"88113769.280aa8","name":"01 YL17","label":"","tooltip":"","group":"81b8a460.9485c8","order":4,"width":"1","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#e2c43c","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"#e2c43c","x":1420,"y":60,"wires":[["d9654f06.2291c8"]]},{"id":"22d3a1ef.eef6c6","type":"ui_switch","z":"88113769.280aa8","name":"02 IR17","label":"","tooltip":"","group":"81b8a460.9485c8","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"red","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1000,"y":180,"wires":[["32d48fc3.133d8"]]},{"id":"8116d20c.652dd8","type":"ui_switch","z":"88113769.280aa8","name":"03 BL17","label":"","tooltip":"","group":"81b8a460.9485c8","order":12,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#44cff1","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1020,"y":300,"wires":[["4c007d24.4b725c"]]},{"id":"64ea117f.0d79","type":"ui_switch","z":"88113769.280aa8","name":"07 FAN","label":"","tooltip":"","group":"81b8a460.9485c8","order":40,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"toys","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1620,"y":1080,"wires":[["7e801b16.b67b04"]]},{"id":"1714200f.76a8b8","type":"ui_switch","z":"88113769.280aa8","name":"06 T01 PID","label":"","tooltip":"","group":"81b8a460.9485c8","order":33,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"enable","style":"","onvalue":"1","onvalueType":"num","onicon":"hot_tub","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1030,"y":880,"wires":[["b8dd5188.d9a62","5bc8cdbe.3ae5ac"]]},{"id":"f8f264a4.0857f8","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":25,"width":"2","height":"1","name":"04 spacer","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1770,"y":520,"wires":[]},{"id":"ed5c7bc6.45fc7","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":46,"width":"7","height":"1","name":"07 last spacer","label":"(produces sound: fine).","format":"{{msg.payload}}","layout":"row-spread","x":1960,"y":1020,"wires":[]},{"id":"62b00e60.336048","type":"ui_numeric","z":"88113769.280aa8","name":"02 every 5","label":"every","tooltip":"","group":"81b8a460.9485c8","order":7,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1450,"y":220,"wires":[["2e760b78.a64efc"]]},{"id":"5c59ceff.5641b","type":"ui_dropdown","z":"88113769.280aa8","name":"02 minutes","label":"","tooltip":"","place":"Select option","group":"81b8a460.9485c8","order":8,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1690,"y":220,"wires":[["ca5f5d8b.77f0a8"]]},{"id":"8801f3be.0af61","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"measODtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2280,"y":320,"wires":[["4c81b0c6.e0222"]]},{"id":"a8fce5cc.88403","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":9,"width":"7","height":"1","name":"02 (takes 5 seconds)","label":"(takes 5 seconds).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":180,"wires":[]},{"id":"c27bfe14.c4a398","type":"ui_numeric","z":"88113769.280aa8","name":"03 every 5","label":"every","tooltip":"","group":"81b8a460.9485c8","order":14,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1490,"y":340,"wires":[["d0bfad93.bd17a8"]]},{"id":"9b302f5f.1ae23","type":"ui_dropdown","z":"88113769.280aa8","name":"03 minutes","label":"","tooltip":"","place":"Select option","group":"81b8a460.9485c8","order":15,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1730,"y":340,"wires":[["ef7c0be5.11b3f"]]},{"id":"d0bfad93.bd17a8","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"measBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":380,"wires":[["9512c29c.9d63d8"]]},{"id":"678fa398.3bd35c","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"measBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1940,"y":380,"wires":[["9512c29c.9d63d8"]]},{"id":"c0532745.da436","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":16,"width":"7","height":"1","name":"03 (takes 5 seconds)","label":"(takes 5 secs, max illum., shifted timing).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":300,"wires":[]},{"id":"fe23fc8.112958","type":"ui_numeric","z":"88113769.280aa8","name":"05 at 255","label":"at","tooltip":"","group":"81b8a460.9485c8","order":29,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":"1","x":1020,"y":420,"wires":[["7007519b.3096d","f8a1d05c.641d9"]]},{"id":"7007519b.3096d","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"intBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":460,"wires":[[]]},{"id":"7e0b5184.47613","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":6,"width":"3","height":"1","name":"02 Meaure OD:","label":"Measure OD:","format":"{{msg.payload}}","layout":"row-spread","x":1280,"y":180,"wires":[]},{"id":"42c02af7.6bbbec","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":13,"width":"3","height":"1","name":"03 Meaure BL:","label":"Measure BL:","format":"{{msg.payload}}","layout":"row-spread","x":1340,"y":300,"wires":[]},{"id":"76aba615.0e84d8","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":28,"width":"4","height":"1","name":"05 spacer1","label":"","format":"{{msg.payload}}","layout":"row-spread","x":710,"y":420,"wires":[]},{"id":"b5f55cc8.08784","type":"ui_button","z":"88113769.280aa8","name":"05 OK","group":"81b8a460.9485c8","order":31,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1350,"y":420,"wires":[["8116d20c.652dd8"]]},{"id":"46c626ee.6be108","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":19,"width":"1","height":"1","name":"04 - -","label":"","format":"{{msg.payload}}","layout":"row-spread","x":630,"y":520,"wires":[]},{"id":"2bbe45dc.69466a","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":20,"width":"3","height":"1","name":"04 Illuminate BL:","label":"Illuminate BL:","format":"{{msg.payload}}","layout":"row-spread","x":670,"y":560,"wires":[]},{"id":"6c7e0bbb.981334","type":"ui_numeric","z":"88113769.280aa8","name":"04 every 1","label":"every","tooltip":"","group":"81b8a460.9485c8","order":21,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":850,"y":560,"wires":[["1ed43aff.bfd6fd"]]},{"id":"2e6f5cbe.06bc6c","type":"ui_dropdown","z":"88113769.280aa8","name":"04 hour","label":"","tooltip":"","place":"Select option","group":"81b8a460.9485c8","order":22,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1080,"y":560,"wires":[["d32e8c29.983ca"]]},{"id":"1ed43aff.bfd6fd","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"pillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":600,"wires":[["c63cbb9c.df41b"]]},{"id":"d2335033.0f0288","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"pillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":640,"wires":[["c63cbb9c.df41b"]]},{"id":"361a506e.edac2","type":"ui_numeric","z":"88113769.280aa8","name":"04 for 5","label":"for","tooltip":"","group":"81b8a460.9485c8","order":23,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1340,"y":560,"wires":[["cece5efa.249ff8"]]},{"id":"cce37ff5.39daa8","type":"ui_dropdown","z":"88113769.280aa8","name":"04 minutes","label":"","tooltip":"","place":"Select option","group":"81b8a460.9485c8","order":24,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1590,"y":560,"wires":[["8ec4353f.d6e468"]]},{"id":"cece5efa.249ff8","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"tillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":600,"wires":[["3f939eb4.55f552"]]},{"id":"5c7b7f6.2af088","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"tillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1610,"y":640,"wires":[["3f939eb4.55f552"]]},{"id":"b919b93f.2b4038","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":32,"width":"5","height":"1","name":"05 spacer2","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1530,"y":420,"wires":[]},{"id":"ac5a9910.15c43","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":35,"width":"2","height":"1","name":"06 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1850,"y":860,"wires":[]},{"id":"cf37c1e2.1647","type":"ui_switch","z":"88113769.280aa8","name":"06 act.switch","label":"","tooltip":"","group":"81b8a460.9485c8","order":36,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"hot_tub","oncolor":"red","offvalue":"OFF","offvalueType":"str","officon":"ac_unit","offcolor":"grey","x":1520,"y":880,"wires":[["53fb3916.995e68"]]},{"id":"aaa9e766.8af9","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":38,"width":"6","height":"1","name":"06 Volts.","label":"Volts.","format":"{{msg.payload}}","layout":"row-spread","x":1220,"y":840,"wires":[]},{"id":"d908f5c4.02588","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":34,"width":"4","height":"1","name":"06 Temperature control:","label":"Temperature control:","format":"{{msg.payload}}","layout":"row-spread","x":2050,"y":860,"wires":[]},{"id":"69e97ac4.238a9c","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":41,"width":"4","height":"1","name":"07 Fan:","label":"Fan:","format":"{{msg.payload}}","layout":"row-spread","x":700,"y":1060,"wires":[]},{"id":"720d1ecf.6826f","type":"ui_switch","z":"88113769.280aa8","name":"07 enable switch","label":"","tooltip":"","group":"81b8a460.9485c8","order":43,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"toys","oncolor":"green","offvalue":"OFF","offvalueType":"str","officon":"radio_button_unchecked","offcolor":"grey","x":910,"y":1060,"wires":[["7e08097e.6b875","68712251.3940e4"]]},{"id":"68712251.3940e4","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":42,"width":"2","height":"1","name":"07 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1230,"y":1060,"wires":[]},{"id":"7e08097e.6b875","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"FANstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1020,"wires":[[]]},{"id":"ec0e502b.952cc","type":"ui_numeric","z":"88113769.280aa8","name":"07 and set to 100","label":"and set to","tooltip":"","group":"81b8a460.9485c8","order":44,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"255","step":"1","x":1590,"y":1020,"wires":[["2af2d45f.3a1214","7e801b16.b67b04"]]},{"id":"2af2d45f.3a1214","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"intFAN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1780,"y":1000,"wires":[[]]},{"id":"43ab0899.ad7e88","type":"ui_button","z":"88113769.280aa8","name":"07 OK","group":"81b8a460.9485c8","order":45,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1430,"y":1100,"wires":[["64ea117f.0d79"]]},{"id":"871672ac.052ef","type":"ui_numeric","z":"88113769.280aa8","name":"08 add delay","label":"Add growing delay of","tooltip":"","group":"81b8a460.9485c8","order":47,"width":"6","height":"1","passthru":true,"topic":"setpoint","format":"{{value}}","min":"0","max":"100","step":"1","x":870,"y":1180,"wires":[["4ecb0b72.1fb364"]]},{"id":"94ce1f8.973dde","type":"ui_dropdown","z":"88113769.280aa8","name":"08 hour","label":"","tooltip":"","place":"Select option","group":"81b8a460.9485c8","order":48,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1060,"y":1180,"wires":[["f72523c3.28dec8"]]},{"id":"4ecb0b72.1fb364","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"delay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":1220,"wires":[["3b8ec41f.843654"]]},{"id":"6f5b9dac.03eabc","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"delayunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1090,"y":1220,"wires":[["3b8ec41f.843654"]]},{"id":"c8a19e22.ffb3e8","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":49,"width":"8","height":"1","name":"08 finalspacer","label":"(during which no BL measure will be made).","format":"{{msg.payload}}","layout":"row-spread","x":1240,"y":1140,"wires":[]},{"id":"2dc1ccb1.4f108c","type":"ui_text_input","z":"88113769.280aa8","name":"09 DETAILS","label":"DETAILS:","tooltip":"","group":"81b8a460.9485c8","order":52,"width":"16","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1110,"y":2560,"wires":[["f792d7.c5be2d28"]]},{"id":"732d0377.129504","type":"ui_text_input","z":"88113769.280aa8","name":"10 Nickname","label":"Nickname:","tooltip":"","group":"81b8a460.9485c8","order":54,"width":"4","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1120,"y":2600,"wires":[["a185b788.daea68"]]},{"id":"9c6d5ea5.7f8f7","type":"inject","z":"88113769.280aa8","name":"","topic":"","payload":"eV01_","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":830,"y":2600,"wires":[["2f11b293.7f41d6"]]},{"id":"e30c0845.e2864","type":"ui_button","z":"88113769.280aa8","name":"10 LAUNCH EXP","group":"81b8a460.9485c8","order":55,"width":"10","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"bool","topic":"","x":310,"y":1900,"wires":[["e713b3f2.090e","84c0fa6e.1137e8","a8bda3c7.a87828","a8f5dc22.2d553","6f3a3750.76dea","9857bb64.5b7be8","abe55100.768a78"]]},{"id":"1adb0a3c.104a2e","type":"function","z":"88113769.280aa8","name":"","func":"msg.label=\"Running...\";\nmsg.background=\"#FFC300\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1600,"wires":[["e30c0845.e2864"]]},{"id":"caed4f11.e2e6b","type":"function","z":"88113769.280aa8","name":"","func":"msg.label=\"LAUNCH EXPERIMENT\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1520,"wires":[["e30c0845.e2864"]]},{"id":"c56c811.9eb8b","type":"inject","z":"88113769.280aa8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":210,"y":1640,"wires":[["a8f5dc22.2d553"]]},{"id":"da6e4927.dd887","type":"ui_button","z":"88113769.280aa8","name":"10 RESET","group":"81b8a460.9485c8","order":57,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"reset","payloadType":"str","topic":"","x":1610,"y":1480,"wires":[["d4ba00b4.fbb2a","38911d16.29c04a","8d27e94e.e0d71","addbf48.2b9a008"]]},{"id":"d4ba00b4.fbb2a","type":"function","z":"88113769.280aa8","name":"","func":"msg.label=\"Reseting...\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1520,"wires":[["da6e4927.dd887","224961cc.49705e"]]},{"id":"e05f3118.86f9a","type":"function","z":"88113769.280aa8","name":"","func":"msg.label=\"RESET\";\nmsg.background=\"grey\";\nreturn msg;","outputs":1,"noerr":0,"x":1750,"y":1660,"wires":[["da6e4927.dd887"]]},{"id":"705b64e3.1bac4c","type":"inject","z":"88113769.280aa8","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1630,"y":1680,"wires":[["e05f3118.86f9a"]]},{"id":"224961cc.49705e","type":"delay","z":"88113769.280aa8","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1560,"wires":[["35dee3f.1a6b59c"]]},{"id":"35dee3f.1a6b59c","type":"function","z":"88113769.280aa8","name":"","func":"msg.label=\"SUCCESS\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1600,"wires":[["4c4d68a.9a20d98","da6e4927.dd887"]]},{"id":"4c4d68a.9a20d98","type":"delay","z":"88113769.280aa8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1640,"wires":[["e05f3118.86f9a"]]},{"id":"eb13764d.0569","type":"function","z":"88113769.280aa8","name":"","func":"msg.label=\"Halted experiment\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1560,"wires":[["e30c0845.e2864"]]},{"id":"abc79934.05c7e","type":"ui_button","z":"88113769.280aa8","name":"10 STOP","group":"81b8a460.9485c8","order":56,"width":"4","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"str","topic":"","x":860,"y":1540,"wires":[["b437718b.b7b84"]]},{"id":"e9068155.e0bcc8","type":"function","z":"88113769.280aa8","name":"","func":"msg.label=\"Stopped.\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":1580,"wires":[["abc79934.05c7e"]]},{"id":"61442df8.c99274","type":"inject","z":"88113769.280aa8","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":710,"y":1500,"wires":[["cc170995.119358"]]},{"id":"cc170995.119358","type":"function","z":"88113769.280aa8","name":"","func":"msg.label=\"STOP\";\nmsg.background=\"#cb4335\";\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1500,"wires":[["abc79934.05c7e"]]},{"id":"66d13162.228c","type":"comment","z":"88113769.280aa8","name":"Launch TODOs","info":"Turn off and disable all above switches\ndisable the launch button\nCA MARCHE PAS","x":840,"y":2080,"wires":[]},{"id":"6e983d20.95979c","type":"comment","z":"88113769.280aa8","name":"Reset TODOs","info":"Enable anew all above switches\nReset all default values in exp menu\nBlink LEDs as indicators ;)","x":1440,"y":1660,"wires":[]},{"id":"b416498f.dd2708","type":"comment","z":"88113769.280aa8","name":"Stop TODOs","info":"","x":850,"y":1420,"wires":[]},{"id":"d592b11b.5b0a28","type":"simpletime","z":"88113769.280aa8","name":"","x":910,"y":2360,"wires":[["e440271e.e88bb8","2165ee4e.f461ea"]]},{"id":"e440271e.e88bb8","type":"function","z":"88113769.280aa8","name":"20190417_172653_nickname/...","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\")+\"/\"+msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1180,"y":2360,"wires":[["382735f1.4e459a","a386ee6e.61ac","8aacedec.fe3ba8","3789bb0d.00ac04"]]},{"id":"8aacedec.fe3ba8","type":"join","z":"88113769.280aa8","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2400,"wires":[["15b2edc8.999d32"]]},{"id":"382735f1.4e459a","type":"join","z":"88113769.280aa8","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2440,"wires":[["aa2a89c7.3c3c98"]]},{"id":"a386ee6e.61ac","type":"join","z":"88113769.280aa8","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2480,"wires":[["c2fbaf9f.fc5b88"]]},{"id":"6211d2f3.0510a4","type":"function","z":"88113769.280aa8","name":"/home/lab513/Desktop/eVOLVER_data/","func":"if (msg.payload){\n    msg.payload=\"/home/lab513/Desktop/eVOLVER_data/\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":2320,"wires":[["8aacedec.fe3ba8","382735f1.4e459a","a386ee6e.61ac","3789bb0d.00ac04"]]},{"id":"f4e33b31.b377c","type":"delay","z":"88113769.280aa8","name":"","pauseType":"delay","timeout":"0.2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2360,"wires":[["d592b11b.5b0a28"]]},{"id":"7745b4e.9ffcb4c","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"nickname","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":2600,"wires":[[]]},{"id":"ab615017.c08288","type":"function","z":"88113769.280aa8","name":".IR","func":"if (msg.payload){\n    msg.payload=\".IR\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2400,"wires":[["8aacedec.fe3ba8"]]},{"id":"48c5889d.a9602","type":"function","z":"88113769.280aa8","name":".BL","func":"if (msg.payload){\n    msg.payload=\".BL\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2440,"wires":[["382735f1.4e459a"]]},{"id":"a32cc38a.63d4f","type":"function","z":"88113769.280aa8","name":".Temp","func":"if (msg.payload){\n    msg.payload=\".Temp\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2480,"wires":[["a386ee6e.61ac"]]},{"id":"e713b3f2.090e","type":"function","z":"88113769.280aa8","name":"Creates Files:","func":"\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":2280,"wires":[["f4e33b31.b377c","1d733b7e.085a45","7f98181a.b6c138","7eabe58e.022654","9d87f7ce.2dc548","d517548e.af691","95924ef9.27919"]]},{"id":"7eabe58e.022654","type":"delay","z":"88113769.280aa8","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2400,"wires":[["ab615017.c08288"]]},{"id":"9d87f7ce.2dc548","type":"delay","z":"88113769.280aa8","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2440,"wires":[["48c5889d.a9602"]]},{"id":"d517548e.af691","type":"delay","z":"88113769.280aa8","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2480,"wires":[["a32cc38a.63d4f"]]},{"id":"1d733b7e.085a45","type":"function","z":"88113769.280aa8","name":"reset","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":2280,"wires":[["15b2edc8.999d32","aa2a89c7.3c3c98","c2fbaf9f.fc5b88","a2755390.ede1d"]]},{"id":"7f98181a.b6c138","type":"delay","z":"88113769.280aa8","name":"","pauseType":"delay","timeout":"0.1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2320,"wires":[["6211d2f3.0510a4"]]},{"id":"a185b788.daea68","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2600,"wires":[["7745b4e.9ffcb4c"]]},{"id":"15b2edc8.999d32","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"FileNameIR","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1500,"y":2400,"wires":[[]]},{"id":"aa2a89c7.3c3c98","type":"change","z":"88113769.280aa8","name":"FileNameBL","rules":[{"t":"set","p":"FileNameBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1470,"y":2440,"wires":[[]]},{"id":"c2fbaf9f.fc5b88","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"FileNameTemp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":2480,"wires":[[]]},{"id":"3789bb0d.00ac04","type":"join","z":"88113769.280aa8","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2520,"wires":[["a2755390.ede1d"]]},{"id":"470b20ac.f11e78","type":"function","z":"88113769.280aa8","name":".readme","func":"if (msg.payload){\n    msg.payload=\".readme\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":2520,"wires":[["3789bb0d.00ac04"]]},{"id":"95924ef9.27919","type":"delay","z":"88113769.280aa8","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2520,"wires":[["470b20ac.f11e78"]]},{"id":"a2755390.ede1d","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"FileNameReadme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":2520,"wires":[[]]},{"id":"99bc69e1.abcca8","type":"inject","z":"88113769.280aa8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":810,"y":2560,"wires":[["64423f2e.5d25f8"]]},{"id":"f792d7.c5be2d28","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2560,"wires":[["7511e3b7.9330c4"]]},{"id":"7511e3b7.9330c4","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"readme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1480,"y":2560,"wires":[[]]},{"id":"2165ee4e.f461ea","type":"function","z":"88113769.280aa8","name":"displayname","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":2640,"wires":[["d27fc968.b7368"]]},{"id":"d27fc968.b7368","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":2,"width":"15","height":"1","name":"00 Running","label":"Running:","format":"{{msg.payload}}","layout":"row-left","x":1310,"y":2640,"wires":[]},{"id":"c8184217.c698e8","type":"inject","z":"88113769.280aa8","name":"","topic":"","payload":"-","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":890,"y":2640,"wires":[["1d06e55a.ace433"]]},{"id":"b437718b.b7b84","type":"function","z":"88113769.280aa8","name":"STOP ACTIONS:","func":"msg.payload=false;\nreturn msg;\n\n//this function allows the fact that the\n//reset button first does the stop action\n//and then resets the buttons etc","outputs":1,"noerr":0,"x":1050,"y":1560,"wires":[["eb13764d.0569","e9068155.e0bcc8","a5aae14b.f169d8","f42092e3.86fdd","b1d6c5f2.6cbf2"]]},{"id":"38911d16.29c04a","type":"delay","z":"88113769.280aa8","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":300,"y":1480,"wires":[["caed4f11.e2e6b"]]},{"id":"8d27e94e.e0d71","type":"delay","z":"88113769.280aa8","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":850,"y":1460,"wires":[["cc170995.119358"]]},{"id":"72ee99b0.74d73","type":"function","z":"88113769.280aa8","name":"disable/enable switches","func":"if (msg.payload===\"launch\"){\n    msg.enabled=false;\n}\nelse if (msg.payload===0){\n    msg.enabled=true;\n}\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":2080,"wires":[[]]},{"id":"1d06e55a.ace433","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=\"-\";\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":2640,"wires":[["d27fc968.b7368"]]},{"id":"84c0fa6e.1137e8","type":"delay","z":"88113769.280aa8","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":560,"y":2800,"wires":[["f9381cc8.5be64","25a0deb7.a45802","e3812adc.e7fb2","5cb23810.4cde4","c6a9d760.dfbde8","dec25ed1.7d3f88","f3d81b48.5ee79","21ded0ca.3fab"]]},{"id":"c57d6c6d.0e44a","type":"file","z":"88113769.280aa8","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3420,"wires":[[]]},{"id":"89ec848d.540fe8","type":"file","z":"88113769.280aa8","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3380,"wires":[[]]},{"id":"7f1c6b42.47bb0c","type":"file","z":"88113769.280aa8","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3460,"wires":[[]]},{"id":"ad969786.2da538","type":"switch","z":"88113769.280aa8","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3420,"wires":[["6f2f59ff.283388"]]},{"id":"25a0deb7.a45802","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"StoreInFile","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":3340,"wires":[[]]},{"id":"9e1b3492.d726d8","type":"comment","z":"88113769.280aa8","name":"Allows storage in the filenames","info":"","x":1050,"y":3340,"wires":[]},{"id":"56857311.9ca99c","type":"arduino in","z":"88113769.280aa8","name":"Blue Light Sensor","pin":"2","state":"ANALOG","arduino":"12b5e3c.f07cb1c","x":790,"y":3420,"wires":[["5b72af04.f541a"]]},{"id":"2555391b.7ee856","type":"arduino in","z":"88113769.280aa8","name":"IR Sensor","pin":"1","state":"ANALOG","arduino":"12b5e3c.f07cb1c","x":760,"y":3380,"wires":[["e87f0e63.3dac2"]]},{"id":"5b72af04.f541a","type":"delay","z":"88113769.280aa8","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3420,"wires":[["ad969786.2da538","92a00f65.dd0be"]]},{"id":"e87f0e63.3dac2","type":"delay","z":"88113769.280aa8","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3380,"wires":[["eb1cfc1e.483738","1e8faeb8.ab5af1"]]},{"id":"9835277.e314dd8","type":"delay","z":"88113769.280aa8","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3460,"wires":[["ae3b7046.673818","3e852fa7.14dd58"]]},{"id":"eb1cfc1e.483738","type":"switch","z":"88113769.280aa8","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3380,"wires":[["e926b0c2.e5ffb"]]},{"id":"ae3b7046.673818","type":"switch","z":"88113769.280aa8","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3460,"wires":[["405d2f58.8af5d"]]},{"id":"9522d99b.12e08","type":"inject","z":"88113769.280aa8","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":330,"y":3340,"wires":[["34539c91.7a944c"]]},{"id":"f9381cc8.5be64","type":"function","z":"88113769.280aa8","name":"readme","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=flow.get(\"readme\")+\"\\n\"+\n    \"measOD \"+flow.get(\"measOD\").toString()+\"\\n\"+\n    \"measODunits \"+flow.get(\"measODunits\").toString()+\"\\n\"+\n    \"measODtotal \"+flow.get(\"measODtotal\").toString()+\"\\n\"+\n    \n    \"measBL \"+flow.get(\"measBL\").toString()+\"\\n\"+\n    \"measBLunits \"+flow.get(\"measBLunits\").toString()+\"\\n\"+\n    \"measBLtotal \"+flow.get(\"measBLtotal\").toString()+\"\\n\"+\n    \n    \"intBL \"+flow.get(\"intBL\").toString()+\"\\n\"+\n    \n    \"pillBL \"+flow.get(\"pillBL\").toString()+\"\\n\"+\n    \"pillBLunits \"+flow.get(\"pillBLunits\").toString()+\"\\n\"+\n    \"pillBLtotal \"+flow.get(\"pillBLtotal\").toString()+\"\\n\"+\n    \n    \"tillBL \"+flow.get(\"tillBL\").toString()+\"\\n\"+\n    \"tillBLunits \"+flow.get(\"tillBLunits\").toString()+\"\\n\"+\n    \"tillBLtotal \"+flow.get(\"tillBLtotal\").toString()+\"\\n\"+\n    \n    \"Temp \"+flow.get(\"Temp\").toString()+\"\\n\"+\n    \"PID \"+flow.get(\"PID\").toString()+\"\\n\"+\n    \n    \"FANstate \"+flow.get(\"FANstate\").toString()+\"\\n\"+\n    \"intFAN \"+flow.get(\"intFAN\").toString()+\"\\n\"+\n    \n    \"delay \"+flow.get(\"delay\").toString()+\"\\n\"+\n    \"delayunits \"+flow.get(\"delayunits\").toString()+\"\\n\"+\n    \"delaytotal \"+flow.get(\"delaytotal\").toString()+\"\\n\";\n\n//msg.myepoch=msg.myepoch.toString();\n//msg.payload=msg.payload+\";\"+msg.myepoch;\n\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":2940,"wires":[["96c65553.150878"]]},{"id":"96c65553.150878","type":"file","z":"88113769.280aa8","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":890,"y":2940,"wires":[[]]},{"id":"e926b0c2.e5ffb","type":"simpletime","z":"88113769.280aa8","name":"","x":1330,"y":3380,"wires":[["bb54a407.77396"]]},{"id":"bb54a407.77396","type":"function","z":"88113769.280aa8","name":"IR+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameIR\");\nreturn msg;","outputs":1,"noerr":0,"x":1480,"y":3380,"wires":[["89ec848d.540fe8"]]},{"id":"6f2f59ff.283388","type":"simpletime","z":"88113769.280aa8","name":"","x":1330,"y":3420,"wires":[["ad855bc2.2e15e8"]]},{"id":"ad855bc2.2e15e8","type":"function","z":"88113769.280aa8","name":"BL+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameBL\");\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":3420,"wires":[["c57d6c6d.0e44a"]]},{"id":"405d2f58.8af5d","type":"simpletime","z":"88113769.280aa8","name":"","x":1330,"y":3460,"wires":[["af96710c.7fcaf8"]]},{"id":"af96710c.7fcaf8","type":"function","z":"88113769.280aa8","name":"Temp+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameTemp\");\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":3460,"wires":[["7f1c6b42.47bb0c"]]},{"id":"64423f2e.5d25f8","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2560,"wires":[["2dc1ccb1.4f108c"]]},{"id":"2f11b293.7f41d6","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=\"eV01_\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2600,"wires":[["732d0377.129504"]]},{"id":"631fccc3.13e81c","type":"function","z":"88113769.280aa8","name":"(reset)","func":"\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":2600,"wires":[["64423f2e.5d25f8","2f11b293.7f41d6","1d06e55a.ace433"]]},{"id":"a8bda3c7.a87828","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=\"launch\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":2040,"wires":[["72ee99b0.74d73"]]},{"id":"34539c91.7a944c","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3340,"wires":[["25a0deb7.a45802"]]},{"id":"e3812adc.e7fb2","type":"function","z":"88113769.280aa8","name":"255","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":750,"y":3640,"wires":[["e622b66f.19fb58","3c40774f.f008c"]]},{"id":"e622b66f.19fb58","type":"function","z":"88113769.280aa8","name":"measODtotal","func":"msg.delay=flow.get(\"measODtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":780,"y":3680,"wires":[["b5ecabd0.6fbdc8"]]},{"id":"b5ecabd0.6fbdc8","type":"delay","z":"88113769.280aa8","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":3720,"wires":[["e3812adc.e7fb2"]]},{"id":"80cdef1.681ce9","type":"function","z":"88113769.280aa8","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3640,"wires":[["b5ecabd0.6fbdc8","3c40774f.f008c"]]},{"id":"3c40774f.f008c","type":"trigger","z":"88113769.280aa8","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1050,"y":3640,"wires":[["ae43852a.05f2b8","d8512a9d.ec2208","99954cd9.cd823"]]},{"id":"ae43852a.05f2b8","type":"function","z":"88113769.280aa8","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":3640,"wires":[["77440464.1cb534"]]},{"id":"d8512a9d.ec2208","type":"arduino out","z":"88113769.280aa8","name":"IR17","pin":"5","state":"PWM","arduino":"12b5e3c.f07cb1c","x":1810,"y":3680,"wires":[]},{"id":"c419fd97.18966","type":"switch","z":"88113769.280aa8","name":"lance ventilo","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"gt","v":"160","vt":"num"},{"t":"btwn","v":"0","vt":"num","v2":"160","v2t":"num"}],"checkall":"false","repair":false,"outputs":3,"x":1470,"y":3820,"wires":[["fd288abb.c846c"],["fd288abb.c846c"],["45fd2e48.1d8b18","63472bf5.eadd0c"]],"info":"Coz the ventilo wont start if the value is \nbelow 160.\nTo have a value below 160, we need to start w\na bigger value and THEN get down in value"},{"id":"fd288abb.c846c","type":"arduino out","z":"88113769.280aa8","name":"Fan","pin":"9","state":"PWM","arduino":"12b5e3c.f07cb1c","x":1810,"y":3800,"wires":[]},{"id":"63472bf5.eadd0c","type":"function","z":"88113769.280aa8","name":"200","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":1630,"y":3840,"wires":[["fd288abb.c846c"]]},{"id":"45fd2e48.1d8b18","type":"delay","z":"88113769.280aa8","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":3880,"wires":[["fd288abb.c846c"]]},{"id":"77440464.1cb534","type":"arduino out","z":"88113769.280aa8","name":"BL17","pin":"6","state":"PWM","arduino":"12b5e3c.f07cb1c","x":1810,"y":3740,"wires":[]},{"id":"addbf48.2b9a008","type":"link out","z":"88113769.280aa8","name":"RESET17->","links":["c477ad3a.e59438","3e357fbe.d0bb08","e0ebfaba.0ae03","440a2d2c.698774","3742e0c8.bcab08","b9fa99c.24e2868","9b3e4119.84a748","948bae02.d8b248"],"x":1755,"y":1480,"wires":[]},{"id":"c477ad3a.e59438","type":"link in","z":"88113769.280aa8","name":"->Nickname&details","links":["addbf48.2b9a008"],"x":595,"y":2560,"wires":[["631fccc3.13e81c"]]},{"id":"d9df23e5.ad9068","type":"link in","z":"88113769.280aa8","name":"->StoreInFile","links":["a5aae14b.f169d8"],"x":375,"y":3300,"wires":[["34539c91.7a944c"]]},{"id":"29ab9da8.75aed2","type":"link in","z":"88113769.280aa8","name":"->ODmeas","links":["a5aae14b.f169d8"],"x":395,"y":3640,"wires":[["80cdef1.681ce9"]]},{"id":"3e357fbe.d0bb08","type":"link in","z":"88113769.280aa8","name":"->stop","links":["addbf48.2b9a008"],"x":875,"y":1620,"wires":[["b437718b.b7b84"]]},{"id":"ca5f5d8b.77f0a8","type":"function","z":"88113769.280aa8","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1740,"y":260,"wires":[["2d1cba7e.fe86ee"]]},{"id":"2e760b78.a64efc","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"measOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":260,"wires":[["db8658fd.8b2"]]},{"id":"2d1cba7e.fe86ee","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"measODunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":260,"wires":[["db8658fd.8b2"]]},{"id":"db8658fd.8b2","type":"function","z":"88113769.280aa8","name":"multiply","func":"msg.payload=flow.get(\"measOD\")*flow.get(\"measODunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2100,"y":260,"wires":[["8801f3be.0af61"]]},{"id":"ef7c0be5.11b3f","type":"function","z":"88113769.280aa8","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1760,"y":380,"wires":[["678fa398.3bd35c"]]},{"id":"9512c29c.9d63d8","type":"function","z":"88113769.280aa8","name":"multiply","func":"msg.payload=flow.get(\"measBL\")*flow.get(\"measBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2120,"y":380,"wires":[["b830110a.837b28"]]},{"id":"b830110a.837b28","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"measBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":380,"wires":[["79f58468.79d3f4"]]},{"id":"d32e8c29.983ca","type":"function","z":"88113769.280aa8","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1100,"y":600,"wires":[["d2335033.0f0288"]]},{"id":"8ec4353f.d6e468","type":"function","z":"88113769.280aa8","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":600,"wires":[["5c7b7f6.2af088"]]},{"id":"c63cbb9c.df41b","type":"function","z":"88113769.280aa8","name":"multiply","func":"msg.payload=flow.get(\"pillBL\")*flow.get(\"pillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1000,"y":700,"wires":[["18a5efe7.dd1978"]]},{"id":"18a5efe7.dd1978","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"pillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1170,"y":700,"wires":[["c424c67e.b9c5b"]]},{"id":"3f939eb4.55f552","type":"function","z":"88113769.280aa8","name":"multiply","func":"msg.payload=flow.get(\"tillBL\")*flow.get(\"tillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":700,"wires":[["3245f2b8.38a10e"]]},{"id":"3245f2b8.38a10e","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"tillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":700,"wires":[[]]},{"id":"3b8ec41f.843654","type":"function","z":"88113769.280aa8","name":"multiply","func":"msg.payload=flow.get(\"delay\")*flow.get(\"delayunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":1220,"wires":[["44d7bdd6.a53abc"]]},{"id":"44d7bdd6.a53abc","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"delaytotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":1220,"wires":[["f5c6f10b.70e91"]]},{"id":"f72523c3.28dec8","type":"function","z":"88113769.280aa8","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1180,"wires":[["6f5b9dac.03eabc"]]},{"id":"a5aae14b.f169d8","type":"link out","z":"88113769.280aa8","name":"STOP17.false","links":["fdaa34d9.3dd338","29ab9da8.75aed2","5601775d.b49ea","d9df23e5.ad9068","22c1b520.54d892","122d222e.852936","37a402e1.33d69e","c07bb408.f72af","55547398.55dc24","6dc30ec0.1c31c8"],"x":1235,"y":1580,"wires":[]},{"id":"99954cd9.cd823","type":"function","z":"88113769.280aa8","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":3680,"wires":[["c419fd97.18966"]]},{"id":"987b5dc8.67057","type":"comment","z":"88113769.280aa8","name":"OD mesaurements","info":"","x":790,"y":3600,"wires":[]},{"id":"6b668705.efafd8","type":"function","z":"88113769.280aa8","name":"255","func":"if (flow.get(\"measBLtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":910,"y":4220,"wires":[["b68ae2fa.ca1ea","e16e42d6.1ebdc"]]},{"id":"b68ae2fa.ca1ea","type":"function","z":"88113769.280aa8","name":"measBLtotal","func":"msg.delay=flow.get(\"measBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":4280,"wires":[["cea3e063.31be28"]]},{"id":"cea3e063.31be28","type":"delay","z":"88113769.280aa8","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1050,"y":4320,"wires":[["6b668705.efafd8"]]},{"id":"547f726b.fb84ac","type":"trigger","z":"88113769.280aa8","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1350,"y":4240,"wires":[["f4a69710.f48798","f80dca13.02f13"]]},{"id":"77e198bc.1034d","type":"comment","z":"88113769.280aa8","name":"BL mesaurements","info":"","x":910,"y":4180,"wires":[]},{"id":"e16e42d6.1ebdc","type":"delay","z":"88113769.280aa8","name":"","pauseType":"delay","timeout":"7","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1180,"y":4200,"wires":[["547f726b.fb84ac","ba7518e1.9dc658"]]},{"id":"cc5ab907.2271b8","type":"function","z":"88113769.280aa8","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":4220,"wires":[["cea3e063.31be28","547f726b.fb84ac","e16e42d6.1ebdc","a0da54aa.3649c8","45fd2e48.1d8b18"]]},{"id":"5601775d.b49ea","type":"link in","z":"88113769.280aa8","name":"->BLmeas","links":["a5aae14b.f169d8"],"x":335,"y":4220,"wires":[["cc5ab907.2271b8"]]},{"id":"f80dca13.02f13","type":"function","z":"88113769.280aa8","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":4220,"wires":[["77440464.1cb534"]]},{"id":"f4a69710.f48798","type":"function","z":"88113769.280aa8","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":4260,"wires":[["c419fd97.18966"]]},{"id":"f42092e3.86fdd","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1540,"wires":[["7af1923f.af26c4"]]},{"id":"7af1923f.af26c4","type":"link out","z":"88113769.280aa8","name":"STOP17.0","links":["1479010f.cf267f","df0a8d36.e0cce","c58951a5.56b19","1291ff9.913f38","48c11f9d.37dde","7b3e4ac7.65d3e4"],"x":1295,"y":1540,"wires":[]},{"id":"1479010f.cf267f","type":"link in","z":"88113769.280aa8","name":"->IT,BL,FAN","links":["7af1923f.af26c4"],"x":1475,"y":3640,"wires":[["77440464.1cb534","d8512a9d.ec2208","fd288abb.c846c"]]},{"id":"b93291a4.d11c18","type":"ui_button","z":"88113769.280aa8","name":"02 OD realtime value","group":"81b8a460.9485c8","order":11,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3380,"wires":[[]]},{"id":"1e8faeb8.ab5af1","type":"function","z":"88113769.280aa8","name":"","func":"msg.label=msg.payload;\nif (msg.payload>150){\n    msg.background=\"red\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3380,"wires":[["b93291a4.d11c18"]]},{"id":"92a00f65.dd0be","type":"function","z":"88113769.280aa8","name":"","func":"msg.label=msg.payload;\nif (msg.payload>300){\n    msg.background=\"#44cff1\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3420,"wires":[["4d143b06.70eca4"]]},{"id":"4d143b06.70eca4","type":"ui_button","z":"88113769.280aa8","name":"03 BL realtime value","group":"81b8a460.9485c8","order":18,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3420,"wires":[[]]},{"id":"64a54561.74f344","type":"comment","z":"88113769.280aa8","name":"Display:","info":"","x":1800,"y":3340,"wires":[]},{"id":"a0da54aa.3649c8","type":"delay","z":"88113769.280aa8","name":"","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":3900,"wires":[["c9c6d8f4.91e5d8"]]},{"id":"c9c6d8f4.91e5d8","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=true;\nreturn msg;\n\n","outputs":1,"noerr":0,"x":750,"y":3940,"wires":[["6b668705.efafd8","cc054199.e54388","e46bdecf.ef1028","6555a9f5.a502b8"]]},{"id":"5cb23810.4cde4","type":"function","z":"88113769.280aa8","name":"","func":"msg.delay=flow.get(\"delaytotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3860,"wires":[["a0da54aa.3649c8","e680773.72ccb08","6555a9f5.a502b8"]]},{"id":"e680773.72ccb08","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3880,"wires":[["9d52c08c.3f9b58"]]},{"id":"b937e14b.3c8d9","type":"comment","z":"88113769.280aa8","name":"growth delay","info":"","x":770,"y":3820,"wires":[]},{"id":"6605a0c7.0d97d8","type":"function","z":"88113769.280aa8","name":"","func":"msg.delay=flow.get(\"tillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4740,"wires":[["d1f88b69.8d8258"]]},{"id":"d1f88b69.8d8258","type":"delay","z":"88113769.280aa8","name":"part","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4740,"wires":[["2f1bd703.7f0b98"]]},{"id":"cc054199.e54388","type":"function","z":"88113769.280aa8","name":"","func":"if (flow.get(\"pillBLtotal\") === 0 || flow.get(\"tillBLtotal\") === 0){\n    return;\n}\nelse{\n    msg.payload=flow.get(\"intBL\");\n    msg.state=\"ON\";\n    return msg;\n}\n\n\n","outputs":1,"noerr":0,"x":910,"y":4600,"wires":[["6605a0c7.0d97d8","f82c28a0.2f5838","b915d2f.21b9eb","83b39381.f84e38","db100355.4f7e18"]]},{"id":"2f1bd703.7f0b98","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=0;\nmsg.state=\"OFF\";\nreturn msg;\n","outputs":1,"noerr":0,"x":1010,"y":4740,"wires":[["b915d2f.21b9eb","83b39381.f84e38","db100355.4f7e18"]]},{"id":"f82c28a0.2f5838","type":"function","z":"88113769.280aa8","name":"","func":"msg.delay=flow.get(\"pillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4700,"wires":[["4a5debd5.a6a75c"]]},{"id":"4a5debd5.a6a75c","type":"delay","z":"88113769.280aa8","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4700,"wires":[["cc054199.e54388"]]},{"id":"81692064.96a47","type":"function","z":"88113769.280aa8","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":4620,"wires":[["4a5debd5.a6a75c","d1f88b69.8d8258","e1495787.92fdf8","db100355.4f7e18"]]},{"id":"4e5e5947.2b895","type":"comment","z":"88113769.280aa8","name":"Cycle w sous cycle la: cool pr la blue LED","info":"","x":990,"y":4500,"wires":[]},{"id":"fdaa34d9.3dd338","type":"link in","z":"88113769.280aa8","name":"->BLcycle","links":["a5aae14b.f169d8"],"x":635,"y":4620,"wires":[["81692064.96a47"]]},{"id":"b915d2f.21b9eb","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"BLstate","pt":"flow","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":4560,"wires":[[]]},{"id":"77432324.91a284","type":"inject","z":"88113769.280aa8","name":"","topic":"","payload":"OFF","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":890,"y":4540,"wires":[["e1495787.92fdf8"]]},{"id":"c6a9d760.dfbde8","type":"function","z":"88113769.280aa8","name":"for FAN","func":"if (flow.get(\"FANstate\")===\"ON\"){\n    msg.payload=flow.get(\"intFAN\");\n}\nelse if (flow.get(\"FANstate\")===\"OFF\"){\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":3000,"wires":[["8726089.578a378"]]},{"id":"df0a8d36.e0cce","type":"link in","z":"88113769.280aa8","name":"->PID","links":["7af1923f.af26c4"],"x":455,"y":3140,"wires":[["dec25ed1.7d3f88"]]},{"id":"a8f5dc22.2d553","type":"function","z":"88113769.280aa8","name":"","func":"msg.label=\"Initialization\";\nmsg.background=\"#f39c12\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1640,"wires":[["e30c0845.e2864"]]},{"id":"6f3a3750.76dea","type":"delay","z":"88113769.280aa8","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":200,"y":1600,"wires":[["1adb0a3c.104a2e"]]},{"id":"f3a649c1.c94f98","type":"ui_button","z":"88113769.280aa8","name":"06 Temp realtime value","group":"81b8a460.9485c8","order":39,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1970,"y":3460,"wires":[[]]},{"id":"3e852fa7.14dd58","type":"function","z":"88113769.280aa8","name":"","func":"msg.label=msg.payload;\nif (flow.get(\"PIDstate\")>0){\n    msg.background=\"#fdedec\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3460,"wires":[["f3a649c1.c94f98"]]},{"id":"67947e67.29a048","type":"ui_button","z":"88113769.280aa8","name":"05 BLstate","group":"81b8a460.9485c8","order":27,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1470,"y":4600,"wires":[[]]},{"id":"83b39381.f84e38","type":"function","z":"88113769.280aa8","name":"","func":"msg.label=msg.state;\nif (msg.label===\"ON\"){\n    msg.background=\"#ebf5fb\";\n}\nelse if (msg.label===\"OFF\"){\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":4600,"wires":[["67947e67.29a048"]]},{"id":"e1495787.92fdf8","type":"function","z":"88113769.280aa8","name":"","func":"msg.state=\"OFF\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":4540,"wires":[["b915d2f.21b9eb","83b39381.f84e38"]]},{"id":"571a36d2.453728","type":"function","z":"88113769.280aa8","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"pillBLtotal\")/1000-(msg.count%(flow.get(\"pillBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":620,"wires":[["4f12ed6e.b036e4"]]},{"id":"81c882c4.aba21","type":"ui_button","z":"88113769.280aa8","name":"04 pillBL Cycle counter","group":"81b8a460.9485c8","order":26,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3330,"y":600,"wires":[[]]},{"id":"c424c67e.b9c5b","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=flow.get(\"pillBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":580,"wires":[["4f12ed6e.b036e4","f5c6f10b.70e91"]]},{"id":"6667edb2.0ace6c","type":"counter","z":"88113769.280aa8","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":680,"wires":[["571a36d2.453728"]]},{"id":"60a66e7e.4df2d8","type":"function","z":"88113769.280aa8","name":"","func":"if (flow.get(\"counterpillBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"counterpillBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":640,"wires":[["6667edb2.0ace6c"]]},{"id":"e46bdecf.ef1028","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"counterpillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":4460,"wires":[[]]},{"id":"45b5ac4e.b349fc","type":"inject","z":"88113769.280aa8","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4480,"wires":[["895dde26.e5b638"]]},{"id":"895dde26.e5b638","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4460,"wires":[["e46bdecf.ef1028"]]},{"id":"22c1b520.54d892","type":"link in","z":"88113769.280aa8","name":"->Counter","links":["a5aae14b.f169d8"],"x":415,"y":4440,"wires":[["895dde26.e5b638"]]},{"id":"c7b3825a.2a61d","type":"inject","z":"88113769.280aa8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"3","x":190,"y":1520,"wires":[["caed4f11.e2e6b"]]},{"id":"f5507e03.8505c8","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":1,"width":"3","height":"1","name":"00 eVOLVER01","label":"<font size =5>eVOLVER01","format":"{{msg.payload}}","layout":"row-center","x":700,"y":60,"wires":[]},{"id":"fd9a19b9.e023c8","type":"link out","z":"88113769.280aa8","name":"enabled->","links":["4dea90fc.2f6ab"],"x":955,"y":2080,"wires":[]},{"id":"1291ff9.913f38","type":"link in","z":"88113769.280aa8","name":"->GL","links":["7af1923f.af26c4"],"x":255,"y":2120,"wires":[["72ee99b0.74d73","9857bb64.5b7be8"]]},{"id":"1f12704c.ab1a38","type":"comment","z":"88113769.280aa8","name":"01","info":"","x":550,"y":60,"wires":[]},{"id":"216df412.c4a6a4","type":"comment","z":"88113769.280aa8","name":"02 ODmeas","info":"","x":650,"y":180,"wires":[]},{"id":"19a428fe.6911bf","type":"comment","z":"88113769.280aa8","name":"03 BLmeas","info":"","x":670,"y":300,"wires":[]},{"id":"f1a364.971a74a","type":"link in","z":"88113769.280aa8","name":"->ARDUINO FAN","links":["7e801b16.b67b04","8726089.578a378"],"x":1275,"y":3820,"wires":[["c419fd97.18966"]]},{"id":"6a896816.c25b5","type":"link in","z":"88113769.280aa8","name":"->ARDUINO IR","links":["32d48fc3.133d8"],"x":1695,"y":3640,"wires":[["d8512a9d.ec2208"]]},{"id":"393c944d.c47774","type":"link in","z":"88113769.280aa8","name":"->ARDUINO BL","links":["db100355.4f7e18","4c007d24.4b725c"],"x":1615,"y":3760,"wires":[["77440464.1cb534"]]},{"id":"db100355.4f7e18","type":"link out","z":"88113769.280aa8","name":"BLcycle->BL","links":["393c944d.c47774"],"x":1235,"y":4660,"wires":[]},{"id":"8726089.578a378","type":"link out","z":"88113769.280aa8","name":"Fancontrol","links":["f1a364.971a74a"],"x":895,"y":3000,"wires":[]},{"id":"7e801b16.b67b04","type":"link out","z":"88113769.280aa8","name":"Fansetup","links":["f1a364.971a74a"],"x":1735,"y":1060,"wires":[]},{"id":"32d48fc3.133d8","type":"link out","z":"88113769.280aa8","name":"IRsetup","links":["6a896816.c25b5"],"x":1115,"y":180,"wires":[]},{"id":"4c007d24.4b725c","type":"link out","z":"88113769.280aa8","name":"BLcycle->BL","links":["393c944d.c47774"],"x":1135,"y":300,"wires":[]},{"id":"b8dd5188.d9a62","type":"link out","z":"88113769.280aa8","name":"PIDsetup->","links":["842e9b4.5fc1e68"],"x":1295,"y":880,"wires":[]},{"id":"842e9b4.5fc1e68","type":"link in","z":"88113769.280aa8","name":"->ARDUINO HEATER","links":["b8dd5188.d9a62","adac9125.ca28a8"],"x":1215,"y":3140,"wires":[["8724b159.746938"]]},{"id":"9857bb64.5b7be8","type":"link out","z":"88113769.280aa8","name":"GRlaunch->","links":["a68beb1a.2d37c"],"x":515,"y":2160,"wires":[]},{"id":"a68beb1a.2d37c","type":"link in","z":"88113769.280aa8","name":"->GL","links":["9857bb64.5b7be8"],"x":1035,"y":120,"wires":[["2023a281.6ae27e"]]},{"id":"df06d487.6d065","type":"delay","z":"88113769.280aa8","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":800,"y":3160,"wires":[["8e1d0ecc.0662c"]]},{"id":"69fecbba.f4cd9c","type":"PID","z":"88113769.280aa8","name":"","setpoint":"550","pb":"0","ti":"900","td":0,"integral_default":0.5,"smooth_factor":3,"max_interval":600,"enable":"0","disabled_op":0,"x":1010,"y":3100,"wires":[["cb41e08b.631e48","bc5a94df.a61d2"]]},{"id":"4fcf70d7.84193","type":"arduino in","z":"88113769.280aa8","name":"TempSensor","pin":"0","state":"ANALOG","arduino":"12b5e3c.f07cb1c","x":750,"y":3120,"wires":[["df06d487.6d065","9835277.e314dd8"]]},{"id":"8724b159.746938","type":"arduino out","z":"88113769.280aa8","name":"Heater","pin":"4","state":"OUTPUT","arduino":"12b5e3c.f07cb1c","x":1330,"y":3100,"wires":[]},{"id":"cb41e08b.631e48","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"PIDstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":3060,"wires":[[]]},{"id":"106bc480.f4fe73","type":"inject","z":"88113769.280aa8","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":"0.3","x":1130,"y":3020,"wires":[["cb41e08b.631e48"]]},{"id":"dec25ed1.7d3f88","type":"function","z":"88113769.280aa8","name":"","func":"if (msg.payload===true){\n    msg.enable=1;\n}\nif (msg.payload===0){\n    msg.enable=0;\n}\nif (flow.get(\"PID\")===\"OFF\"){\n    msg.enable=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3080,"wires":[["69fecbba.f4cd9c"]]},{"id":"8e1d0ecc.0662c","type":"function","z":"88113769.280aa8","name":"setpoint","func":"msg.setpoint=flow.get(\"Temp\");\nreturn msg;","outputs":1,"noerr":0,"x":840,"y":3200,"wires":[["69fecbba.f4cd9c"]]},{"id":"88277c2.68dab8","type":"delay","z":"88113769.280aa8","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":940,"y":980,"wires":[["e3cb09a7.7ef8c"]]},{"id":"e3cb09a7.7ef8c","type":"function","z":"88113769.280aa8","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    msg.payload=0;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1210,"y":960,"wires":[["1714200f.76a8b8"]]},{"id":"bc5a94df.a61d2","type":"function","z":"88113769.280aa8","name":"","func":"if (flow.get(\"launched\")===false){\n    return;\n}\nelse if (flow.get(\"launched\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":1170,"y":3100,"wires":[["8724b159.746938"]]},{"id":"abe55100.768a78","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"launched","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1960,"wires":[[]]},{"id":"7cbe2a7b.e1f674","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":800,"wires":[[]]},{"id":"53fb3916.995e68","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"PID","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":860,"wires":[["ac5a9910.15c43"]]},{"id":"f056f296.5d08e","type":"inject","z":"88113769.280aa8","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":250,"y":1960,"wires":[["abe55100.768a78"]]},{"id":"122d222e.852936","type":"link in","z":"88113769.280aa8","name":"->launched","links":["a5aae14b.f169d8"],"x":275,"y":2000,"wires":[["abe55100.768a78"]]},{"id":"5bc8cdbe.3ae5ac","type":"function","z":"88113769.280aa8","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    return msg;\n}\n","outputs":1,"noerr":0,"x":910,"y":940,"wires":[["88277c2.68dab8"]]},{"id":"3c47a3c6.cacffc","type":"inject","z":"88113769.280aa8","name":"INITIALIZATION","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":290,"y":720,"wires":[["7bf83372.b87ee4"]]},{"id":"7bf83372.b87ee4","type":"function","z":"88113769.280aa8","name":"initialization","func":"\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":740,"wires":[["760fc21d.759ec4","a973ff62.70139","a831d3aa.529028","aeb119ce.ac9c58","a4ce6168.bfed28","2be14ad5.8cd00e","93c4390e.254f5","5a81af5f.d7d0e8","19a462a2.12db1d"]]},{"id":"5e84e9ac.e4fb7","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=10;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":180,"wires":[["62b00e60.336048","6bd8e3eb.6b69c4","559953d4.97ec3c"]]},{"id":"6bd8e3eb.6b69c4","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1670,"y":180,"wires":[["5c59ceff.5641b","4c81b0c6.e0222","dd3acabf.0d7c48"]]},{"id":"559953d4.97ec3c","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":300,"wires":[["c27bfe14.c4a398","c16efd01.abffe8"]]},{"id":"c16efd01.abffe8","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1710,"y":300,"wires":[["9b302f5f.1ae23"]]},{"id":"816c3797.efb488","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":520,"wires":[["361a506e.edac2","4065f122.fe78f8"]]},{"id":"4065f122.fe78f8","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=\"seconds\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":520,"wires":[["cce37ff5.39daa8"]]},{"id":"760fc21d.759ec4","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=1;\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":520,"wires":[["6c7e0bbb.981334","c50f02a1.ea74a8"]]},{"id":"c50f02a1.ea74a8","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":520,"wires":[["2e6f5cbe.06bc6c","816c3797.efb488"]]},{"id":"3f398284.fbadfe","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":1140,"wires":[["94ce1f8.973dde","94c41663.dd932"]]},{"id":"a973ff62.70139","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":1140,"wires":[["871672ac.052ef","3f398284.fbadfe"]]},{"id":"a831d3aa.529028","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=550;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":840,"wires":[["9b6f39c4.29b278"]]},{"id":"aeb119ce.ac9c58","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":880,"wires":[["1714200f.76a8b8"]]},{"id":"94c41663.dd932","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":1020,"wires":[["960d4d14.c0dae8","bc963947.738298"]]},{"id":"bc963947.738298","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=100;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":980,"wires":[["ec0e502b.952cc","fad74d09.31a1f"]]},{"id":"fad74d09.31a1f","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":800,"wires":[["53fb3916.995e68","cf37c1e2.1647"]]},{"id":"a4ce6168.bfed28","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":1020,"wires":[["720d1ecf.6826f"]]},{"id":"2be14ad5.8cd00e","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":420,"wires":[["fe23fc8.112958"]]},{"id":"19a462a2.12db1d","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":300,"wires":[["8116d20c.652dd8"]]},{"id":"5a81af5f.d7d0e8","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":180,"wires":[["22d3a1ef.eef6c6","e821e94d.349e38"]]},{"id":"93c4390e.254f5","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":60,"wires":[["f1702cb6.aac34"]]},{"id":"e821e94d.349e38","type":"function","z":"88113769.280aa8","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":60,"wires":[["78ff2dae.d54cac","5e84e9ac.e4fb7"]]},{"id":"e0ebfaba.0ae03","type":"link in","z":"88113769.280aa8","name":"->initialization","links":["addbf48.2b9a008"],"x":375,"y":760,"wires":[["7bf83372.b87ee4"]]},{"id":"960d4d14.c0dae8","type":"delay","z":"88113769.280aa8","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1480,"y":1060,"wires":[["64ea117f.0d79"]]},{"id":"4f12ed6e.b036e4","type":"function","z":"88113769.280aa8","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":600,"wires":[["81c882c4.aba21"]]},{"id":"532ef6ab.ad1b9","type":"inject","z":"88113769.280aa8","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":640,"wires":[["60a66e7e.4df2d8"]]},{"id":"78a8329c.77ba44","type":"function","z":"88113769.280aa8","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measODtotal\")/1000-(msg.count%(flow.get(\"measODtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":300,"wires":[["e1137ffe.0e4fe"]]},{"id":"efab9d61.8c4998","type":"ui_button","z":"88113769.280aa8","name":"02 ODmeas Cycle counter","group":"81b8a460.9485c8","order":10,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":280,"wires":[[]]},{"id":"4c81b0c6.e0222","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=flow.get(\"measODtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":260,"wires":[["e1137ffe.0e4fe","79f58468.79d3f4"]]},{"id":"cbbbe838.786368","type":"counter","z":"88113769.280aa8","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":360,"wires":[["78a8329c.77ba44"]]},{"id":"91627670.4eb24","type":"function","z":"88113769.280aa8","name":"","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}if (flow.get(\"countermeasOD\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasOD\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":320,"wires":[["cbbbe838.786368"]]},{"id":"e1137ffe.0e4fe","type":"function","z":"88113769.280aa8","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":280,"wires":[["efab9d61.8c4998"]]},{"id":"8b7b64d.07ee418","type":"inject","z":"88113769.280aa8","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":320,"wires":[["91627670.4eb24"]]},{"id":"25c9baef.3e7266","type":"function","z":"88113769.280aa8","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measBLtotal\")/1000-(msg.count%(flow.get(\"measBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":460,"wires":[["8f491cca.987938"]]},{"id":"34082835.d4a57","type":"ui_button","z":"88113769.280aa8","name":"03 BLmeas Cycle counter","group":"81b8a460.9485c8","order":17,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":440,"wires":[[]]},{"id":"79f58468.79d3f4","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=flow.get(\"measBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":420,"wires":[["8f491cca.987938","c424c67e.b9c5b"]]},{"id":"2ab2fc18.276c5c","type":"counter","z":"88113769.280aa8","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":520,"wires":[["25c9baef.3e7266"]]},{"id":"ee770358.1189f8","type":"function","z":"88113769.280aa8","name":"","func":"if (flow.get(\"countermeasBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":480,"wires":[["2ab2fc18.276c5c"]]},{"id":"8f491cca.987938","type":"function","z":"88113769.280aa8","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":440,"wires":[["34082835.d4a57"]]},{"id":"4eb93a6a.83c4cc","type":"inject","z":"88113769.280aa8","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":480,"wires":[["ee770358.1189f8"]]},{"id":"2aa2bc03.9538e4","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"countermeasBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1010,"y":4140,"wires":[[]]},{"id":"1475ccca.bb1483","type":"inject","z":"88113769.280aa8","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4160,"wires":[["ef7ff96c.f3a088"]]},{"id":"ef7ff96c.f3a088","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4140,"wires":[["2aa2bc03.9538e4"]]},{"id":"37a402e1.33d69e","type":"link in","z":"88113769.280aa8","name":"->Counter","links":["a5aae14b.f169d8"],"x":415,"y":4120,"wires":[["ef7ff96c.f3a088"]]},{"id":"f3d81b48.5ee79","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"countermeasOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3560,"wires":[[]]},{"id":"2d7e0001.5578d8","type":"inject","z":"88113769.280aa8","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":230,"y":3580,"wires":[["eb442936.660c58"]]},{"id":"eb442936.660c58","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":3560,"wires":[["f3d81b48.5ee79"]]},{"id":"c07bb408.f72af","type":"link in","z":"88113769.280aa8","name":"->Counter","links":["a5aae14b.f169d8"],"x":255,"y":3540,"wires":[["eb442936.660c58"]]},{"id":"ba7518e1.9dc658","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":4040,"wires":[["2aa2bc03.9538e4"]]},{"id":"f6afa37e.14b808","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":900,"wires":[["e4f05293.18b0f8"]]},{"id":"cdcd1b2c.ced488","type":"counter","z":"88113769.280aa8","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":980,"wires":[["8f89a238.5c9758"]]},{"id":"17c69502.118b63","type":"function","z":"88113769.280aa8","name":"","func":"if (flow.get(\"counterlaunch\")===false){\n    return;\n}\nelse if (flow.get(\"counterlaunch\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":940,"wires":[["cdcd1b2c.ced488"]]},{"id":"e4f05293.18b0f8","type":"function","z":"88113769.280aa8","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3120,"y":920,"wires":[["ad84937c.716f48","f19696f5.1f28b8"]]},{"id":"4b978d66.66cadc","type":"inject","z":"88113769.280aa8","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":940,"wires":[["17c69502.118b63"]]},{"id":"ad84937c.716f48","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":53,"width":"4","height":"1","name":"09 elapsed time","label":"Elapsed time: ","format":"{{msg.payload}}","layout":"row-left","x":3280,"y":940,"wires":[]},{"id":"8f89a238.5c9758","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=msg.count;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":940,"wires":[["e4f05293.18b0f8"]]},{"id":"21ded0ca.3fab","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"counterlaunch","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":2880,"wires":[[]]},{"id":"b4aa0d20.11a79","type":"inject","z":"88113769.280aa8","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":270,"y":2900,"wires":[["b72301c1.a2ba18"]]},{"id":"b72301c1.a2ba18","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":2880,"wires":[["21ded0ca.3fab"]]},{"id":"55547398.55dc24","type":"link in","z":"88113769.280aa8","name":"->Counter","links":["a5aae14b.f169d8"],"x":295,"y":2860,"wires":[["b72301c1.a2ba18"]]},{"id":"fc679814.c7a05","type":"function","z":"88113769.280aa8","name":"","func":"if (msg.count>=flow.get(\"delaytotal\")/1000){\n    msg.payload=0;\n}\nelse {\n    msg.payload=flow.get(\"delaytotal\")/1000-(msg.count%(flow.get(\"delaytotal\")/1000));\n\n}\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":780,"wires":[["52fe250a.058414"]]},{"id":"f2b4dce1.9e6c68","type":"ui_button","z":"88113769.280aa8","name":"08 growthdelay Cycle counter","group":"81b8a460.9485c8","order":50,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3350,"y":760,"wires":[[]]},{"id":"f5c6f10b.70e91","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=flow.get(\"delaytotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":740,"wires":[["52fe250a.058414","f6afa37e.14b808"]]},{"id":"728f02c8.da4814","type":"counter","z":"88113769.280aa8","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":840,"wires":[["fc679814.c7a05"]]},{"id":"19a607d8.3d5bb8","type":"function","z":"88113769.280aa8","name":"","func":"if (flow.get(\"delaytotal\")===0){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===false){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":800,"wires":[["728f02c8.da4814"]]},{"id":"52fe250a.058414","type":"function","z":"88113769.280aa8","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":760,"wires":[["f2b4dce1.9e6c68"]]},{"id":"65284496.624a04","type":"inject","z":"88113769.280aa8","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":800,"wires":[["19a607d8.3d5bb8"]]},{"id":"9d52c08c.3f9b58","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"counterdelay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1040,"y":3840,"wires":[[]]},{"id":"2955c248.880ebe","type":"inject","z":"88113769.280aa8","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":430,"y":3860,"wires":[["74335cfb.4e814c"]]},{"id":"74335cfb.4e814c","type":"function","z":"88113769.280aa8","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":3840,"wires":[["9d52c08c.3f9b58","6555a9f5.a502b8"]]},{"id":"6dc30ec0.1c31c8","type":"link in","z":"88113769.280aa8","name":"->Counter","links":["a5aae14b.f169d8"],"x":455,"y":3820,"wires":[["74335cfb.4e814c"]]},{"id":"73c64645.26ee48","type":"ui_text","z":"88113769.280aa8","group":"81b8a460.9485c8","order":51,"width":"2","height":"1","name":"08 growth delay status","label":"","format":"{{msg.payload}}","layout":"row-center","x":1110,"y":3960,"wires":[]},{"id":"6555a9f5.a502b8","type":"function","z":"88113769.280aa8","name":"","func":"if (msg.payload===false){\n    msg.payload=\"delay status\";\n}\nif (msg.payload===\"delay\"){\n    msg.payload=\"ongoing\";\n}\nelse if (msg.payload===true){\n    msg.payload=\"over\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3960,"wires":[["73c64645.26ee48"]]},{"id":"3da0a5e8.b4b452","type":"function","z":"88113769.280aa8","name":"reset","func":"msg.reset=true;\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2410,"y":540,"wires":[["cbbbe838.786368","6667edb2.0ace6c","728f02c8.da4814","cdcd1b2c.ced488"]]},{"id":"dd3acabf.0d7c48","type":"delay","z":"88113769.280aa8","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":2240,"y":520,"wires":[["3da0a5e8.b4b452"]]},{"id":"f19696f5.1f28b8","type":"change","z":"88113769.280aa8","name":"","rules":[{"t":"set","p":"elapsed","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3290,"y":900,"wires":[[]]},{"id":"b1d6c5f2.6cbf2","type":"function","z":"88113769.280aa8","name":"elapsed","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=\"Elapsed time \"+flow.get(\"elapsed\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":1660,"wires":[["3d006e07.416fe2"]]},{"id":"3d006e07.416fe2","type":"file","z":"88113769.280aa8","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1270,"y":1660,"wires":[[]]},{"id":"934b63ad.0a1a5","type":"comment","z":"88113769.280aa8","name":"BOUGZY DEPLOY","info":"","x":2750,"y":120,"wires":[]},{"id":"25550914.26c0a6","type":"arduino out","z":"411dd76c.f0c058","name":"GL17","pin":"3","state":"OUTPUT","arduino":"e597db51.4ca438","x":1130,"y":60,"wires":[]},{"id":"b6e6bc03.a5afb8","type":"arduino out","z":"411dd76c.f0c058","name":"YL17","pin":"2","state":"OUTPUT","arduino":"e597db51.4ca438","x":1550,"y":60,"wires":[]},{"id":"f87ab85c.8720f8","type":"ui_slider","z":"411dd76c.f0c058","name":"05 intensity:","label":"intensity:","tooltip":"","group":"89016fd5.f82b","order":30,"width":"7","height":"1","passthru":true,"outs":"end","topic":"","min":0,"max":"255","step":"1","x":1170,"y":420,"wires":[["e09ede36.68f718","20744283.9555b6"]]},{"id":"43457bcb.f20e94","type":"ui_numeric","z":"411dd76c.f0c058","name":"06 and set to 480","label":"and set to","tooltip":"","group":"89016fd5.f82b","order":37,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"1025","step":"1","x":1030,"y":840,"wires":[["e00c974c.d7a4b8"]]},{"id":"96f63409.98659","type":"ui_switch","z":"411dd76c.f0c058","name":"01 GL17","label":"","tooltip":"","group":"89016fd5.f82b","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"green","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"green","x":1000,"y":60,"wires":[["25550914.26c0a6"]]},{"id":"3f72d58a.2716a2","type":"ui_switch","z":"411dd76c.f0c058","name":"01 YL17","label":"","tooltip":"","group":"89016fd5.f82b","order":4,"width":"1","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#e2c43c","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"#e2c43c","x":1420,"y":60,"wires":[["b6e6bc03.a5afb8"]]},{"id":"2326a10c.3598ce","type":"ui_switch","z":"411dd76c.f0c058","name":"02 IR17","label":"","tooltip":"","group":"89016fd5.f82b","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"red","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1000,"y":180,"wires":[["197ecbfc.d1dbec"]]},{"id":"d65795ab.b7d2e8","type":"ui_switch","z":"411dd76c.f0c058","name":"03 BL17","label":"","tooltip":"","group":"89016fd5.f82b","order":12,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#44cff1","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1020,"y":300,"wires":[["20744283.9555b6"]]},{"id":"7f2c700c.3eeb28","type":"ui_switch","z":"411dd76c.f0c058","name":"07 FAN","label":"","tooltip":"","group":"89016fd5.f82b","order":40,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"toys","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1620,"y":1080,"wires":[["3348eb86.ecb5b4"]]},{"id":"d16c3827.cc25d","type":"ui_switch","z":"411dd76c.f0c058","name":"06 T01 PID","label":"","tooltip":"","group":"89016fd5.f82b","order":33,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"enable","style":"","onvalue":"1","onvalueType":"num","onicon":"hot_tub","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1030,"y":880,"wires":[["7e921e8.bc443e","4c50235e.0ebb64"]]},{"id":"646062b5.901efc","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":25,"width":"2","height":"1","name":"04 spacer","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1770,"y":520,"wires":[]},{"id":"af9ef099.cddfd8","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":46,"width":"7","height":"1","name":"07 last spacer","label":"(produces sound: fine).","format":"{{msg.payload}}","layout":"row-spread","x":1960,"y":1020,"wires":[]},{"id":"2c332edb.fd9fe2","type":"ui_numeric","z":"411dd76c.f0c058","name":"02 every 5","label":"every","tooltip":"","group":"89016fd5.f82b","order":7,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1450,"y":220,"wires":[["3c0d080c.75ab4"]]},{"id":"48020deb.588154","type":"ui_dropdown","z":"411dd76c.f0c058","name":"02 minutes","label":"","tooltip":"","place":"Select option","group":"89016fd5.f82b","order":8,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1690,"y":220,"wires":[["c2f8047b.4f2208"]]},{"id":"d2681dba.c45038","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"measODtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2280,"y":320,"wires":[["526d317.c31ebd"]]},{"id":"b562881c.4ae14","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":9,"width":"7","height":"1","name":"02 (takes 5 seconds)","label":"(takes 5 seconds).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":180,"wires":[]},{"id":"bf10794e.f79cc","type":"ui_numeric","z":"411dd76c.f0c058","name":"03 every 5","label":"every","tooltip":"","group":"89016fd5.f82b","order":14,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1490,"y":340,"wires":[["1721fc34.5be0fc"]]},{"id":"7cfe87b6.70a898","type":"ui_dropdown","z":"411dd76c.f0c058","name":"03 minutes","label":"","tooltip":"","place":"Select option","group":"89016fd5.f82b","order":15,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1730,"y":340,"wires":[["7c233e47.6d203"]]},{"id":"1721fc34.5be0fc","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"measBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":380,"wires":[["c4245635.9d435"]]},{"id":"d0817815.a6634","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"measBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1940,"y":380,"wires":[["c4245635.9d435"]]},{"id":"c5087816.1ff0e8","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":16,"width":"7","height":"1","name":"03 (takes 5 seconds)","label":"(takes 5 secs, max illum., shifted timing).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":300,"wires":[]},{"id":"e09ede36.68f718","type":"ui_numeric","z":"411dd76c.f0c058","name":"05 at 255","label":"at","tooltip":"","group":"89016fd5.f82b","order":29,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":"1","x":1020,"y":420,"wires":[["ee8ca13.38e20e","f87ab85c.8720f8"]]},{"id":"ee8ca13.38e20e","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"intBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":460,"wires":[[]]},{"id":"527d413a.ff26b8","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":6,"width":"3","height":"1","name":"02 Meaure OD:","label":"Measure OD:","format":"{{msg.payload}}","layout":"row-spread","x":1280,"y":180,"wires":[]},{"id":"cd9633e2.f46b9","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":13,"width":"3","height":"1","name":"03 Meaure BL:","label":"Measure BL:","format":"{{msg.payload}}","layout":"row-spread","x":1340,"y":300,"wires":[]},{"id":"9b9989e3.28b5b","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":28,"width":"4","height":"1","name":"05 spacer1","label":"","format":"{{msg.payload}}","layout":"row-spread","x":710,"y":420,"wires":[]},{"id":"a015b05d.0d21","type":"ui_button","z":"411dd76c.f0c058","name":"05 OK","group":"89016fd5.f82b","order":31,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1350,"y":420,"wires":[["d65795ab.b7d2e8"]]},{"id":"d057a659.ea4168","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":19,"width":"1","height":"1","name":"04 - -","label":"","format":"{{msg.payload}}","layout":"row-spread","x":630,"y":520,"wires":[]},{"id":"dfb38d02.9e29b","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":20,"width":"3","height":"1","name":"04 Illuminate BL:","label":"Illuminate BL:","format":"{{msg.payload}}","layout":"row-spread","x":670,"y":560,"wires":[]},{"id":"a43f3246.841e4","type":"ui_numeric","z":"411dd76c.f0c058","name":"04 every 1","label":"every","tooltip":"","group":"89016fd5.f82b","order":21,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":850,"y":560,"wires":[["821d62ee.1f30f"]]},{"id":"43b7eb55.187314","type":"ui_dropdown","z":"411dd76c.f0c058","name":"04 hour","label":"","tooltip":"","place":"Select option","group":"89016fd5.f82b","order":22,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1080,"y":560,"wires":[["837f1d83.21b77"]]},{"id":"821d62ee.1f30f","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"pillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":600,"wires":[["a73e102c.8c4008"]]},{"id":"9b1ddfbd.8dd76","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"pillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":640,"wires":[["a73e102c.8c4008"]]},{"id":"8f0dc5f2.22f008","type":"ui_numeric","z":"411dd76c.f0c058","name":"04 for 5","label":"for","tooltip":"","group":"89016fd5.f82b","order":23,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1340,"y":560,"wires":[["21e4f890.6a9e68"]]},{"id":"d589e177.b3d2b","type":"ui_dropdown","z":"411dd76c.f0c058","name":"04 minutes","label":"","tooltip":"","place":"Select option","group":"89016fd5.f82b","order":24,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1590,"y":560,"wires":[["ef53ca89.b49278"]]},{"id":"21e4f890.6a9e68","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"tillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":600,"wires":[["41095590.ed8f8c"]]},{"id":"d1e4a89f.4f5ca8","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"tillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1610,"y":640,"wires":[["41095590.ed8f8c"]]},{"id":"686e705e.cc1ec","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":32,"width":"5","height":"1","name":"05 spacer2","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1530,"y":420,"wires":[]},{"id":"24f72767.e78e1","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":35,"width":"2","height":"1","name":"06 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1850,"y":860,"wires":[]},{"id":"e1e33962.f07e6","type":"ui_switch","z":"411dd76c.f0c058","name":"06 act.switch","label":"","tooltip":"","group":"89016fd5.f82b","order":36,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"hot_tub","oncolor":"red","offvalue":"OFF","offvalueType":"str","officon":"ac_unit","offcolor":"grey","x":1520,"y":880,"wires":[["f770b6a4.2aa28"]]},{"id":"eacae32b.743ee","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":38,"width":"6","height":"1","name":"06 Volts.","label":"Volts.","format":"{{msg.payload}}","layout":"row-spread","x":1220,"y":840,"wires":[]},{"id":"3618b684.7de88a","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":34,"width":"4","height":"1","name":"06 Temperature control:","label":"Temperature control:","format":"{{msg.payload}}","layout":"row-spread","x":2050,"y":860,"wires":[]},{"id":"22340f64.539d68","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":41,"width":"4","height":"1","name":"07 Fan:","label":"Fan:","format":"{{msg.payload}}","layout":"row-spread","x":700,"y":1060,"wires":[]},{"id":"9d737151.f53088","type":"ui_switch","z":"411dd76c.f0c058","name":"07 enable switch","label":"","tooltip":"","group":"89016fd5.f82b","order":43,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"toys","oncolor":"green","offvalue":"OFF","offvalueType":"str","officon":"radio_button_unchecked","offcolor":"grey","x":910,"y":1060,"wires":[["fe8c3c06.de305","c72b8352.24ac28"]]},{"id":"c72b8352.24ac28","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":42,"width":"2","height":"1","name":"07 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1230,"y":1060,"wires":[]},{"id":"fe8c3c06.de305","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"FANstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1020,"wires":[[]]},{"id":"61e516d8.0473f8","type":"ui_numeric","z":"411dd76c.f0c058","name":"07 and set to 100","label":"and set to","tooltip":"","group":"89016fd5.f82b","order":44,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"255","step":"1","x":1590,"y":1020,"wires":[["1eb5a34f.dfc98d","3348eb86.ecb5b4"]]},{"id":"1eb5a34f.dfc98d","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"intFAN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1780,"y":1000,"wires":[[]]},{"id":"50bd4b67.cfa8c4","type":"ui_button","z":"411dd76c.f0c058","name":"07 OK","group":"89016fd5.f82b","order":45,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1430,"y":1100,"wires":[["7f2c700c.3eeb28"]]},{"id":"8a0b5eb9.f1f958","type":"ui_numeric","z":"411dd76c.f0c058","name":"08 add delay","label":"Add growing delay of","tooltip":"","group":"89016fd5.f82b","order":47,"width":"6","height":"1","passthru":true,"topic":"setpoint","format":"{{value}}","min":"0","max":"100","step":"1","x":870,"y":1180,"wires":[["7f85ab05.2f051c"]]},{"id":"ab0787e9.7c577","type":"ui_dropdown","z":"411dd76c.f0c058","name":"08 hour","label":"","tooltip":"","place":"Select option","group":"89016fd5.f82b","order":48,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1060,"y":1180,"wires":[["5a64f711.453218"]]},{"id":"7f85ab05.2f051c","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"delay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":1220,"wires":[["57663af8.632ec4"]]},{"id":"db025dec.9d02c8","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"delayunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1090,"y":1220,"wires":[["57663af8.632ec4"]]},{"id":"df91e968.a4299","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":49,"width":"8","height":"1","name":"08 finalspacer","label":"(during which no BL measure will be made).","format":"{{msg.payload}}","layout":"row-spread","x":1240,"y":1140,"wires":[]},{"id":"e155a30.4c5d0e","type":"ui_text_input","z":"411dd76c.f0c058","name":"09 DETAILS","label":"DETAILS:","tooltip":"","group":"89016fd5.f82b","order":52,"width":"16","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1110,"y":2560,"wires":[["82ef6c76.ede02"]]},{"id":"6596c6f0.2ed388","type":"ui_text_input","z":"411dd76c.f0c058","name":"10 Nickname","label":"Nickname:","tooltip":"","group":"89016fd5.f82b","order":54,"width":"4","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1120,"y":2600,"wires":[["dbdbdb66.c1f4d8"]]},{"id":"7e5d2590.3aa014","type":"inject","z":"411dd76c.f0c058","name":"","topic":"","payload":"eV02_","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":830,"y":2600,"wires":[["55e3c8fd.1ed7f8"]]},{"id":"a2c5b700.6509","type":"ui_button","z":"411dd76c.f0c058","name":"10 LAUNCH EXP","group":"89016fd5.f82b","order":55,"width":"10","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"bool","topic":"","x":310,"y":1900,"wires":[["6c82d6ca.e027f","1424608a.99cb4f","51300acd.71ab64","54802633.d092c","9adebd6e.2ae608","8eeb6a14.326018","f4cc5be7.bd6a6"]]},{"id":"4b6275b9.0ced24","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.label=\"Running...\";\nmsg.background=\"#FFC300\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1600,"wires":[["a2c5b700.6509"]]},{"id":"27a946ff.4aedf2","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.label=\"LAUNCH EXPERIMENT\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1520,"wires":[["a2c5b700.6509"]]},{"id":"f16e521f.b581f","type":"inject","z":"411dd76c.f0c058","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":210,"y":1640,"wires":[["54802633.d092c"]]},{"id":"2aae3ff4.e4a598","type":"ui_button","z":"411dd76c.f0c058","name":"10 RESET","group":"89016fd5.f82b","order":57,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"reset","payloadType":"str","topic":"","x":1610,"y":1480,"wires":[["91060c1.62a657","55f29ebd.2f0ab","39f23911.0ead86","baa45585.404c18"]]},{"id":"91060c1.62a657","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.label=\"Reseting...\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1520,"wires":[["2aae3ff4.e4a598","7b3e1145.1be95"]]},{"id":"dcf63a2f.8a558","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.label=\"RESET\";\nmsg.background=\"grey\";\nreturn msg;","outputs":1,"noerr":0,"x":1750,"y":1660,"wires":[["2aae3ff4.e4a598"]]},{"id":"32e577b2.40b31","type":"inject","z":"411dd76c.f0c058","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1630,"y":1680,"wires":[["dcf63a2f.8a558"]]},{"id":"7b3e1145.1be95","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1560,"wires":[["23f30c0b.1712c4"]]},{"id":"23f30c0b.1712c4","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.label=\"SUCCESS\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1600,"wires":[["49a29985.1b85f","2aae3ff4.e4a598"]]},{"id":"49a29985.1b85f","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1640,"wires":[["dcf63a2f.8a558"]]},{"id":"30484a05.21b836","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.label=\"Halted experiment\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1560,"wires":[["a2c5b700.6509"]]},{"id":"a8f52864.990d7","type":"ui_button","z":"411dd76c.f0c058","name":"10 STOP","group":"89016fd5.f82b","order":56,"width":"4","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"str","topic":"","x":860,"y":1540,"wires":[["5e26ba7f.5c514c"]]},{"id":"7a5d7f6f.dd5118","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.label=\"Stopped.\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":1580,"wires":[["a8f52864.990d7"]]},{"id":"31ad232.50a9edc","type":"inject","z":"411dd76c.f0c058","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":710,"y":1500,"wires":[["cfc6072e.9b0348"]]},{"id":"cfc6072e.9b0348","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.label=\"STOP\";\nmsg.background=\"#cb4335\";\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1500,"wires":[["a8f52864.990d7"]]},{"id":"f2b2a60d.6c0b28","type":"comment","z":"411dd76c.f0c058","name":"Launch TODOs","info":"Turn off and disable all above switches\ndisable the launch button\nCA MARCHE PAS","x":840,"y":2080,"wires":[]},{"id":"6ae62511.e754e4","type":"comment","z":"411dd76c.f0c058","name":"Reset TODOs","info":"Enable anew all above switches\nReset all default values in exp menu\nBlink LEDs as indicators ;)","x":1440,"y":1660,"wires":[]},{"id":"800a8cfb.a909e","type":"comment","z":"411dd76c.f0c058","name":"Stop TODOs","info":"","x":850,"y":1420,"wires":[]},{"id":"8af11ec3.eafd7","type":"simpletime","z":"411dd76c.f0c058","name":"","x":910,"y":2360,"wires":[["8832925f.e391b8","c8eb75f2.7f5b18"]]},{"id":"8832925f.e391b8","type":"function","z":"411dd76c.f0c058","name":"20190417_172653_nickname/...","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\")+\"/\"+msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1180,"y":2360,"wires":[["a3bec403.7d944","3996db82.dd11d4","9a4cfde4.3b1c7","cb707142.dd11a"]]},{"id":"9a4cfde4.3b1c7","type":"join","z":"411dd76c.f0c058","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2400,"wires":[["89940446.498d1"]]},{"id":"a3bec403.7d944","type":"join","z":"411dd76c.f0c058","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2440,"wires":[["26b7329.29cc64e"]]},{"id":"3996db82.dd11d4","type":"join","z":"411dd76c.f0c058","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2480,"wires":[["5a1661d2.bf6eb8"]]},{"id":"95e338f9.c2e3c","type":"function","z":"411dd76c.f0c058","name":"/home/lab513/Desktop/eVOLVER_data/","func":"if (msg.payload){\n    msg.payload=\"/home/lab513/Desktop/eVOLVER_data/\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":2320,"wires":[["9a4cfde4.3b1c7","a3bec403.7d944","3996db82.dd11d4","cb707142.dd11a"]]},{"id":"9bd93c4e.c57788","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"delay","timeout":"0.2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2360,"wires":[["8af11ec3.eafd7"]]},{"id":"81e87d93.b10448","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"nickname","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":2600,"wires":[[]]},{"id":"bf7782d2.54a988","type":"function","z":"411dd76c.f0c058","name":".IR","func":"if (msg.payload){\n    msg.payload=\".IR\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2400,"wires":[["9a4cfde4.3b1c7"]]},{"id":"6f0bb10a.2a53","type":"function","z":"411dd76c.f0c058","name":".BL","func":"if (msg.payload){\n    msg.payload=\".BL\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2440,"wires":[["a3bec403.7d944"]]},{"id":"225c3711.2df3f","type":"function","z":"411dd76c.f0c058","name":".Temp","func":"if (msg.payload){\n    msg.payload=\".Temp\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2480,"wires":[["3996db82.dd11d4"]]},{"id":"6c82d6ca.e027f","type":"function","z":"411dd76c.f0c058","name":"Creates Files:","func":"\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":2280,"wires":[["9bd93c4e.c57788","cbc6ccc5.c96a78","4c68367.7af27c8","f000c5b9.a51cd8","16daed6.0692d13","355c6ad7.c6a83e","2b2a9320.8b211c"]]},{"id":"f000c5b9.a51cd8","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2400,"wires":[["bf7782d2.54a988"]]},{"id":"16daed6.0692d13","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2440,"wires":[["6f0bb10a.2a53"]]},{"id":"355c6ad7.c6a83e","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2480,"wires":[["225c3711.2df3f"]]},{"id":"cbc6ccc5.c96a78","type":"function","z":"411dd76c.f0c058","name":"reset","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":2280,"wires":[["89940446.498d1","26b7329.29cc64e","5a1661d2.bf6eb8","33e5a1c2.d20ad6"]]},{"id":"4c68367.7af27c8","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"delay","timeout":"0.1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2320,"wires":[["95e338f9.c2e3c"]]},{"id":"dbdbdb66.c1f4d8","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2600,"wires":[["81e87d93.b10448"]]},{"id":"89940446.498d1","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"FileNameIR","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1500,"y":2400,"wires":[[]]},{"id":"26b7329.29cc64e","type":"change","z":"411dd76c.f0c058","name":"FileNameBL","rules":[{"t":"set","p":"FileNameBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1470,"y":2440,"wires":[[]]},{"id":"5a1661d2.bf6eb8","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"FileNameTemp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":2480,"wires":[[]]},{"id":"cb707142.dd11a","type":"join","z":"411dd76c.f0c058","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2520,"wires":[["33e5a1c2.d20ad6"]]},{"id":"5a5515c3.2983cc","type":"function","z":"411dd76c.f0c058","name":".readme","func":"if (msg.payload){\n    msg.payload=\".readme\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":2520,"wires":[["cb707142.dd11a"]]},{"id":"2b2a9320.8b211c","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2520,"wires":[["5a5515c3.2983cc"]]},{"id":"33e5a1c2.d20ad6","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"FileNameReadme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":2520,"wires":[[]]},{"id":"99bd88ce.996278","type":"inject","z":"411dd76c.f0c058","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":810,"y":2560,"wires":[["63201464.15f214"]]},{"id":"82ef6c76.ede02","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2560,"wires":[["814ee68c.05afc"]]},{"id":"814ee68c.05afc","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"readme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1480,"y":2560,"wires":[[]]},{"id":"c8eb75f2.7f5b18","type":"function","z":"411dd76c.f0c058","name":"displayname","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":2640,"wires":[["894df1a0.c7e5"]]},{"id":"894df1a0.c7e5","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":2,"width":"15","height":"1","name":"00 Running","label":"Running:","format":"{{msg.payload}}","layout":"row-left","x":1310,"y":2640,"wires":[]},{"id":"d7b1315e.b07fe8","type":"inject","z":"411dd76c.f0c058","name":"","topic":"","payload":"-","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":890,"y":2640,"wires":[["a6119ed4.a08838"]]},{"id":"5e26ba7f.5c514c","type":"function","z":"411dd76c.f0c058","name":"STOP ACTIONS:","func":"msg.payload=false;\nreturn msg;\n\n//this function allows the fact that the\n//reset button first does the stop action\n//and then resets the buttons etc","outputs":1,"noerr":0,"x":1050,"y":1560,"wires":[["30484a05.21b836","7a5d7f6f.dd5118","fd1c6338.642688","cecb70fb.dea678","996113a0.23491"]]},{"id":"55f29ebd.2f0ab","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":300,"y":1480,"wires":[["27a946ff.4aedf2"]]},{"id":"39f23911.0ead86","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":850,"y":1460,"wires":[["cfc6072e.9b0348"]]},{"id":"77878fb5.b146d8","type":"function","z":"411dd76c.f0c058","name":"disable/enable switches","func":"if (msg.payload===\"launch\"){\n    msg.enabled=false;\n}\nelse if (msg.payload===0){\n    msg.enabled=true;\n}\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":2080,"wires":[[]]},{"id":"a6119ed4.a08838","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=\"-\";\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":2640,"wires":[["894df1a0.c7e5"]]},{"id":"1424608a.99cb4f","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":560,"y":2800,"wires":[["b8acd9b0.8f68a","246de82d.96e69","6327b748.d676a8","8d089630.354e2","889e9ace.77b378","b17ed8bd.0a65c","fa024398.99bed8","6982f0d9.f2bb"]]},{"id":"32465f4.1e29c2","type":"file","z":"411dd76c.f0c058","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3420,"wires":[[]]},{"id":"b32537cd.1cd508","type":"file","z":"411dd76c.f0c058","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3380,"wires":[[]]},{"id":"bdcdbdd6.92e8f","type":"file","z":"411dd76c.f0c058","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3460,"wires":[[]]},{"id":"efa3bd14.b440a","type":"switch","z":"411dd76c.f0c058","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3420,"wires":[["515b527d.3baf74"]]},{"id":"246de82d.96e69","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"StoreInFile","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":3340,"wires":[[]]},{"id":"956c422.7376ec","type":"comment","z":"411dd76c.f0c058","name":"Allows storage in the filenames","info":"","x":1050,"y":3340,"wires":[]},{"id":"7b256a1b.631af4","type":"arduino in","z":"411dd76c.f0c058","name":"Blue Light Sensor","pin":"2","state":"ANALOG","arduino":"d6fbebf1.ddd72","x":790,"y":3420,"wires":[["d858793d.f54778"]]},{"id":"61b6561e.2091","type":"arduino in","z":"411dd76c.f0c058","name":"IR Sensor","pin":"1","state":"ANALOG","arduino":"d6fbebf1.ddd72","x":760,"y":3380,"wires":[["8676d59c.c33a9"]]},{"id":"d858793d.f54778","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3420,"wires":[["efa3bd14.b440a","357949af.19d466"]]},{"id":"8676d59c.c33a9","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3380,"wires":[["96d5ca7c.012518","953a6169.16c1a"]]},{"id":"df4ed75.85939a8","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3460,"wires":[["5d00e2bd.be6b44","7ae34784.438d38"]]},{"id":"96d5ca7c.012518","type":"switch","z":"411dd76c.f0c058","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3380,"wires":[["b29837cb.c985b8"]]},{"id":"5d00e2bd.be6b44","type":"switch","z":"411dd76c.f0c058","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3460,"wires":[["b57a494b.d7cf48"]]},{"id":"9243d328.508a28","type":"inject","z":"411dd76c.f0c058","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":330,"y":3340,"wires":[["59d745fb.e5314c"]]},{"id":"b8acd9b0.8f68a","type":"function","z":"411dd76c.f0c058","name":"readme","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=flow.get(\"readme\")+\"\\n\"+\n    \"measOD \"+flow.get(\"measOD\").toString()+\"\\n\"+\n    \"measODunits \"+flow.get(\"measODunits\").toString()+\"\\n\"+\n    \"measODtotal \"+flow.get(\"measODtotal\").toString()+\"\\n\"+\n    \n    \"measBL \"+flow.get(\"measBL\").toString()+\"\\n\"+\n    \"measBLunits \"+flow.get(\"measBLunits\").toString()+\"\\n\"+\n    \"measBLtotal \"+flow.get(\"measBLtotal\").toString()+\"\\n\"+\n    \n    \"intBL \"+flow.get(\"intBL\").toString()+\"\\n\"+\n    \n    \"pillBL \"+flow.get(\"pillBL\").toString()+\"\\n\"+\n    \"pillBLunits \"+flow.get(\"pillBLunits\").toString()+\"\\n\"+\n    \"pillBLtotal \"+flow.get(\"pillBLtotal\").toString()+\"\\n\"+\n    \n    \"tillBL \"+flow.get(\"tillBL\").toString()+\"\\n\"+\n    \"tillBLunits \"+flow.get(\"tillBLunits\").toString()+\"\\n\"+\n    \"tillBLtotal \"+flow.get(\"tillBLtotal\").toString()+\"\\n\"+\n    \n    \"Temp \"+flow.get(\"Temp\").toString()+\"\\n\"+\n    \"PID \"+flow.get(\"PID\").toString()+\"\\n\"+\n    \n    \"FANstate \"+flow.get(\"FANstate\").toString()+\"\\n\"+\n    \"intFAN \"+flow.get(\"intFAN\").toString()+\"\\n\"+\n    \n    \"delay \"+flow.get(\"delay\").toString()+\"\\n\"+\n    \"delayunits \"+flow.get(\"delayunits\").toString()+\"\\n\"+\n    \"delaytotal \"+flow.get(\"delaytotal\").toString()+\"\\n\";\n\n//msg.myepoch=msg.myepoch.toString();\n//msg.payload=msg.payload+\";\"+msg.myepoch;\n\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":2940,"wires":[["929f6a54.eae24"]]},{"id":"929f6a54.eae24","type":"file","z":"411dd76c.f0c058","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":890,"y":2940,"wires":[[]]},{"id":"b29837cb.c985b8","type":"simpletime","z":"411dd76c.f0c058","name":"","x":1330,"y":3380,"wires":[["e6954dc9.c4c728"]]},{"id":"e6954dc9.c4c728","type":"function","z":"411dd76c.f0c058","name":"IR+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameIR\");\nreturn msg;","outputs":1,"noerr":0,"x":1480,"y":3380,"wires":[["b32537cd.1cd508"]]},{"id":"515b527d.3baf74","type":"simpletime","z":"411dd76c.f0c058","name":"","x":1330,"y":3420,"wires":[["c767e09a.e11868"]]},{"id":"c767e09a.e11868","type":"function","z":"411dd76c.f0c058","name":"BL+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameBL\");\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":3420,"wires":[["32465f4.1e29c2"]]},{"id":"b57a494b.d7cf48","type":"simpletime","z":"411dd76c.f0c058","name":"","x":1330,"y":3460,"wires":[["3e7e8e20.9c605a"]]},{"id":"3e7e8e20.9c605a","type":"function","z":"411dd76c.f0c058","name":"Temp+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameTemp\");\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":3460,"wires":[["bdcdbdd6.92e8f"]]},{"id":"63201464.15f214","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2560,"wires":[["e155a30.4c5d0e"]]},{"id":"55e3c8fd.1ed7f8","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=\"eV02_\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2600,"wires":[["6596c6f0.2ed388"]]},{"id":"21a01476.a07ddc","type":"function","z":"411dd76c.f0c058","name":"(reset)","func":"\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":2600,"wires":[["63201464.15f214","55e3c8fd.1ed7f8","a6119ed4.a08838"]]},{"id":"51300acd.71ab64","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=\"launch\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":2040,"wires":[["77878fb5.b146d8"]]},{"id":"59d745fb.e5314c","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3340,"wires":[["246de82d.96e69"]]},{"id":"6327b748.d676a8","type":"function","z":"411dd76c.f0c058","name":"255","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":750,"y":3640,"wires":[["7fa2e6a.59bc718","c32d293c.f0119"]]},{"id":"7fa2e6a.59bc718","type":"function","z":"411dd76c.f0c058","name":"measODtotal","func":"msg.delay=flow.get(\"measODtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":780,"y":3680,"wires":[["2491201.b057d6"]]},{"id":"2491201.b057d6","type":"delay","z":"411dd76c.f0c058","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":3720,"wires":[["6327b748.d676a8"]]},{"id":"c500b202.a3a6e8","type":"function","z":"411dd76c.f0c058","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3640,"wires":[["2491201.b057d6","c32d293c.f0119"]]},{"id":"c32d293c.f0119","type":"trigger","z":"411dd76c.f0c058","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1050,"y":3640,"wires":[["fff87b81.ca3bc","a05f949a.f2a5a8","2c0ddd6e.e74c82"]]},{"id":"fff87b81.ca3bc","type":"function","z":"411dd76c.f0c058","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":3640,"wires":[["629d85c.3acb9fc"]]},{"id":"a05f949a.f2a5a8","type":"arduino out","z":"411dd76c.f0c058","name":"IR17","pin":"5","state":"PWM","arduino":"d6fbebf1.ddd72","x":1810,"y":3680,"wires":[]},{"id":"5ff3ac4e.910c5c","type":"switch","z":"411dd76c.f0c058","name":"lance ventilo","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"gt","v":"160","vt":"num"},{"t":"btwn","v":"0","vt":"num","v2":"160","v2t":"num"}],"checkall":"false","repair":false,"outputs":3,"x":1470,"y":3820,"wires":[["3414913d.938f56"],["3414913d.938f56"],["3a1a9618.6b419a","8a1df96.e683288"]],"info":"Coz the ventilo wont start if the value is \nbelow 160.\nTo have a value below 160, we need to start w\na bigger value and THEN get down in value"},{"id":"3414913d.938f56","type":"arduino out","z":"411dd76c.f0c058","name":"Fan","pin":"9","state":"PWM","arduino":"d6fbebf1.ddd72","x":1810,"y":3800,"wires":[]},{"id":"8a1df96.e683288","type":"function","z":"411dd76c.f0c058","name":"200","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":1630,"y":3840,"wires":[["3414913d.938f56"]]},{"id":"3a1a9618.6b419a","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":3880,"wires":[["3414913d.938f56"]]},{"id":"629d85c.3acb9fc","type":"arduino out","z":"411dd76c.f0c058","name":"BL17","pin":"6","state":"PWM","arduino":"d6fbebf1.ddd72","x":1810,"y":3740,"wires":[]},{"id":"baa45585.404c18","type":"link out","z":"411dd76c.f0c058","name":"RESET17->","links":["8985a8e9.287f58","ae772dae.d98e78","f3e12a56.99a45","440a2d2c.698774","3742e0c8.bcab08","b9fa99c.24e2868","9b3e4119.84a748","948bae02.d8b248"],"x":1755,"y":1480,"wires":[]},{"id":"8985a8e9.287f58","type":"link in","z":"411dd76c.f0c058","name":"->Nickname&details","links":["baa45585.404c18"],"x":595,"y":2560,"wires":[["21a01476.a07ddc"]]},{"id":"9d6d3c77.0f8bf","type":"link in","z":"411dd76c.f0c058","name":"->StoreInFile","links":["fd1c6338.642688"],"x":375,"y":3300,"wires":[["59d745fb.e5314c"]]},{"id":"8e3a0242.f8753","type":"link in","z":"411dd76c.f0c058","name":"->ODmeas","links":["fd1c6338.642688"],"x":395,"y":3640,"wires":[["c500b202.a3a6e8"]]},{"id":"ae772dae.d98e78","type":"link in","z":"411dd76c.f0c058","name":"->stop","links":["baa45585.404c18"],"x":875,"y":1620,"wires":[["5e26ba7f.5c514c"]]},{"id":"c2f8047b.4f2208","type":"function","z":"411dd76c.f0c058","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1740,"y":260,"wires":[["bbf0ee80.44b418"]]},{"id":"3c0d080c.75ab4","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"measOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":260,"wires":[["7780ca83.e3b1cc"]]},{"id":"bbf0ee80.44b418","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"measODunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":260,"wires":[["7780ca83.e3b1cc"]]},{"id":"7780ca83.e3b1cc","type":"function","z":"411dd76c.f0c058","name":"multiply","func":"msg.payload=flow.get(\"measOD\")*flow.get(\"measODunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2100,"y":260,"wires":[["d2681dba.c45038"]]},{"id":"7c233e47.6d203","type":"function","z":"411dd76c.f0c058","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1760,"y":380,"wires":[["d0817815.a6634"]]},{"id":"c4245635.9d435","type":"function","z":"411dd76c.f0c058","name":"multiply","func":"msg.payload=flow.get(\"measBL\")*flow.get(\"measBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2120,"y":380,"wires":[["aa5825cd.062fb"]]},{"id":"aa5825cd.062fb","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"measBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":380,"wires":[["f23d2996.0a59f8"]]},{"id":"837f1d83.21b77","type":"function","z":"411dd76c.f0c058","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1100,"y":600,"wires":[["9b1ddfbd.8dd76"]]},{"id":"ef53ca89.b49278","type":"function","z":"411dd76c.f0c058","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":600,"wires":[["d1e4a89f.4f5ca8"]]},{"id":"a73e102c.8c4008","type":"function","z":"411dd76c.f0c058","name":"multiply","func":"msg.payload=flow.get(\"pillBL\")*flow.get(\"pillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1000,"y":700,"wires":[["456d13a.d5e71ec"]]},{"id":"456d13a.d5e71ec","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"pillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1170,"y":700,"wires":[["6a166de.82f9d14"]]},{"id":"41095590.ed8f8c","type":"function","z":"411dd76c.f0c058","name":"multiply","func":"msg.payload=flow.get(\"tillBL\")*flow.get(\"tillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":700,"wires":[["9f55d508.10724"]]},{"id":"9f55d508.10724","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"tillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":700,"wires":[[]]},{"id":"57663af8.632ec4","type":"function","z":"411dd76c.f0c058","name":"multiply","func":"msg.payload=flow.get(\"delay\")*flow.get(\"delayunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":1220,"wires":[["3551b7b1.0895b"]]},{"id":"3551b7b1.0895b","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"delaytotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":1220,"wires":[["7392e85a.70eeb8"]]},{"id":"5a64f711.453218","type":"function","z":"411dd76c.f0c058","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1180,"wires":[["db025dec.9d02c8"]]},{"id":"fd1c6338.642688","type":"link out","z":"411dd76c.f0c058","name":"STOP17.false","links":["d8fe8669.2db5f8","8e3a0242.f8753","b578ce87.1c908","9d6d3c77.0f8bf","f416a431.443328","7746ba64.e7d444","8eb9f132.03ef58","8e31b8a2.afb7b","26eee645.6c6aa2","197485a5.c83cda"],"x":1235,"y":1580,"wires":[]},{"id":"2c0ddd6e.e74c82","type":"function","z":"411dd76c.f0c058","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":3680,"wires":[["5ff3ac4e.910c5c"]]},{"id":"ebd32222.677e3","type":"comment","z":"411dd76c.f0c058","name":"OD mesaurements","info":"","x":790,"y":3600,"wires":[]},{"id":"15a9b440.6cab1c","type":"function","z":"411dd76c.f0c058","name":"255","func":"if (flow.get(\"measBLtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":910,"y":4220,"wires":[["687d61a.f85532","6d2a621b.85fcfc"]]},{"id":"687d61a.f85532","type":"function","z":"411dd76c.f0c058","name":"measBLtotal","func":"msg.delay=flow.get(\"measBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":4280,"wires":[["d244d01a.b1aef"]]},{"id":"d244d01a.b1aef","type":"delay","z":"411dd76c.f0c058","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1050,"y":4320,"wires":[["15a9b440.6cab1c"]]},{"id":"dc65695c.dc2cb8","type":"trigger","z":"411dd76c.f0c058","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1350,"y":4240,"wires":[["bdb4e75e.1054b8","2eaaea7c.6a035e"]]},{"id":"4d3deb2.abbb194","type":"comment","z":"411dd76c.f0c058","name":"BL mesaurements","info":"","x":910,"y":4180,"wires":[]},{"id":"6d2a621b.85fcfc","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"delay","timeout":"7","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1180,"y":4200,"wires":[["dc65695c.dc2cb8","f18ecb2f.1bd388"]]},{"id":"f3513b4.0811648","type":"function","z":"411dd76c.f0c058","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":4220,"wires":[["d244d01a.b1aef","dc65695c.dc2cb8","6d2a621b.85fcfc","7245f2a2.870664","3a1a9618.6b419a"]]},{"id":"b578ce87.1c908","type":"link in","z":"411dd76c.f0c058","name":"->BLmeas","links":["fd1c6338.642688"],"x":335,"y":4220,"wires":[["f3513b4.0811648"]]},{"id":"2eaaea7c.6a035e","type":"function","z":"411dd76c.f0c058","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":4220,"wires":[["629d85c.3acb9fc"]]},{"id":"bdb4e75e.1054b8","type":"function","z":"411dd76c.f0c058","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":4260,"wires":[["5ff3ac4e.910c5c"]]},{"id":"cecb70fb.dea678","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1540,"wires":[["c2c81337.cc6e4"]]},{"id":"c2c81337.cc6e4","type":"link out","z":"411dd76c.f0c058","name":"STOP17.0","links":["71ccf1ce.74f6","16320aca.dfe72d","c58951a5.56b19","72b54ca7.3b254c","48c11f9d.37dde","7b3e4ac7.65d3e4"],"x":1295,"y":1540,"wires":[]},{"id":"71ccf1ce.74f6","type":"link in","z":"411dd76c.f0c058","name":"->IT,BL,FAN","links":["c2c81337.cc6e4"],"x":1475,"y":3640,"wires":[["629d85c.3acb9fc","a05f949a.f2a5a8","3414913d.938f56"]]},{"id":"f929562.9c0ffa8","type":"ui_button","z":"411dd76c.f0c058","name":"02 OD realtime value","group":"89016fd5.f82b","order":11,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3380,"wires":[[]]},{"id":"953a6169.16c1a","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.label=msg.payload;\nif (msg.payload>150){\n    msg.background=\"red\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3380,"wires":[["f929562.9c0ffa8"]]},{"id":"357949af.19d466","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.label=msg.payload;\nif (msg.payload>300){\n    msg.background=\"#44cff1\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3420,"wires":[["48e9f667.16512"]]},{"id":"48e9f667.16512","type":"ui_button","z":"411dd76c.f0c058","name":"03 BL realtime value","group":"89016fd5.f82b","order":18,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3420,"wires":[[]]},{"id":"f9724771.ceb6a8","type":"comment","z":"411dd76c.f0c058","name":"Display:","info":"","x":1800,"y":3340,"wires":[]},{"id":"7245f2a2.870664","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":3900,"wires":[["b06833de.d54228"]]},{"id":"b06833de.d54228","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=true;\nreturn msg;\n\n","outputs":1,"noerr":0,"x":750,"y":3940,"wires":[["15a9b440.6cab1c","cfd8feab.a35a8","7c4fadb5.896a14","54308f99.c5c6c8"]]},{"id":"8d089630.354e2","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.delay=flow.get(\"delaytotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3860,"wires":[["7245f2a2.870664","e0c877c.7a5cf88","54308f99.c5c6c8"]]},{"id":"e0c877c.7a5cf88","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3880,"wires":[["8ea878d4.b4fdf"]]},{"id":"5ae56e2f.afe018","type":"comment","z":"411dd76c.f0c058","name":"growth delay","info":"","x":770,"y":3820,"wires":[]},{"id":"920b04be.d3517","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.delay=flow.get(\"tillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4740,"wires":[["4013ba51.42ebac"]]},{"id":"4013ba51.42ebac","type":"delay","z":"411dd76c.f0c058","name":"part","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4740,"wires":[["c8ce69c2.3339d"]]},{"id":"cfd8feab.a35a8","type":"function","z":"411dd76c.f0c058","name":"","func":"if (flow.get(\"pillBLtotal\") === 0 || flow.get(\"tillBLtotal\") === 0){\n    return;\n}\nelse{\n    msg.payload=flow.get(\"intBL\");\n    msg.state=\"ON\";\n    return msg;\n}\n\n\n","outputs":1,"noerr":0,"x":910,"y":4600,"wires":[["920b04be.d3517","a2a87d7b.0a3388","b55f6b66.9ff25","7090283c.9488d8","8abd0ead.6d048"]]},{"id":"c8ce69c2.3339d","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=0;\nmsg.state=\"OFF\";\nreturn msg;\n","outputs":1,"noerr":0,"x":1010,"y":4740,"wires":[["b55f6b66.9ff25","7090283c.9488d8","8abd0ead.6d048"]]},{"id":"a2a87d7b.0a3388","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.delay=flow.get(\"pillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4700,"wires":[["bafda00a.58c6f"]]},{"id":"bafda00a.58c6f","type":"delay","z":"411dd76c.f0c058","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4700,"wires":[["cfd8feab.a35a8"]]},{"id":"d7518153.52f9c","type":"function","z":"411dd76c.f0c058","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":4620,"wires":[["bafda00a.58c6f","4013ba51.42ebac","1c319153.93313f","8abd0ead.6d048"]]},{"id":"2254e801.e840d","type":"comment","z":"411dd76c.f0c058","name":"Cycle w sous cycle la: cool pr la blue LED","info":"","x":990,"y":4500,"wires":[]},{"id":"d8fe8669.2db5f8","type":"link in","z":"411dd76c.f0c058","name":"->BLcycle","links":["fd1c6338.642688"],"x":635,"y":4620,"wires":[["d7518153.52f9c"]]},{"id":"b55f6b66.9ff25","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"BLstate","pt":"flow","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":4560,"wires":[[]]},{"id":"103f053f.1c43f3","type":"inject","z":"411dd76c.f0c058","name":"","topic":"","payload":"OFF","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":890,"y":4540,"wires":[["1c319153.93313f"]]},{"id":"889e9ace.77b378","type":"function","z":"411dd76c.f0c058","name":"for FAN","func":"if (flow.get(\"FANstate\")===\"ON\"){\n    msg.payload=flow.get(\"intFAN\");\n}\nelse if (flow.get(\"FANstate\")===\"OFF\"){\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":3000,"wires":[["64b3dda.b546aa4"]]},{"id":"16320aca.dfe72d","type":"link in","z":"411dd76c.f0c058","name":"->PID","links":["c2c81337.cc6e4"],"x":455,"y":3140,"wires":[["b17ed8bd.0a65c"]]},{"id":"54802633.d092c","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.label=\"Initialization\";\nmsg.background=\"#f39c12\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1640,"wires":[["a2c5b700.6509"]]},{"id":"9adebd6e.2ae608","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":200,"y":1600,"wires":[["4b6275b9.0ced24"]]},{"id":"6e8169c9.22da28","type":"ui_button","z":"411dd76c.f0c058","name":"06 Temp realtime value","group":"89016fd5.f82b","order":39,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1970,"y":3460,"wires":[[]]},{"id":"7ae34784.438d38","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.label=msg.payload;\nif (flow.get(\"PIDstate\")>0){\n    msg.background=\"#fdedec\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3460,"wires":[["6e8169c9.22da28"]]},{"id":"35ab143e.08d004","type":"ui_button","z":"411dd76c.f0c058","name":"05 BLstate","group":"89016fd5.f82b","order":27,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1470,"y":4600,"wires":[[]]},{"id":"7090283c.9488d8","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.label=msg.state;\nif (msg.label===\"ON\"){\n    msg.background=\"#ebf5fb\";\n}\nelse if (msg.label===\"OFF\"){\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":4600,"wires":[["35ab143e.08d004"]]},{"id":"1c319153.93313f","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.state=\"OFF\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":4540,"wires":[["b55f6b66.9ff25","7090283c.9488d8"]]},{"id":"caef848e.e1d63","type":"function","z":"411dd76c.f0c058","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"pillBLtotal\")/1000-(msg.count%(flow.get(\"pillBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":620,"wires":[["aefd2edb.84707"]]},{"id":"5aa5e504.325c84","type":"ui_button","z":"411dd76c.f0c058","name":"04 pillBL Cycle counter","group":"89016fd5.f82b","order":26,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3330,"y":600,"wires":[[]]},{"id":"6a166de.82f9d14","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=flow.get(\"pillBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":580,"wires":[["aefd2edb.84707","7392e85a.70eeb8"]]},{"id":"2927b3d8.48eb9c","type":"counter","z":"411dd76c.f0c058","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":680,"wires":[["caef848e.e1d63"]]},{"id":"6f0af068.48c5e","type":"function","z":"411dd76c.f0c058","name":"","func":"if (flow.get(\"counterpillBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"counterpillBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":640,"wires":[["2927b3d8.48eb9c"]]},{"id":"7c4fadb5.896a14","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"counterpillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":4460,"wires":[[]]},{"id":"e199d0aa.e48ee8","type":"inject","z":"411dd76c.f0c058","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4480,"wires":[["8af69de7.936e28"]]},{"id":"8af69de7.936e28","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4460,"wires":[["7c4fadb5.896a14"]]},{"id":"f416a431.443328","type":"link in","z":"411dd76c.f0c058","name":"->Counter","links":["fd1c6338.642688"],"x":415,"y":4440,"wires":[["8af69de7.936e28"]]},{"id":"7f31a5c4.2b03dc","type":"inject","z":"411dd76c.f0c058","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"3","x":190,"y":1520,"wires":[["27a946ff.4aedf2"]]},{"id":"7053bb91.74acdc","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":1,"width":"3","height":"1","name":"00 eVOLVER02","label":"<font size =5>eVOLVER02","format":"{{msg.payload}}","layout":"row-center","x":700,"y":60,"wires":[]},{"id":"c04a5f8.6a193a","type":"link out","z":"411dd76c.f0c058","name":"enabled->","links":["4dea90fc.2f6ab"],"x":955,"y":2080,"wires":[]},{"id":"72b54ca7.3b254c","type":"link in","z":"411dd76c.f0c058","name":"->GL","links":["c2c81337.cc6e4"],"x":255,"y":2120,"wires":[["77878fb5.b146d8","8eeb6a14.326018"]]},{"id":"613d5bad.f8469c","type":"comment","z":"411dd76c.f0c058","name":"01","info":"","x":550,"y":60,"wires":[]},{"id":"a2920434.0c59b8","type":"comment","z":"411dd76c.f0c058","name":"02 ODmeas","info":"","x":650,"y":180,"wires":[]},{"id":"f8f3a2c1.f59b4","type":"comment","z":"411dd76c.f0c058","name":"03 BLmeas","info":"","x":670,"y":300,"wires":[]},{"id":"676aaeed.6c7ca8","type":"link in","z":"411dd76c.f0c058","name":"->ARDUINO FAN","links":["3348eb86.ecb5b4","64b3dda.b546aa4"],"x":1275,"y":3820,"wires":[["5ff3ac4e.910c5c"]]},{"id":"cedb6bb0.461298","type":"link in","z":"411dd76c.f0c058","name":"->ARDUINO IR","links":["197ecbfc.d1dbec"],"x":1695,"y":3640,"wires":[["a05f949a.f2a5a8"]]},{"id":"f331c91b.31cae8","type":"link in","z":"411dd76c.f0c058","name":"->ARDUINO BL","links":["8abd0ead.6d048","20744283.9555b6"],"x":1615,"y":3760,"wires":[["629d85c.3acb9fc"]]},{"id":"8abd0ead.6d048","type":"link out","z":"411dd76c.f0c058","name":"BLcycle->BL","links":["f331c91b.31cae8"],"x":1235,"y":4660,"wires":[]},{"id":"64b3dda.b546aa4","type":"link out","z":"411dd76c.f0c058","name":"Fancontrol","links":["676aaeed.6c7ca8"],"x":895,"y":3000,"wires":[]},{"id":"3348eb86.ecb5b4","type":"link out","z":"411dd76c.f0c058","name":"Fansetup","links":["676aaeed.6c7ca8"],"x":1735,"y":1060,"wires":[]},{"id":"197ecbfc.d1dbec","type":"link out","z":"411dd76c.f0c058","name":"IRsetup","links":["cedb6bb0.461298"],"x":1115,"y":180,"wires":[]},{"id":"20744283.9555b6","type":"link out","z":"411dd76c.f0c058","name":"BLcycle->BL","links":["f331c91b.31cae8"],"x":1135,"y":300,"wires":[]},{"id":"7e921e8.bc443e","type":"link out","z":"411dd76c.f0c058","name":"PIDsetup->","links":["a9da7d9a.f8ff48"],"x":1295,"y":880,"wires":[]},{"id":"a9da7d9a.f8ff48","type":"link in","z":"411dd76c.f0c058","name":"->ARDUINO HEATER","links":["7e921e8.bc443e","adac9125.ca28a8"],"x":1215,"y":3140,"wires":[["c4f23924.975cb8"]]},{"id":"8eeb6a14.326018","type":"link out","z":"411dd76c.f0c058","name":"GRlaunch->","links":["b4b46912.a4d2d8"],"x":515,"y":2160,"wires":[]},{"id":"b4b46912.a4d2d8","type":"link in","z":"411dd76c.f0c058","name":"->GL","links":["8eeb6a14.326018"],"x":1035,"y":120,"wires":[["25550914.26c0a6"]]},{"id":"f1c8c947.e80f7","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":800,"y":3160,"wires":[["e8f8cb72.c609e8"]]},{"id":"8af2d1ed.76a82","type":"PID","z":"411dd76c.f0c058","name":"","setpoint":"550","pb":"0","ti":"900","td":0,"integral_default":0.5,"smooth_factor":3,"max_interval":600,"enable":"0","disabled_op":0,"x":1010,"y":3100,"wires":[["c2441e27.b6ddd","9a42c105.d12c"]]},{"id":"4cfbab52.efe5dc","type":"arduino in","z":"411dd76c.f0c058","name":"TempSensor","pin":"0","state":"ANALOG","arduino":"d6fbebf1.ddd72","x":750,"y":3120,"wires":[["f1c8c947.e80f7","df4ed75.85939a8"]]},{"id":"c4f23924.975cb8","type":"arduino out","z":"411dd76c.f0c058","name":"Heater","pin":"4","state":"OUTPUT","arduino":"d6fbebf1.ddd72","x":1330,"y":3100,"wires":[]},{"id":"c2441e27.b6ddd","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"PIDstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":3060,"wires":[[]]},{"id":"683dcdc7.15e3cc","type":"inject","z":"411dd76c.f0c058","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":"0.3","x":1130,"y":3020,"wires":[["c2441e27.b6ddd"]]},{"id":"b17ed8bd.0a65c","type":"function","z":"411dd76c.f0c058","name":"","func":"if (msg.payload===true){\n    msg.enable=1;\n}\nif (msg.payload===0){\n    msg.enable=0;\n}\nif (flow.get(\"PID\")===\"OFF\"){\n    msg.enable=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3080,"wires":[["8af2d1ed.76a82"]]},{"id":"e8f8cb72.c609e8","type":"function","z":"411dd76c.f0c058","name":"setpoint","func":"msg.setpoint=flow.get(\"Temp\");\nreturn msg;","outputs":1,"noerr":0,"x":840,"y":3200,"wires":[["8af2d1ed.76a82"]]},{"id":"124f326c.ab092e","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":940,"y":980,"wires":[["61c54888.6b41a"]]},{"id":"61c54888.6b41a","type":"function","z":"411dd76c.f0c058","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    msg.payload=0;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1210,"y":960,"wires":[["d16c3827.cc25d"]]},{"id":"9a42c105.d12c","type":"function","z":"411dd76c.f0c058","name":"","func":"if (flow.get(\"launched\")===false){\n    return;\n}\nelse if (flow.get(\"launched\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":1170,"y":3100,"wires":[["c4f23924.975cb8"]]},{"id":"f4cc5be7.bd6a6","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"launched","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1960,"wires":[[]]},{"id":"e00c974c.d7a4b8","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":800,"wires":[[]]},{"id":"f770b6a4.2aa28","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"PID","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":860,"wires":[["24f72767.e78e1"]]},{"id":"40ffc80d.27a2b","type":"inject","z":"411dd76c.f0c058","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":250,"y":1960,"wires":[["f4cc5be7.bd6a6"]]},{"id":"7746ba64.e7d444","type":"link in","z":"411dd76c.f0c058","name":"->launched","links":["fd1c6338.642688"],"x":275,"y":2000,"wires":[["f4cc5be7.bd6a6"]]},{"id":"4c50235e.0ebb64","type":"function","z":"411dd76c.f0c058","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    return msg;\n}\n","outputs":1,"noerr":0,"x":910,"y":940,"wires":[["124f326c.ab092e"]]},{"id":"292fcc30.d8d5e4","type":"inject","z":"411dd76c.f0c058","name":"INITIALIZATION","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":290,"y":720,"wires":[["ecfa5cf5.c268e8"]]},{"id":"ecfa5cf5.c268e8","type":"function","z":"411dd76c.f0c058","name":"initialization","func":"\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":740,"wires":[["19623cc3.44daf3","15a07478.b86a74","2a944910.358026","cfda4f59.59d02","619b0497.bec0cc","da5cd0fb.b119","526d956d.0df54c","5315602a.f1c38","ac6f2074.99b38"]]},{"id":"aa81dcaa.a10628","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=10;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":180,"wires":[["2c332edb.fd9fe2","4940f735.79e3f","b6c05eb8.40ff78"]]},{"id":"4940f735.79e3f","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1670,"y":180,"wires":[["48020deb.588154","526d317.c31ebd","bc7754f0.651fc"]]},{"id":"b6c05eb8.40ff78","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":300,"wires":[["bf10794e.f79cc","812a4db.92462b"]]},{"id":"812a4db.92462b","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1710,"y":300,"wires":[["7cfe87b6.70a898"]]},{"id":"f5a768d6.7fc77","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":520,"wires":[["8f0dc5f2.22f008","830ef20f.0c15b8"]]},{"id":"830ef20f.0c15b8","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=\"seconds\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":520,"wires":[["d589e177.b3d2b"]]},{"id":"19623cc3.44daf3","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=1;\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":520,"wires":[["a43f3246.841e4","5e5f389e.4a4c38"]]},{"id":"5e5f389e.4a4c38","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":520,"wires":[["43b7eb55.187314","f5a768d6.7fc77"]]},{"id":"23651169.bfe7e6","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":1140,"wires":[["ab0787e9.7c577","21f548f0.7b5c5"]]},{"id":"15a07478.b86a74","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":1140,"wires":[["8a0b5eb9.f1f958","23651169.bfe7e6"]]},{"id":"2a944910.358026","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=550;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":840,"wires":[["43457bcb.f20e94"]]},{"id":"cfda4f59.59d02","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":880,"wires":[["d16c3827.cc25d"]]},{"id":"21f548f0.7b5c5","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":1020,"wires":[["f0b82425.13a6e","2705d3f2.e6c6fc"]]},{"id":"2705d3f2.e6c6fc","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=100;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":980,"wires":[["61e516d8.0473f8","8dac17f9.8e446"]]},{"id":"8dac17f9.8e446","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":800,"wires":[["f770b6a4.2aa28","e1e33962.f07e6"]]},{"id":"619b0497.bec0cc","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":1020,"wires":[["9d737151.f53088"]]},{"id":"da5cd0fb.b119","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":420,"wires":[["e09ede36.68f718"]]},{"id":"ac6f2074.99b38","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":300,"wires":[["d65795ab.b7d2e8"]]},{"id":"5315602a.f1c38","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":180,"wires":[["2326a10c.3598ce","92521a9f.832438"]]},{"id":"526d956d.0df54c","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":60,"wires":[["96f63409.98659"]]},{"id":"92521a9f.832438","type":"function","z":"411dd76c.f0c058","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":60,"wires":[["3f72d58a.2716a2","aa81dcaa.a10628"]]},{"id":"f3e12a56.99a45","type":"link in","z":"411dd76c.f0c058","name":"->initialization","links":["baa45585.404c18"],"x":375,"y":760,"wires":[["ecfa5cf5.c268e8"]]},{"id":"f0b82425.13a6e","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1480,"y":1060,"wires":[["7f2c700c.3eeb28"]]},{"id":"aefd2edb.84707","type":"function","z":"411dd76c.f0c058","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":600,"wires":[["5aa5e504.325c84"]]},{"id":"9f19632.0e3a6a","type":"inject","z":"411dd76c.f0c058","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":640,"wires":[["6f0af068.48c5e"]]},{"id":"cbb941eb.29b908","type":"function","z":"411dd76c.f0c058","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measODtotal\")/1000-(msg.count%(flow.get(\"measODtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":300,"wires":[["cf5980d9.e6be9"]]},{"id":"d75ac404.2214e","type":"ui_button","z":"411dd76c.f0c058","name":"02 ODmeas Cycle counter","group":"89016fd5.f82b","order":10,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":280,"wires":[[]]},{"id":"526d317.c31ebd","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=flow.get(\"measODtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":260,"wires":[["cf5980d9.e6be9","f23d2996.0a59f8"]]},{"id":"2ca96cc1.0e841c","type":"counter","z":"411dd76c.f0c058","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":360,"wires":[["cbb941eb.29b908"]]},{"id":"9ea41768.4b8268","type":"function","z":"411dd76c.f0c058","name":"","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}if (flow.get(\"countermeasOD\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasOD\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":320,"wires":[["2ca96cc1.0e841c"]]},{"id":"cf5980d9.e6be9","type":"function","z":"411dd76c.f0c058","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":280,"wires":[["d75ac404.2214e"]]},{"id":"5cc57111.173e48","type":"inject","z":"411dd76c.f0c058","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":320,"wires":[["9ea41768.4b8268"]]},{"id":"e9a2e0b5.3e4d88","type":"function","z":"411dd76c.f0c058","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measBLtotal\")/1000-(msg.count%(flow.get(\"measBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":460,"wires":[["e8ff0c8.2272ff"]]},{"id":"14421a36.4d0bf6","type":"ui_button","z":"411dd76c.f0c058","name":"03 BLmeas Cycle counter","group":"89016fd5.f82b","order":17,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":440,"wires":[[]]},{"id":"f23d2996.0a59f8","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=flow.get(\"measBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":420,"wires":[["e8ff0c8.2272ff","6a166de.82f9d14"]]},{"id":"e63225e0.354b6","type":"counter","z":"411dd76c.f0c058","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":520,"wires":[["e9a2e0b5.3e4d88"]]},{"id":"c70290a8.14bcb","type":"function","z":"411dd76c.f0c058","name":"","func":"if (flow.get(\"countermeasBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":480,"wires":[["e63225e0.354b6"]]},{"id":"e8ff0c8.2272ff","type":"function","z":"411dd76c.f0c058","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":440,"wires":[["14421a36.4d0bf6"]]},{"id":"17bcfb86.51e284","type":"inject","z":"411dd76c.f0c058","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":480,"wires":[["c70290a8.14bcb"]]},{"id":"a64ff292.5a7998","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"countermeasBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1010,"y":4140,"wires":[[]]},{"id":"4f9dd745.60af48","type":"inject","z":"411dd76c.f0c058","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4160,"wires":[["828cadf3.1f8cc8"]]},{"id":"828cadf3.1f8cc8","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4140,"wires":[["a64ff292.5a7998"]]},{"id":"8eb9f132.03ef58","type":"link in","z":"411dd76c.f0c058","name":"->Counter","links":["fd1c6338.642688"],"x":415,"y":4120,"wires":[["828cadf3.1f8cc8"]]},{"id":"fa024398.99bed8","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"countermeasOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3560,"wires":[[]]},{"id":"e525e0a1.5518","type":"inject","z":"411dd76c.f0c058","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":230,"y":3580,"wires":[["d821e7c2.78df28"]]},{"id":"d821e7c2.78df28","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":3560,"wires":[["fa024398.99bed8"]]},{"id":"8e31b8a2.afb7b","type":"link in","z":"411dd76c.f0c058","name":"->Counter","links":["fd1c6338.642688"],"x":255,"y":3540,"wires":[["d821e7c2.78df28"]]},{"id":"f18ecb2f.1bd388","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":4040,"wires":[["a64ff292.5a7998"]]},{"id":"c6aa129d.7f1b38","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":900,"wires":[["cd291d67.a9452"]]},{"id":"abd56490.62674","type":"counter","z":"411dd76c.f0c058","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":980,"wires":[["1a107736.d981c9"]]},{"id":"4168084a.e2582","type":"function","z":"411dd76c.f0c058","name":"","func":"if (flow.get(\"counterlaunch\")===false){\n    return;\n}\nelse if (flow.get(\"counterlaunch\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":940,"wires":[["abd56490.62674"]]},{"id":"cd291d67.a9452","type":"function","z":"411dd76c.f0c058","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3120,"y":920,"wires":[["bc29aa48.4edf88","d01cb371.7071c8"]]},{"id":"d1cc58a3.c38428","type":"inject","z":"411dd76c.f0c058","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":940,"wires":[["4168084a.e2582"]]},{"id":"bc29aa48.4edf88","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":53,"width":"4","height":"1","name":"09 elapsed time","label":"Elapsed time: ","format":"{{msg.payload}}","layout":"row-left","x":3280,"y":940,"wires":[]},{"id":"1a107736.d981c9","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=msg.count;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":940,"wires":[["cd291d67.a9452"]]},{"id":"6982f0d9.f2bb","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"counterlaunch","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":2880,"wires":[[]]},{"id":"b6c817be.eb5b18","type":"inject","z":"411dd76c.f0c058","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":270,"y":2900,"wires":[["b8fdc3d9.51f79"]]},{"id":"b8fdc3d9.51f79","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":2880,"wires":[["6982f0d9.f2bb"]]},{"id":"26eee645.6c6aa2","type":"link in","z":"411dd76c.f0c058","name":"->Counter","links":["fd1c6338.642688"],"x":295,"y":2860,"wires":[["b8fdc3d9.51f79"]]},{"id":"41b20d77.404da4","type":"function","z":"411dd76c.f0c058","name":"","func":"if (msg.count>=flow.get(\"delaytotal\")/1000){\n    msg.payload=0;\n}\nelse {\n    msg.payload=flow.get(\"delaytotal\")/1000-(msg.count%(flow.get(\"delaytotal\")/1000));\n\n}\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":780,"wires":[["657d834.138cf7c"]]},{"id":"6ffbb043.6ec55","type":"ui_button","z":"411dd76c.f0c058","name":"08 growthdelay Cycle counter","group":"89016fd5.f82b","order":50,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3350,"y":760,"wires":[[]]},{"id":"7392e85a.70eeb8","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=flow.get(\"delaytotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":740,"wires":[["657d834.138cf7c","c6aa129d.7f1b38"]]},{"id":"e178b541.9eef5","type":"counter","z":"411dd76c.f0c058","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":840,"wires":[["41b20d77.404da4"]]},{"id":"842bac1d.e791d","type":"function","z":"411dd76c.f0c058","name":"","func":"if (flow.get(\"delaytotal\")===0){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===false){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":800,"wires":[["e178b541.9eef5"]]},{"id":"657d834.138cf7c","type":"function","z":"411dd76c.f0c058","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":760,"wires":[["6ffbb043.6ec55"]]},{"id":"6d70bc8c.2e39c4","type":"inject","z":"411dd76c.f0c058","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":800,"wires":[["842bac1d.e791d"]]},{"id":"8ea878d4.b4fdf","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"counterdelay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1040,"y":3840,"wires":[[]]},{"id":"dcfcca9e.95f85","type":"inject","z":"411dd76c.f0c058","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":430,"y":3860,"wires":[["a63876da.e6bb48"]]},{"id":"a63876da.e6bb48","type":"function","z":"411dd76c.f0c058","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":3840,"wires":[["8ea878d4.b4fdf","54308f99.c5c6c8"]]},{"id":"197485a5.c83cda","type":"link in","z":"411dd76c.f0c058","name":"->Counter","links":["fd1c6338.642688"],"x":455,"y":3820,"wires":[["a63876da.e6bb48"]]},{"id":"c001459a.2ebb58","type":"ui_text","z":"411dd76c.f0c058","group":"89016fd5.f82b","order":51,"width":"2","height":"1","name":"08 growth delay status","label":"","format":"{{msg.payload}}","layout":"row-center","x":1110,"y":3960,"wires":[]},{"id":"54308f99.c5c6c8","type":"function","z":"411dd76c.f0c058","name":"","func":"if (msg.payload===false){\n    msg.payload=\"delay status\";\n}\nif (msg.payload===\"delay\"){\n    msg.payload=\"ongoing\";\n}\nelse if (msg.payload===true){\n    msg.payload=\"over\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3960,"wires":[["c001459a.2ebb58"]]},{"id":"5ff33515.ecc5a4","type":"function","z":"411dd76c.f0c058","name":"reset","func":"msg.reset=true;\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2410,"y":540,"wires":[["2ca96cc1.0e841c","2927b3d8.48eb9c","e178b541.9eef5","abd56490.62674"]]},{"id":"bc7754f0.651fc","type":"delay","z":"411dd76c.f0c058","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":2240,"y":520,"wires":[["5ff33515.ecc5a4"]]},{"id":"d01cb371.7071c8","type":"change","z":"411dd76c.f0c058","name":"","rules":[{"t":"set","p":"elapsed","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3290,"y":900,"wires":[[]]},{"id":"996113a0.23491","type":"function","z":"411dd76c.f0c058","name":"elapsed","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=\"Elapsed time \"+flow.get(\"elapsed\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":1660,"wires":[["80cc40ce.debc5"]]},{"id":"80cc40ce.debc5","type":"file","z":"411dd76c.f0c058","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1270,"y":1660,"wires":[[]]},{"id":"14184bf0.fb0e64","type":"comment","z":"411dd76c.f0c058","name":"BOUGZY DEPLOY","info":"","x":2590,"y":80,"wires":[]},{"id":"a5d2692a.3f9cd","type":"arduino out","z":"5ff2f33d.a031ec","name":"GL17","pin":"3","state":"OUTPUT","arduino":"43ff8522.d4c3ac","x":1130,"y":60,"wires":[]},{"id":"112fb90f.3ebeff","type":"arduino out","z":"5ff2f33d.a031ec","name":"YL17","pin":"2","state":"OUTPUT","arduino":"43ff8522.d4c3ac","x":1550,"y":60,"wires":[]},{"id":"f505e082.689d3","type":"ui_slider","z":"5ff2f33d.a031ec","name":"05 intensity:","label":"intensity:","tooltip":"","group":"2f478177.2ea12e","order":30,"width":"7","height":"1","passthru":true,"outs":"end","topic":"","min":0,"max":"255","step":"1","x":1170,"y":420,"wires":[["453ed8b7.195ad","72ab732c.94c5a4"]]},{"id":"6d0e0de2.2546f4","type":"ui_numeric","z":"5ff2f33d.a031ec","name":"06 and set to 480","label":"and set to","tooltip":"","group":"2f478177.2ea12e","order":37,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"1025","step":"1","x":1030,"y":840,"wires":[["5c9abc8c.4b6954"]]},{"id":"b61e0d56.4a16e8","type":"ui_switch","z":"5ff2f33d.a031ec","name":"01 GL17","label":"","tooltip":"","group":"2f478177.2ea12e","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"green","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"green","x":1000,"y":60,"wires":[["a5d2692a.3f9cd"]]},{"id":"b9900b1b.bbf65","type":"ui_switch","z":"5ff2f33d.a031ec","name":"01 YL17","label":"","tooltip":"","group":"2f478177.2ea12e","order":4,"width":"1","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#e2c43c","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"#e2c43c","x":1420,"y":60,"wires":[["112fb90f.3ebeff"]]},{"id":"aebd0186.21dbc8","type":"ui_switch","z":"5ff2f33d.a031ec","name":"02 IR17","label":"","tooltip":"","group":"2f478177.2ea12e","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"red","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1000,"y":180,"wires":[["2287c1d7.e7b346"]]},{"id":"839c2ae4.db4e","type":"ui_switch","z":"5ff2f33d.a031ec","name":"03 BL17","label":"","tooltip":"","group":"2f478177.2ea12e","order":12,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#44cff1","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1020,"y":300,"wires":[["72ab732c.94c5a4"]]},{"id":"17cb4d1b.f8da93","type":"ui_switch","z":"5ff2f33d.a031ec","name":"07 FAN","label":"","tooltip":"","group":"2f478177.2ea12e","order":40,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"toys","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1620,"y":1080,"wires":[["5634e232.efab84"]]},{"id":"20f96127.25b03e","type":"ui_switch","z":"5ff2f33d.a031ec","name":"06 T01 PID","label":"","tooltip":"","group":"2f478177.2ea12e","order":33,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"enable","style":"","onvalue":"1","onvalueType":"num","onicon":"hot_tub","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1030,"y":880,"wires":[["864900e5.d1c378","67ee3b9e.2737b4"]]},{"id":"ba6bab81.51556","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":25,"width":"2","height":"1","name":"04 spacer","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1770,"y":520,"wires":[]},{"id":"36110e56.1042f2","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":46,"width":"7","height":"1","name":"07 last spacer","label":"(produces sound: fine).","format":"{{msg.payload}}","layout":"row-spread","x":1960,"y":1020,"wires":[]},{"id":"3ba8734b.7c732c","type":"ui_numeric","z":"5ff2f33d.a031ec","name":"02 every 5","label":"every","tooltip":"","group":"2f478177.2ea12e","order":7,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1450,"y":220,"wires":[["84ae75e.959bf88"]]},{"id":"f1b08eb5.78205","type":"ui_dropdown","z":"5ff2f33d.a031ec","name":"02 minutes","label":"","tooltip":"","place":"Select option","group":"2f478177.2ea12e","order":8,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1690,"y":220,"wires":[["43511aa2.65a674"]]},{"id":"d37491c.06f0bf","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"measODtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2280,"y":320,"wires":[["cdc227f6.153308"]]},{"id":"7ea67ad3.0c5f44","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":9,"width":"7","height":"1","name":"02 (takes 5 seconds)","label":"(takes 5 seconds).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":180,"wires":[]},{"id":"e18c9de9.e15d","type":"ui_numeric","z":"5ff2f33d.a031ec","name":"03 every 5","label":"every","tooltip":"","group":"2f478177.2ea12e","order":14,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1490,"y":340,"wires":[["e89b5c63.555578"]]},{"id":"b6d6fae2.282358","type":"ui_dropdown","z":"5ff2f33d.a031ec","name":"03 minutes","label":"","tooltip":"","place":"Select option","group":"2f478177.2ea12e","order":15,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1730,"y":340,"wires":[["18890036.b7599"]]},{"id":"e89b5c63.555578","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"measBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":380,"wires":[["7eac2a4a.bf1c7c"]]},{"id":"a18d262d.e0962","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"measBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1940,"y":380,"wires":[["7eac2a4a.bf1c7c"]]},{"id":"ff21fdd2.903e3","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":16,"width":"7","height":"1","name":"03 (takes 5 seconds)","label":"(takes 5 secs, max illum., shifted timing).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":300,"wires":[]},{"id":"453ed8b7.195ad","type":"ui_numeric","z":"5ff2f33d.a031ec","name":"05 at 255","label":"at","tooltip":"","group":"2f478177.2ea12e","order":29,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":"1","x":1020,"y":420,"wires":[["ea5802f0.df0ee","f505e082.689d3"]]},{"id":"ea5802f0.df0ee","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"intBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":460,"wires":[[]]},{"id":"82c6076d.d7ff2","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":6,"width":"3","height":"1","name":"02 Meaure OD:","label":"Measure OD:","format":"{{msg.payload}}","layout":"row-spread","x":1280,"y":180,"wires":[]},{"id":"14c5add4.68da7a","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":13,"width":"3","height":"1","name":"03 Meaure BL:","label":"Measure BL:","format":"{{msg.payload}}","layout":"row-spread","x":1340,"y":300,"wires":[]},{"id":"c97ed579.7e0bf8","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":28,"width":"4","height":"1","name":"05 spacer1","label":"","format":"{{msg.payload}}","layout":"row-spread","x":710,"y":420,"wires":[]},{"id":"de6900c9.b66cc8","type":"ui_button","z":"5ff2f33d.a031ec","name":"05 OK","group":"2f478177.2ea12e","order":31,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1350,"y":420,"wires":[["839c2ae4.db4e"]]},{"id":"d04045ba.a55048","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":19,"width":"1","height":"1","name":"04 - -","label":"","format":"{{msg.payload}}","layout":"row-spread","x":630,"y":520,"wires":[]},{"id":"30e6d218.d8b67e","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":20,"width":"3","height":"1","name":"04 Illuminate BL:","label":"Illuminate BL:","format":"{{msg.payload}}","layout":"row-spread","x":670,"y":560,"wires":[]},{"id":"45a7704e.13362","type":"ui_numeric","z":"5ff2f33d.a031ec","name":"04 every 1","label":"every","tooltip":"","group":"2f478177.2ea12e","order":21,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":850,"y":560,"wires":[["91af02e6.69a138"]]},{"id":"fe672f54.fef098","type":"ui_dropdown","z":"5ff2f33d.a031ec","name":"04 hour","label":"","tooltip":"","place":"Select option","group":"2f478177.2ea12e","order":22,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1080,"y":560,"wires":[["ef96a4e4.32e4f"]]},{"id":"91af02e6.69a138","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"pillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":600,"wires":[["2bd2428.400afbe"]]},{"id":"bf2573c2.08bbb","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"pillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":640,"wires":[["2bd2428.400afbe"]]},{"id":"b75149c7.1697a8","type":"ui_numeric","z":"5ff2f33d.a031ec","name":"04 for 5","label":"for","tooltip":"","group":"2f478177.2ea12e","order":23,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1340,"y":560,"wires":[["40b75e44.8dd61"]]},{"id":"16fdc425.150b7c","type":"ui_dropdown","z":"5ff2f33d.a031ec","name":"04 minutes","label":"","tooltip":"","place":"Select option","group":"2f478177.2ea12e","order":24,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1590,"y":560,"wires":[["a42433e1.79fb4"]]},{"id":"40b75e44.8dd61","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"tillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":600,"wires":[["78c6441c.a9c264"]]},{"id":"97708375.b0ef08","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"tillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1610,"y":640,"wires":[["78c6441c.a9c264"]]},{"id":"357b69d3.93384e","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":32,"width":"5","height":"1","name":"05 spacer2","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1530,"y":420,"wires":[]},{"id":"d7237f5a.710918","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":35,"width":"2","height":"1","name":"06 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1850,"y":860,"wires":[]},{"id":"c69e2452.07f1c","type":"ui_switch","z":"5ff2f33d.a031ec","name":"06 act.switch","label":"","tooltip":"","group":"2f478177.2ea12e","order":36,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"hot_tub","oncolor":"red","offvalue":"OFF","offvalueType":"str","officon":"ac_unit","offcolor":"grey","x":1520,"y":880,"wires":[["68e5e875.d77ac8"]]},{"id":"d23e3165.0f2308","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":38,"width":"6","height":"1","name":"06 Volts.","label":"Volts.","format":"{{msg.payload}}","layout":"row-spread","x":1220,"y":840,"wires":[]},{"id":"339a9f98.f4969","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":34,"width":"4","height":"1","name":"06 Temperature control:","label":"Temperature control:","format":"{{msg.payload}}","layout":"row-spread","x":2050,"y":860,"wires":[]},{"id":"13b23345.fcf8cd","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":41,"width":"4","height":"1","name":"07 Fan:","label":"Fan:","format":"{{msg.payload}}","layout":"row-spread","x":700,"y":1060,"wires":[]},{"id":"a9daf967.775c8","type":"ui_switch","z":"5ff2f33d.a031ec","name":"07 enable switch","label":"","tooltip":"","group":"2f478177.2ea12e","order":43,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"toys","oncolor":"green","offvalue":"OFF","offvalueType":"str","officon":"radio_button_unchecked","offcolor":"grey","x":910,"y":1060,"wires":[["98c6af14.828058","f6edcc63.91b948"]]},{"id":"f6edcc63.91b948","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":42,"width":"2","height":"1","name":"07 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1230,"y":1060,"wires":[]},{"id":"98c6af14.828058","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"FANstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1020,"wires":[[]]},{"id":"ac056a63.6ad38","type":"ui_numeric","z":"5ff2f33d.a031ec","name":"07 and set to 100","label":"and set to","tooltip":"","group":"2f478177.2ea12e","order":44,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"255","step":"1","x":1590,"y":1020,"wires":[["8f07e116.df2258","5634e232.efab84"]]},{"id":"8f07e116.df2258","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"intFAN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1780,"y":1000,"wires":[[]]},{"id":"8dc94ed4.0471a8","type":"ui_button","z":"5ff2f33d.a031ec","name":"07 OK","group":"2f478177.2ea12e","order":45,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1430,"y":1100,"wires":[["17cb4d1b.f8da93"]]},{"id":"9126b7ed.866918","type":"ui_numeric","z":"5ff2f33d.a031ec","name":"08 add delay","label":"Add growing delay of","tooltip":"","group":"2f478177.2ea12e","order":47,"width":"6","height":"1","passthru":true,"topic":"setpoint","format":"{{value}}","min":"0","max":"100","step":"1","x":870,"y":1180,"wires":[["db8dbb6d.b1bb1"]]},{"id":"6a7d5ccf.2b5494","type":"ui_dropdown","z":"5ff2f33d.a031ec","name":"08 hour","label":"","tooltip":"","place":"Select option","group":"2f478177.2ea12e","order":48,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1060,"y":1180,"wires":[["c73354ad.cf73e"]]},{"id":"db8dbb6d.b1bb1","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"delay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":1220,"wires":[["13b60bbf.66c614"]]},{"id":"4728e213.3d74b4","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"delayunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1090,"y":1220,"wires":[["13b60bbf.66c614"]]},{"id":"257ae3d3.5785dc","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":49,"width":"8","height":"1","name":"08 finalspacer","label":"(during which no BL measure will be made).","format":"{{msg.payload}}","layout":"row-spread","x":1240,"y":1140,"wires":[]},{"id":"966581cd.2b68b","type":"ui_text_input","z":"5ff2f33d.a031ec","name":"09 DETAILS","label":"DETAILS:","tooltip":"","group":"2f478177.2ea12e","order":52,"width":"16","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1110,"y":2560,"wires":[["cbb929c.a03c1d8"]]},{"id":"68c7e5b4.234c34","type":"ui_text_input","z":"5ff2f33d.a031ec","name":"10 Nickname","label":"Nickname:","tooltip":"","group":"2f478177.2ea12e","order":54,"width":"4","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1120,"y":2600,"wires":[["c2f147bd.2ec96"]]},{"id":"de73b0b4.0166b8","type":"inject","z":"5ff2f33d.a031ec","name":"","topic":"","payload":"eV03_","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":830,"y":2600,"wires":[["cd67bccd.90ece8"]]},{"id":"5f95cde4.093064","type":"ui_button","z":"5ff2f33d.a031ec","name":"10 LAUNCH EXP","group":"2f478177.2ea12e","order":55,"width":"10","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"bool","topic":"","x":310,"y":1900,"wires":[["a2b24e9d.0ee7b8","7e580bb4.9bdde4","6567260.edf72dc","a69b956f.590688","a26e2ea6.b3d638","632bc6d1.a57588","ee80700b.c9c3d"]]},{"id":"ea5ccb49.64d2b8","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.label=\"Running...\";\nmsg.background=\"#FFC300\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1600,"wires":[["5f95cde4.093064"]]},{"id":"9a4981e5.856a98","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.label=\"LAUNCH EXPERIMENT\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1520,"wires":[["5f95cde4.093064"]]},{"id":"d86ce2a.19a4aa","type":"inject","z":"5ff2f33d.a031ec","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":210,"y":1640,"wires":[["a69b956f.590688"]]},{"id":"a3ea2d78.7894a8","type":"ui_button","z":"5ff2f33d.a031ec","name":"10 RESET","group":"2f478177.2ea12e","order":57,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"reset","payloadType":"str","topic":"","x":1610,"y":1480,"wires":[["aae7b2e0.f33318","88c26ee3.96e31","c5c956a3.33f56","8e6b976a.35b688"]]},{"id":"aae7b2e0.f33318","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.label=\"Reseting...\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1520,"wires":[["a3ea2d78.7894a8","c3a6d769.1726d"]]},{"id":"c4a921bd.e89b68","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.label=\"RESET\";\nmsg.background=\"grey\";\nreturn msg;","outputs":1,"noerr":0,"x":1750,"y":1660,"wires":[["a3ea2d78.7894a8"]]},{"id":"a795b407.5810a8","type":"inject","z":"5ff2f33d.a031ec","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1630,"y":1680,"wires":[["c4a921bd.e89b68"]]},{"id":"c3a6d769.1726d","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1560,"wires":[["10cfd89e.cc8d6f"]]},{"id":"10cfd89e.cc8d6f","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.label=\"SUCCESS\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1600,"wires":[["1937e43c.052d04","a3ea2d78.7894a8"]]},{"id":"1937e43c.052d04","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1640,"wires":[["c4a921bd.e89b68"]]},{"id":"59f6cd06.d5ae44","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.label=\"Halted experiment\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1560,"wires":[["5f95cde4.093064"]]},{"id":"e049509d.fc943","type":"ui_button","z":"5ff2f33d.a031ec","name":"10 STOP","group":"2f478177.2ea12e","order":56,"width":"4","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"str","topic":"","x":860,"y":1540,"wires":[["f8ed6254.5e67f"]]},{"id":"3a7dae8.1a5d052","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.label=\"Stopped.\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":1580,"wires":[["e049509d.fc943"]]},{"id":"d2fadff5.d361a8","type":"inject","z":"5ff2f33d.a031ec","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":710,"y":1500,"wires":[["457b56e7.82271"]]},{"id":"457b56e7.82271","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.label=\"STOP\";\nmsg.background=\"#cb4335\";\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1500,"wires":[["e049509d.fc943"]]},{"id":"7c1e4451.1365d4","type":"comment","z":"5ff2f33d.a031ec","name":"Launch TODOs","info":"Turn off and disable all above switches\ndisable the launch button\nCA MARCHE PAS","x":840,"y":2080,"wires":[]},{"id":"ab2fd523.f547a8","type":"comment","z":"5ff2f33d.a031ec","name":"Reset TODOs","info":"Enable anew all above switches\nReset all default values in exp menu\nBlink LEDs as indicators ;)","x":1440,"y":1660,"wires":[]},{"id":"5847f91b.6ab65","type":"comment","z":"5ff2f33d.a031ec","name":"Stop TODOs","info":"","x":850,"y":1420,"wires":[]},{"id":"465b6ded.fde134","type":"simpletime","z":"5ff2f33d.a031ec","name":"","x":910,"y":2360,"wires":[["5e26a570.d49594","92891166.cf35e8"]]},{"id":"5e26a570.d49594","type":"function","z":"5ff2f33d.a031ec","name":"20190417_172653_nickname/...","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\")+\"/\"+msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1180,"y":2360,"wires":[["739ea8d.8d44bd8","a1533624.e6665","1e038271.bebe26","5884fc8d.690cf4"]]},{"id":"1e038271.bebe26","type":"join","z":"5ff2f33d.a031ec","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2400,"wires":[["f33932c1.14863"]]},{"id":"739ea8d.8d44bd8","type":"join","z":"5ff2f33d.a031ec","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2440,"wires":[["50afb959.c48a18"]]},{"id":"a1533624.e6665","type":"join","z":"5ff2f33d.a031ec","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2480,"wires":[["f7f0c081.471f4"]]},{"id":"113d9304.62fadd","type":"function","z":"5ff2f33d.a031ec","name":"/home/lab513/Desktop/eVOLVER_data/","func":"if (msg.payload){\n    msg.payload=\"/home/lab513/Desktop/eVOLVER_data/\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":2320,"wires":[["1e038271.bebe26","739ea8d.8d44bd8","a1533624.e6665","5884fc8d.690cf4"]]},{"id":"3b75f564.cf33f2","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"delay","timeout":"0.2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2360,"wires":[["465b6ded.fde134"]]},{"id":"aa417388.0e5b38","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"nickname","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":2600,"wires":[[]]},{"id":"5e60a6a5.4fe88","type":"function","z":"5ff2f33d.a031ec","name":".IR","func":"if (msg.payload){\n    msg.payload=\".IR\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2400,"wires":[["1e038271.bebe26"]]},{"id":"70c0ff8c.c9b398","type":"function","z":"5ff2f33d.a031ec","name":".BL","func":"if (msg.payload){\n    msg.payload=\".BL\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2440,"wires":[["739ea8d.8d44bd8"]]},{"id":"5c63412e.c0abb8","type":"function","z":"5ff2f33d.a031ec","name":".Temp","func":"if (msg.payload){\n    msg.payload=\".Temp\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2480,"wires":[["a1533624.e6665"]]},{"id":"a2b24e9d.0ee7b8","type":"function","z":"5ff2f33d.a031ec","name":"Creates Files:","func":"\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":2280,"wires":[["3b75f564.cf33f2","6442de62.5cb448","737d7b45.b7277c","dfb060a1.c400c8","ecd4559c.0f23c","6297f2dd.7f7004","9a69ef4f.19ec18"]]},{"id":"dfb060a1.c400c8","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2400,"wires":[["5e60a6a5.4fe88"]]},{"id":"ecd4559c.0f23c","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2440,"wires":[["70c0ff8c.c9b398"]]},{"id":"6297f2dd.7f7004","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2480,"wires":[["5c63412e.c0abb8"]]},{"id":"6442de62.5cb448","type":"function","z":"5ff2f33d.a031ec","name":"reset","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":2280,"wires":[["f33932c1.14863","50afb959.c48a18","f7f0c081.471f4","62dbd460.37220c"]]},{"id":"737d7b45.b7277c","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"delay","timeout":"0.1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2320,"wires":[["113d9304.62fadd"]]},{"id":"c2f147bd.2ec96","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2600,"wires":[["aa417388.0e5b38"]]},{"id":"f33932c1.14863","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"FileNameIR","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1500,"y":2400,"wires":[[]]},{"id":"50afb959.c48a18","type":"change","z":"5ff2f33d.a031ec","name":"FileNameBL","rules":[{"t":"set","p":"FileNameBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1470,"y":2440,"wires":[[]]},{"id":"f7f0c081.471f4","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"FileNameTemp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":2480,"wires":[[]]},{"id":"5884fc8d.690cf4","type":"join","z":"5ff2f33d.a031ec","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2520,"wires":[["62dbd460.37220c"]]},{"id":"ac6f6ce4.8b971","type":"function","z":"5ff2f33d.a031ec","name":".readme","func":"if (msg.payload){\n    msg.payload=\".readme\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":2520,"wires":[["5884fc8d.690cf4"]]},{"id":"9a69ef4f.19ec18","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2520,"wires":[["ac6f6ce4.8b971"]]},{"id":"62dbd460.37220c","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"FileNameReadme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":2520,"wires":[[]]},{"id":"e1d2d23b.af7d2","type":"inject","z":"5ff2f33d.a031ec","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":810,"y":2560,"wires":[["e23be6a3.50413"]]},{"id":"cbb929c.a03c1d8","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2560,"wires":[["4d275680.977468"]]},{"id":"4d275680.977468","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"readme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1480,"y":2560,"wires":[[]]},{"id":"92891166.cf35e8","type":"function","z":"5ff2f33d.a031ec","name":"displayname","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":2640,"wires":[["8672d48a.bcac48"]]},{"id":"8672d48a.bcac48","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":2,"width":"15","height":"1","name":"00 Running","label":"Running:","format":"{{msg.payload}}","layout":"row-left","x":1310,"y":2640,"wires":[]},{"id":"38376e72.5ff84a","type":"inject","z":"5ff2f33d.a031ec","name":"","topic":"","payload":"-","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":890,"y":2640,"wires":[["b5148c9e.604c58"]]},{"id":"f8ed6254.5e67f","type":"function","z":"5ff2f33d.a031ec","name":"STOP ACTIONS:","func":"msg.payload=false;\nreturn msg;\n\n//this function allows the fact that the\n//reset button first does the stop action\n//and then resets the buttons etc","outputs":1,"noerr":0,"x":1050,"y":1560,"wires":[["59f6cd06.d5ae44","3a7dae8.1a5d052","dee05a35.f214c","80c19e70.a0f57","1bc5edc8.93620a"]]},{"id":"88c26ee3.96e31","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":300,"y":1480,"wires":[["9a4981e5.856a98"]]},{"id":"c5c956a3.33f56","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":850,"y":1460,"wires":[["457b56e7.82271"]]},{"id":"4a7ae826.dede28","type":"function","z":"5ff2f33d.a031ec","name":"disable/enable switches","func":"if (msg.payload===\"launch\"){\n    msg.enabled=false;\n}\nelse if (msg.payload===0){\n    msg.enabled=true;\n}\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":2080,"wires":[[]]},{"id":"b5148c9e.604c58","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=\"-\";\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":2640,"wires":[["8672d48a.bcac48"]]},{"id":"7e580bb4.9bdde4","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":560,"y":2800,"wires":[["176b2ef1.c73311","6cdb1f6.cc571e","a970fef.7667d","4b9637b4.6e9b88","706cb99f.fcda2","95a132e4.778bb8","4a04ab1d.f6cc94","3549a81e.52807"]]},{"id":"797b6791.c64268","type":"file","z":"5ff2f33d.a031ec","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3420,"wires":[[]]},{"id":"1625c027.78df68","type":"file","z":"5ff2f33d.a031ec","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3380,"wires":[[]]},{"id":"83e5cc92.976d18","type":"file","z":"5ff2f33d.a031ec","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3460,"wires":[[]]},{"id":"432b7dd1.32ae74","type":"switch","z":"5ff2f33d.a031ec","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3420,"wires":[["c5a00400.71edb"]]},{"id":"6cdb1f6.cc571e","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"StoreInFile","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":3340,"wires":[[]]},{"id":"e8b71d98.d8cb78","type":"comment","z":"5ff2f33d.a031ec","name":"Allows storage in the filenames","info":"","x":1050,"y":3340,"wires":[]},{"id":"dddefaed.86eb4","type":"arduino in","z":"5ff2f33d.a031ec","name":"Blue Light Sensor","pin":"2","state":"ANALOG","arduino":"372fb60f.099312","x":790,"y":3420,"wires":[["8450abe3.b7f798"]]},{"id":"e736d6a4.453a88","type":"arduino in","z":"5ff2f33d.a031ec","name":"IR Sensor","pin":"1","state":"ANALOG","arduino":"372fb60f.099312","x":760,"y":3380,"wires":[["4ddb8570.4503bc"]]},{"id":"8450abe3.b7f798","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3420,"wires":[["432b7dd1.32ae74","840c37c.1cb4848"]]},{"id":"4ddb8570.4503bc","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3380,"wires":[["23ee70ac.dadc88","dda269b5.12a1d"]]},{"id":"b98a697e.9e0738","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3460,"wires":[["2d38ca14.25763e","4abe8bd2.39d0e4"]]},{"id":"23ee70ac.dadc88","type":"switch","z":"5ff2f33d.a031ec","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3380,"wires":[["dcda7f7d.d7b1d8"]]},{"id":"2d38ca14.25763e","type":"switch","z":"5ff2f33d.a031ec","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3460,"wires":[["b12c9ee.3cba8e"]]},{"id":"4bf80022.d41e78","type":"inject","z":"5ff2f33d.a031ec","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":330,"y":3340,"wires":[["c0ee037e.30a238"]]},{"id":"176b2ef1.c73311","type":"function","z":"5ff2f33d.a031ec","name":"readme","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=flow.get(\"readme\")+\"\\n\"+\n    \"measOD \"+flow.get(\"measOD\").toString()+\"\\n\"+\n    \"measODunits \"+flow.get(\"measODunits\").toString()+\"\\n\"+\n    \"measODtotal \"+flow.get(\"measODtotal\").toString()+\"\\n\"+\n    \n    \"measBL \"+flow.get(\"measBL\").toString()+\"\\n\"+\n    \"measBLunits \"+flow.get(\"measBLunits\").toString()+\"\\n\"+\n    \"measBLtotal \"+flow.get(\"measBLtotal\").toString()+\"\\n\"+\n    \n    \"intBL \"+flow.get(\"intBL\").toString()+\"\\n\"+\n    \n    \"pillBL \"+flow.get(\"pillBL\").toString()+\"\\n\"+\n    \"pillBLunits \"+flow.get(\"pillBLunits\").toString()+\"\\n\"+\n    \"pillBLtotal \"+flow.get(\"pillBLtotal\").toString()+\"\\n\"+\n    \n    \"tillBL \"+flow.get(\"tillBL\").toString()+\"\\n\"+\n    \"tillBLunits \"+flow.get(\"tillBLunits\").toString()+\"\\n\"+\n    \"tillBLtotal \"+flow.get(\"tillBLtotal\").toString()+\"\\n\"+\n    \n    \"Temp \"+flow.get(\"Temp\").toString()+\"\\n\"+\n    \"PID \"+flow.get(\"PID\").toString()+\"\\n\"+\n    \n    \"FANstate \"+flow.get(\"FANstate\").toString()+\"\\n\"+\n    \"intFAN \"+flow.get(\"intFAN\").toString()+\"\\n\"+\n    \n    \"delay \"+flow.get(\"delay\").toString()+\"\\n\"+\n    \"delayunits \"+flow.get(\"delayunits\").toString()+\"\\n\"+\n    \"delaytotal \"+flow.get(\"delaytotal\").toString()+\"\\n\";\n\n//msg.myepoch=msg.myepoch.toString();\n//msg.payload=msg.payload+\";\"+msg.myepoch;\n\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":2940,"wires":[["7de0bbfd.216ddc"]]},{"id":"7de0bbfd.216ddc","type":"file","z":"5ff2f33d.a031ec","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":890,"y":2940,"wires":[[]]},{"id":"dcda7f7d.d7b1d8","type":"simpletime","z":"5ff2f33d.a031ec","name":"","x":1330,"y":3380,"wires":[["616c5519.041cac"]]},{"id":"616c5519.041cac","type":"function","z":"5ff2f33d.a031ec","name":"IR+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameIR\");\nreturn msg;","outputs":1,"noerr":0,"x":1480,"y":3380,"wires":[["1625c027.78df68"]]},{"id":"c5a00400.71edb","type":"simpletime","z":"5ff2f33d.a031ec","name":"","x":1330,"y":3420,"wires":[["cf5283cf.7a0278"]]},{"id":"cf5283cf.7a0278","type":"function","z":"5ff2f33d.a031ec","name":"BL+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameBL\");\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":3420,"wires":[["797b6791.c64268"]]},{"id":"b12c9ee.3cba8e","type":"simpletime","z":"5ff2f33d.a031ec","name":"","x":1330,"y":3460,"wires":[["a4a19561.654368"]]},{"id":"a4a19561.654368","type":"function","z":"5ff2f33d.a031ec","name":"Temp+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameTemp\");\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":3460,"wires":[["83e5cc92.976d18"]]},{"id":"e23be6a3.50413","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2560,"wires":[["966581cd.2b68b"]]},{"id":"cd67bccd.90ece8","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=\"eV03_\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2600,"wires":[["68c7e5b4.234c34"]]},{"id":"3c1b23ec.01d664","type":"function","z":"5ff2f33d.a031ec","name":"(reset)","func":"\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":2600,"wires":[["e23be6a3.50413","cd67bccd.90ece8","b5148c9e.604c58"]]},{"id":"6567260.edf72dc","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=\"launch\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":2040,"wires":[["4a7ae826.dede28"]]},{"id":"c0ee037e.30a238","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3340,"wires":[["6cdb1f6.cc571e"]]},{"id":"a970fef.7667d","type":"function","z":"5ff2f33d.a031ec","name":"255","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":750,"y":3640,"wires":[["88e74691.bf5aa","75326279.e7ee84"]]},{"id":"88e74691.bf5aa","type":"function","z":"5ff2f33d.a031ec","name":"measODtotal","func":"msg.delay=flow.get(\"measODtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":780,"y":3680,"wires":[["948d346c.3c609"]]},{"id":"948d346c.3c609","type":"delay","z":"5ff2f33d.a031ec","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":3720,"wires":[["a970fef.7667d"]]},{"id":"5212e559.cdf6dc","type":"function","z":"5ff2f33d.a031ec","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3640,"wires":[["948d346c.3c609","75326279.e7ee84"]]},{"id":"75326279.e7ee84","type":"trigger","z":"5ff2f33d.a031ec","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1050,"y":3640,"wires":[["53820ea1.03e688","1c7fa4f9.d0e5a3","828e2c30.24fb6"]]},{"id":"53820ea1.03e688","type":"function","z":"5ff2f33d.a031ec","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":3640,"wires":[["f5552d87.fe259"]]},{"id":"1c7fa4f9.d0e5a3","type":"arduino out","z":"5ff2f33d.a031ec","name":"IR17","pin":"5","state":"PWM","arduino":"372fb60f.099312","x":1810,"y":3680,"wires":[]},{"id":"76d7cc83.0b456c","type":"switch","z":"5ff2f33d.a031ec","name":"lance ventilo","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"gt","v":"160","vt":"num"},{"t":"btwn","v":"0","vt":"num","v2":"160","v2t":"num"}],"checkall":"false","repair":false,"outputs":3,"x":1470,"y":3820,"wires":[["df21b0a3.f7cc78"],["df21b0a3.f7cc78"],["671a5a02.3c08c4","230d28dd.c0b938"]],"info":"Coz the ventilo wont start if the value is \nbelow 160.\nTo have a value below 160, we need to start w\na bigger value and THEN get down in value"},{"id":"df21b0a3.f7cc78","type":"arduino out","z":"5ff2f33d.a031ec","name":"Fan","pin":"9","state":"PWM","arduino":"372fb60f.099312","x":1810,"y":3800,"wires":[]},{"id":"230d28dd.c0b938","type":"function","z":"5ff2f33d.a031ec","name":"200","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":1630,"y":3840,"wires":[["df21b0a3.f7cc78"]]},{"id":"671a5a02.3c08c4","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":3880,"wires":[["df21b0a3.f7cc78"]]},{"id":"f5552d87.fe259","type":"arduino out","z":"5ff2f33d.a031ec","name":"BL17","pin":"6","state":"PWM","arduino":"372fb60f.099312","x":1810,"y":3740,"wires":[]},{"id":"8e6b976a.35b688","type":"link out","z":"5ff2f33d.a031ec","name":"RESET17->","links":["ce8abeb4.b2e3","8d11b05e.960fa8","6945e185.857758","440a2d2c.698774","3742e0c8.bcab08","b9fa99c.24e2868","9b3e4119.84a748","948bae02.d8b248"],"x":1755,"y":1480,"wires":[]},{"id":"ce8abeb4.b2e3","type":"link in","z":"5ff2f33d.a031ec","name":"->Nickname&details","links":["8e6b976a.35b688"],"x":595,"y":2560,"wires":[["3c1b23ec.01d664"]]},{"id":"a8f2ae38.73b9f8","type":"link in","z":"5ff2f33d.a031ec","name":"->StoreInFile","links":["dee05a35.f214c"],"x":375,"y":3300,"wires":[["c0ee037e.30a238"]]},{"id":"2e95ce4c.8eb2c2","type":"link in","z":"5ff2f33d.a031ec","name":"->ODmeas","links":["dee05a35.f214c"],"x":395,"y":3640,"wires":[["5212e559.cdf6dc"]]},{"id":"8d11b05e.960fa8","type":"link in","z":"5ff2f33d.a031ec","name":"->stop","links":["8e6b976a.35b688"],"x":875,"y":1620,"wires":[["f8ed6254.5e67f"]]},{"id":"43511aa2.65a674","type":"function","z":"5ff2f33d.a031ec","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1740,"y":260,"wires":[["7876839f.beb44c"]]},{"id":"84ae75e.959bf88","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"measOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":260,"wires":[["223d630d.4e7cf4"]]},{"id":"7876839f.beb44c","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"measODunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":260,"wires":[["223d630d.4e7cf4"]]},{"id":"223d630d.4e7cf4","type":"function","z":"5ff2f33d.a031ec","name":"multiply","func":"msg.payload=flow.get(\"measOD\")*flow.get(\"measODunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2100,"y":260,"wires":[["d37491c.06f0bf"]]},{"id":"18890036.b7599","type":"function","z":"5ff2f33d.a031ec","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1760,"y":380,"wires":[["a18d262d.e0962"]]},{"id":"7eac2a4a.bf1c7c","type":"function","z":"5ff2f33d.a031ec","name":"multiply","func":"msg.payload=flow.get(\"measBL\")*flow.get(\"measBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2120,"y":380,"wires":[["49b05205.2fe56c"]]},{"id":"49b05205.2fe56c","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"measBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":380,"wires":[["bc9b0ec0.debe5"]]},{"id":"ef96a4e4.32e4f","type":"function","z":"5ff2f33d.a031ec","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1100,"y":600,"wires":[["bf2573c2.08bbb"]]},{"id":"a42433e1.79fb4","type":"function","z":"5ff2f33d.a031ec","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":600,"wires":[["97708375.b0ef08"]]},{"id":"2bd2428.400afbe","type":"function","z":"5ff2f33d.a031ec","name":"multiply","func":"msg.payload=flow.get(\"pillBL\")*flow.get(\"pillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1000,"y":700,"wires":[["70495981.438ab"]]},{"id":"70495981.438ab","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"pillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1170,"y":700,"wires":[["502ddb24.935c64"]]},{"id":"78c6441c.a9c264","type":"function","z":"5ff2f33d.a031ec","name":"multiply","func":"msg.payload=flow.get(\"tillBL\")*flow.get(\"tillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":700,"wires":[["48442b9f.c1bcf4"]]},{"id":"48442b9f.c1bcf4","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"tillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":700,"wires":[[]]},{"id":"13b60bbf.66c614","type":"function","z":"5ff2f33d.a031ec","name":"multiply","func":"msg.payload=flow.get(\"delay\")*flow.get(\"delayunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":1220,"wires":[["bb2f653c.1caba8"]]},{"id":"bb2f653c.1caba8","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"delaytotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":1220,"wires":[["2813097a.822ac6"]]},{"id":"c73354ad.cf73e","type":"function","z":"5ff2f33d.a031ec","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1180,"wires":[["4728e213.3d74b4"]]},{"id":"dee05a35.f214c","type":"link out","z":"5ff2f33d.a031ec","name":"STOP17.false","links":["61643a87.939904","2e95ce4c.8eb2c2","457c8138.c4f51","a8f2ae38.73b9f8","a776093e.ebc76","28e3e65e.6cbe4a","f9907d46.0e7a","3c238d8e.c5275a","47e34fa6.d0a538","77e513ef.8df87c"],"x":1235,"y":1580,"wires":[]},{"id":"828e2c30.24fb6","type":"function","z":"5ff2f33d.a031ec","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":3680,"wires":[["76d7cc83.0b456c"]]},{"id":"79381269.0dcfc4","type":"comment","z":"5ff2f33d.a031ec","name":"OD mesaurements","info":"","x":790,"y":3600,"wires":[]},{"id":"df0ad726.5665c","type":"function","z":"5ff2f33d.a031ec","name":"255","func":"if (flow.get(\"measBLtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":910,"y":4220,"wires":[["af1ac83f.f0f348","f5605c79.d6ffa8"]]},{"id":"af1ac83f.f0f348","type":"function","z":"5ff2f33d.a031ec","name":"measBLtotal","func":"msg.delay=flow.get(\"measBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":4280,"wires":[["5fd4df2f.d86098"]]},{"id":"5fd4df2f.d86098","type":"delay","z":"5ff2f33d.a031ec","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1050,"y":4320,"wires":[["df0ad726.5665c"]]},{"id":"d0b42463.e5222","type":"trigger","z":"5ff2f33d.a031ec","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1350,"y":4240,"wires":[["78394586.bef1ac","d2b145b9.76caa"]]},{"id":"166cb2b5.bb2e2d","type":"comment","z":"5ff2f33d.a031ec","name":"BL mesaurements","info":"","x":910,"y":4180,"wires":[]},{"id":"f5605c79.d6ffa8","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"delay","timeout":"7","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1180,"y":4200,"wires":[["d0b42463.e5222","22604e81.b5ec52"]]},{"id":"771b5fed.b1161","type":"function","z":"5ff2f33d.a031ec","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":4220,"wires":[["5fd4df2f.d86098","d0b42463.e5222","f5605c79.d6ffa8","201ce385.28b66c","671a5a02.3c08c4"]]},{"id":"457c8138.c4f51","type":"link in","z":"5ff2f33d.a031ec","name":"->BLmeas","links":["dee05a35.f214c"],"x":335,"y":4220,"wires":[["771b5fed.b1161"]]},{"id":"d2b145b9.76caa","type":"function","z":"5ff2f33d.a031ec","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":4220,"wires":[["f5552d87.fe259"]]},{"id":"78394586.bef1ac","type":"function","z":"5ff2f33d.a031ec","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":4260,"wires":[["76d7cc83.0b456c"]]},{"id":"80c19e70.a0f57","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1540,"wires":[["4c2f0893.04775"]]},{"id":"4c2f0893.04775","type":"link out","z":"5ff2f33d.a031ec","name":"STOP17.0","links":["18d0ce7.07df6b2","492825d0.fff324","c58951a5.56b19","b437ed8e.ce239","48c11f9d.37dde","7b3e4ac7.65d3e4"],"x":1295,"y":1540,"wires":[]},{"id":"18d0ce7.07df6b2","type":"link in","z":"5ff2f33d.a031ec","name":"->IT,BL,FAN","links":["4c2f0893.04775"],"x":1475,"y":3640,"wires":[["f5552d87.fe259","1c7fa4f9.d0e5a3","df21b0a3.f7cc78"]]},{"id":"6b3dd2d2.975bec","type":"ui_button","z":"5ff2f33d.a031ec","name":"02 OD realtime value","group":"2f478177.2ea12e","order":11,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3380,"wires":[[]]},{"id":"dda269b5.12a1d","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.label=msg.payload;\nif (msg.payload>150){\n    msg.background=\"red\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3380,"wires":[["6b3dd2d2.975bec"]]},{"id":"840c37c.1cb4848","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.label=msg.payload;\nif (msg.payload>300){\n    msg.background=\"#44cff1\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3420,"wires":[["3e715f4d.a73258"]]},{"id":"3e715f4d.a73258","type":"ui_button","z":"5ff2f33d.a031ec","name":"03 BL realtime value","group":"2f478177.2ea12e","order":18,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3420,"wires":[[]]},{"id":"45ad22.7c383ae","type":"comment","z":"5ff2f33d.a031ec","name":"Display:","info":"","x":1800,"y":3340,"wires":[]},{"id":"201ce385.28b66c","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":3900,"wires":[["9085df6b.59727"]]},{"id":"9085df6b.59727","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=true;\nreturn msg;\n\n","outputs":1,"noerr":0,"x":750,"y":3940,"wires":[["df0ad726.5665c","704ac3a1.52d8fc","4fa06341.cfe64c","1b95f2bd.b0a045"]]},{"id":"4b9637b4.6e9b88","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.delay=flow.get(\"delaytotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3860,"wires":[["201ce385.28b66c","751d214c.e35a5","1b95f2bd.b0a045"]]},{"id":"751d214c.e35a5","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3880,"wires":[["871f5d93.63ce4"]]},{"id":"16f0e133.4f7bef","type":"comment","z":"5ff2f33d.a031ec","name":"growth delay","info":"","x":770,"y":3820,"wires":[]},{"id":"19790e40.e47c2a","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.delay=flow.get(\"tillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4740,"wires":[["68ff71c6.9aa678"]]},{"id":"68ff71c6.9aa678","type":"delay","z":"5ff2f33d.a031ec","name":"part","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4740,"wires":[["27e7b8c2.5249"]]},{"id":"704ac3a1.52d8fc","type":"function","z":"5ff2f33d.a031ec","name":"","func":"if (flow.get(\"pillBLtotal\") === 0 || flow.get(\"tillBLtotal\") === 0){\n    return;\n}\nelse{\n    msg.payload=flow.get(\"intBL\");\n    msg.state=\"ON\";\n    return msg;\n}\n\n\n","outputs":1,"noerr":0,"x":910,"y":4600,"wires":[["19790e40.e47c2a","ca2cdc32.38f848","49c69932.0dbc68","14887c1d.e86b8c","3e80772e.031ae"]]},{"id":"27e7b8c2.5249","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=0;\nmsg.state=\"OFF\";\nreturn msg;\n","outputs":1,"noerr":0,"x":1010,"y":4740,"wires":[["49c69932.0dbc68","14887c1d.e86b8c","3e80772e.031ae"]]},{"id":"ca2cdc32.38f848","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.delay=flow.get(\"pillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4700,"wires":[["1904de2.4408822"]]},{"id":"1904de2.4408822","type":"delay","z":"5ff2f33d.a031ec","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4700,"wires":[["704ac3a1.52d8fc"]]},{"id":"21ebaf1c.abaff","type":"function","z":"5ff2f33d.a031ec","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":4620,"wires":[["1904de2.4408822","68ff71c6.9aa678","d842b795.296e18","3e80772e.031ae"]]},{"id":"f14c47d5.5ea47","type":"comment","z":"5ff2f33d.a031ec","name":"Cycle w sous cycle la: cool pr la blue LED","info":"","x":990,"y":4500,"wires":[]},{"id":"61643a87.939904","type":"link in","z":"5ff2f33d.a031ec","name":"->BLcycle","links":["dee05a35.f214c"],"x":635,"y":4620,"wires":[["21ebaf1c.abaff"]]},{"id":"49c69932.0dbc68","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"BLstate","pt":"flow","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":4560,"wires":[[]]},{"id":"2605d802.0ff88","type":"inject","z":"5ff2f33d.a031ec","name":"","topic":"","payload":"OFF","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":890,"y":4540,"wires":[["d842b795.296e18"]]},{"id":"706cb99f.fcda2","type":"function","z":"5ff2f33d.a031ec","name":"for FAN","func":"if (flow.get(\"FANstate\")===\"ON\"){\n    msg.payload=flow.get(\"intFAN\");\n}\nelse if (flow.get(\"FANstate\")===\"OFF\"){\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":3000,"wires":[["fd8a8b70.821f58"]]},{"id":"492825d0.fff324","type":"link in","z":"5ff2f33d.a031ec","name":"->PID","links":["4c2f0893.04775"],"x":455,"y":3140,"wires":[["95a132e4.778bb8"]]},{"id":"a69b956f.590688","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.label=\"Initialization\";\nmsg.background=\"#f39c12\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1640,"wires":[["5f95cde4.093064"]]},{"id":"a26e2ea6.b3d638","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":200,"y":1600,"wires":[["ea5ccb49.64d2b8"]]},{"id":"3e39b430.b61514","type":"ui_button","z":"5ff2f33d.a031ec","name":"06 Temp realtime value","group":"2f478177.2ea12e","order":39,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1970,"y":3460,"wires":[[]]},{"id":"4abe8bd2.39d0e4","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.label=msg.payload;\nif (flow.get(\"PIDstate\")>0){\n    msg.background=\"#fdedec\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3460,"wires":[["3e39b430.b61514"]]},{"id":"5432ba30.c24f2c","type":"ui_button","z":"5ff2f33d.a031ec","name":"05 BLstate","group":"2f478177.2ea12e","order":27,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1470,"y":4600,"wires":[[]]},{"id":"14887c1d.e86b8c","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.label=msg.state;\nif (msg.label===\"ON\"){\n    msg.background=\"#ebf5fb\";\n}\nelse if (msg.label===\"OFF\"){\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":4600,"wires":[["5432ba30.c24f2c"]]},{"id":"d842b795.296e18","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.state=\"OFF\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":4540,"wires":[["49c69932.0dbc68","14887c1d.e86b8c"]]},{"id":"a857c2c5.be3218","type":"function","z":"5ff2f33d.a031ec","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"pillBLtotal\")/1000-(msg.count%(flow.get(\"pillBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":620,"wires":[["306ecf4b.959a28"]]},{"id":"960ac8ad.f440f","type":"ui_button","z":"5ff2f33d.a031ec","name":"04 pillBL Cycle counter","group":"2f478177.2ea12e","order":26,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3330,"y":600,"wires":[[]]},{"id":"502ddb24.935c64","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=flow.get(\"pillBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":580,"wires":[["306ecf4b.959a28","2813097a.822ac6"]]},{"id":"c781f41b.dbb67","type":"counter","z":"5ff2f33d.a031ec","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":680,"wires":[["a857c2c5.be3218"]]},{"id":"e751e308.caf4b","type":"function","z":"5ff2f33d.a031ec","name":"","func":"if (flow.get(\"counterpillBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"counterpillBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":640,"wires":[["c781f41b.dbb67"]]},{"id":"4fa06341.cfe64c","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"counterpillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":4460,"wires":[[]]},{"id":"bf321b5a.98e5d","type":"inject","z":"5ff2f33d.a031ec","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4480,"wires":[["d208369f.8cb49"]]},{"id":"d208369f.8cb49","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4460,"wires":[["4fa06341.cfe64c"]]},{"id":"a776093e.ebc76","type":"link in","z":"5ff2f33d.a031ec","name":"->Counter","links":["dee05a35.f214c"],"x":415,"y":4440,"wires":[["d208369f.8cb49"]]},{"id":"e520431c.c09f8","type":"inject","z":"5ff2f33d.a031ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"3","x":190,"y":1520,"wires":[["9a4981e5.856a98"]]},{"id":"9c755085.692068","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":1,"width":"3","height":"1","name":"00 eVOLVER03","label":"<font size =5>eVOLVER03","format":"{{msg.payload}}","layout":"row-center","x":700,"y":60,"wires":[]},{"id":"26f2780a.464ab8","type":"link out","z":"5ff2f33d.a031ec","name":"enabled->","links":["4dea90fc.2f6ab"],"x":955,"y":2080,"wires":[]},{"id":"b437ed8e.ce239","type":"link in","z":"5ff2f33d.a031ec","name":"->GL","links":["4c2f0893.04775"],"x":255,"y":2120,"wires":[["4a7ae826.dede28","632bc6d1.a57588"]]},{"id":"9e95f278.703ab","type":"comment","z":"5ff2f33d.a031ec","name":"01","info":"","x":550,"y":60,"wires":[]},{"id":"26dba6e7.3acf0a","type":"comment","z":"5ff2f33d.a031ec","name":"02 ODmeas","info":"","x":650,"y":180,"wires":[]},{"id":"4b964beb.6dbe94","type":"comment","z":"5ff2f33d.a031ec","name":"03 BLmeas","info":"","x":670,"y":300,"wires":[]},{"id":"b6cb13a7.4b7098","type":"link in","z":"5ff2f33d.a031ec","name":"->ARDUINO FAN","links":["5634e232.efab84","fd8a8b70.821f58"],"x":1275,"y":3820,"wires":[["76d7cc83.0b456c"]]},{"id":"657b2db0.0802dc","type":"link in","z":"5ff2f33d.a031ec","name":"->ARDUINO IR","links":["2287c1d7.e7b346"],"x":1695,"y":3640,"wires":[["1c7fa4f9.d0e5a3"]]},{"id":"ac09dedb.c90b98","type":"link in","z":"5ff2f33d.a031ec","name":"->ARDUINO BL","links":["3e80772e.031ae","72ab732c.94c5a4"],"x":1615,"y":3760,"wires":[["f5552d87.fe259"]]},{"id":"3e80772e.031ae","type":"link out","z":"5ff2f33d.a031ec","name":"BLcycle->BL","links":["ac09dedb.c90b98"],"x":1235,"y":4660,"wires":[]},{"id":"fd8a8b70.821f58","type":"link out","z":"5ff2f33d.a031ec","name":"Fancontrol","links":["b6cb13a7.4b7098"],"x":895,"y":3000,"wires":[]},{"id":"5634e232.efab84","type":"link out","z":"5ff2f33d.a031ec","name":"Fansetup","links":["b6cb13a7.4b7098"],"x":1735,"y":1060,"wires":[]},{"id":"2287c1d7.e7b346","type":"link out","z":"5ff2f33d.a031ec","name":"IRsetup","links":["657b2db0.0802dc"],"x":1115,"y":180,"wires":[]},{"id":"72ab732c.94c5a4","type":"link out","z":"5ff2f33d.a031ec","name":"BLcycle->BL","links":["ac09dedb.c90b98"],"x":1135,"y":300,"wires":[]},{"id":"864900e5.d1c378","type":"link out","z":"5ff2f33d.a031ec","name":"PIDsetup->","links":["76dd79a3.e41fa8"],"x":1295,"y":880,"wires":[]},{"id":"76dd79a3.e41fa8","type":"link in","z":"5ff2f33d.a031ec","name":"->ARDUINO HEATER","links":["864900e5.d1c378","adac9125.ca28a8"],"x":1215,"y":3140,"wires":[["86c85461.90c99"]]},{"id":"632bc6d1.a57588","type":"link out","z":"5ff2f33d.a031ec","name":"GRlaunch->","links":["de5ef7f5.9ddbd"],"x":515,"y":2160,"wires":[]},{"id":"de5ef7f5.9ddbd","type":"link in","z":"5ff2f33d.a031ec","name":"->GL","links":["632bc6d1.a57588"],"x":1035,"y":120,"wires":[["a5d2692a.3f9cd"]]},{"id":"10cb98af.058057","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":800,"y":3160,"wires":[["fd0a9daa.2b0ab"]]},{"id":"35ee1189.9ead96","type":"PID","z":"5ff2f33d.a031ec","name":"","setpoint":"550","pb":"0","ti":"900","td":0,"integral_default":0.5,"smooth_factor":3,"max_interval":600,"enable":"0","disabled_op":0,"x":1010,"y":3100,"wires":[["c2e82a9a.cc852","6c20364d.483f2"]]},{"id":"80295c74.25dbc8","type":"arduino in","z":"5ff2f33d.a031ec","name":"TempSensor","pin":"0","state":"ANALOG","arduino":"372fb60f.099312","x":750,"y":3120,"wires":[["10cb98af.058057","b98a697e.9e0738"]]},{"id":"86c85461.90c99","type":"arduino out","z":"5ff2f33d.a031ec","name":"Heater","pin":"4","state":"OUTPUT","arduino":"372fb60f.099312","x":1330,"y":3100,"wires":[]},{"id":"c2e82a9a.cc852","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"PIDstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":3060,"wires":[[]]},{"id":"87c1d629.b4ed38","type":"inject","z":"5ff2f33d.a031ec","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":"0.3","x":1130,"y":3020,"wires":[["c2e82a9a.cc852"]]},{"id":"95a132e4.778bb8","type":"function","z":"5ff2f33d.a031ec","name":"","func":"if (msg.payload===true){\n    msg.enable=1;\n}\nif (msg.payload===0){\n    msg.enable=0;\n}\nif (flow.get(\"PID\")===\"OFF\"){\n    msg.enable=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3080,"wires":[["35ee1189.9ead96"]]},{"id":"fd0a9daa.2b0ab","type":"function","z":"5ff2f33d.a031ec","name":"setpoint","func":"msg.setpoint=flow.get(\"Temp\");\nreturn msg;","outputs":1,"noerr":0,"x":840,"y":3200,"wires":[["35ee1189.9ead96"]]},{"id":"f4405c87.06a22","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":940,"y":980,"wires":[["a40bca2.0ab5838"]]},{"id":"a40bca2.0ab5838","type":"function","z":"5ff2f33d.a031ec","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    msg.payload=0;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1210,"y":960,"wires":[["20f96127.25b03e"]]},{"id":"6c20364d.483f2","type":"function","z":"5ff2f33d.a031ec","name":"","func":"if (flow.get(\"launched\")===false){\n    return;\n}\nelse if (flow.get(\"launched\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":1170,"y":3100,"wires":[["86c85461.90c99"]]},{"id":"ee80700b.c9c3d","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"launched","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1960,"wires":[[]]},{"id":"5c9abc8c.4b6954","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":800,"wires":[[]]},{"id":"68e5e875.d77ac8","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"PID","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":860,"wires":[["d7237f5a.710918"]]},{"id":"4d53fce8.a1dd3c","type":"inject","z":"5ff2f33d.a031ec","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":250,"y":1960,"wires":[["ee80700b.c9c3d"]]},{"id":"28e3e65e.6cbe4a","type":"link in","z":"5ff2f33d.a031ec","name":"->launched","links":["dee05a35.f214c"],"x":275,"y":2000,"wires":[["ee80700b.c9c3d"]]},{"id":"67ee3b9e.2737b4","type":"function","z":"5ff2f33d.a031ec","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    return msg;\n}\n","outputs":1,"noerr":0,"x":910,"y":940,"wires":[["f4405c87.06a22"]]},{"id":"e859e633.13b1b8","type":"inject","z":"5ff2f33d.a031ec","name":"INITIALIZATION","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":290,"y":720,"wires":[["c62c6c7f.2367e"]]},{"id":"c62c6c7f.2367e","type":"function","z":"5ff2f33d.a031ec","name":"initialization","func":"\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":740,"wires":[["25846935.890f56","aee3ee7b.3dd3b8","c13bd059.a1d148","5497a85c.39e018","a2216274.14af78","55325d94.e71cc4","ba1527cf.a00558","b1908217.7d965","f0d8900f.13bcf"]]},{"id":"d84fa394.b21da8","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=10;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":180,"wires":[["3ba8734b.7c732c","51f86dd4.c05364","4c8e920a.4655ac"]]},{"id":"51f86dd4.c05364","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1670,"y":180,"wires":[["f1b08eb5.78205","cdc227f6.153308","8a1d548b.402bd8"]]},{"id":"4c8e920a.4655ac","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":300,"wires":[["e18c9de9.e15d","b86456f1.39cac"]]},{"id":"b86456f1.39cac","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1710,"y":300,"wires":[["b6d6fae2.282358"]]},{"id":"6962b879.ca632","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":520,"wires":[["b75149c7.1697a8","48d9d53d.b18ea4"]]},{"id":"48d9d53d.b18ea4","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=\"seconds\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":520,"wires":[["16fdc425.150b7c"]]},{"id":"25846935.890f56","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=1;\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":520,"wires":[["45a7704e.13362","f8a45e56.c1e86"]]},{"id":"f8a45e56.c1e86","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":520,"wires":[["fe672f54.fef098","6962b879.ca632"]]},{"id":"4b48c0c7.0030e8","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":1140,"wires":[["6a7d5ccf.2b5494","bf55918a.78e1c"]]},{"id":"aee3ee7b.3dd3b8","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":1140,"wires":[["9126b7ed.866918","4b48c0c7.0030e8"]]},{"id":"c13bd059.a1d148","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=550;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":840,"wires":[["6d0e0de2.2546f4"]]},{"id":"5497a85c.39e018","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":880,"wires":[["20f96127.25b03e"]]},{"id":"bf55918a.78e1c","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":1020,"wires":[["d94538a8.ea21a8","422686c5.df3df"]]},{"id":"422686c5.df3df","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=100;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":980,"wires":[["ac056a63.6ad38","3f52461b.dfd312"]]},{"id":"3f52461b.dfd312","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":800,"wires":[["68e5e875.d77ac8","c69e2452.07f1c"]]},{"id":"a2216274.14af78","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":1020,"wires":[["a9daf967.775c8"]]},{"id":"55325d94.e71cc4","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":420,"wires":[["453ed8b7.195ad"]]},{"id":"f0d8900f.13bcf","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":300,"wires":[["839c2ae4.db4e"]]},{"id":"b1908217.7d965","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":180,"wires":[["aebd0186.21dbc8","b50f6fc.4efb01"]]},{"id":"ba1527cf.a00558","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":60,"wires":[["b61e0d56.4a16e8"]]},{"id":"b50f6fc.4efb01","type":"function","z":"5ff2f33d.a031ec","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":60,"wires":[["b9900b1b.bbf65","d84fa394.b21da8"]]},{"id":"6945e185.857758","type":"link in","z":"5ff2f33d.a031ec","name":"->initialization","links":["8e6b976a.35b688"],"x":375,"y":760,"wires":[["c62c6c7f.2367e"]]},{"id":"d94538a8.ea21a8","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1480,"y":1060,"wires":[["17cb4d1b.f8da93"]]},{"id":"306ecf4b.959a28","type":"function","z":"5ff2f33d.a031ec","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":600,"wires":[["960ac8ad.f440f"]]},{"id":"a393db2e.76db38","type":"inject","z":"5ff2f33d.a031ec","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":640,"wires":[["e751e308.caf4b"]]},{"id":"8794fdd.653dc8","type":"function","z":"5ff2f33d.a031ec","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measODtotal\")/1000-(msg.count%(flow.get(\"measODtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":300,"wires":[["aae4bcb2.e6f6d8"]]},{"id":"c0571319.2bc6d8","type":"ui_button","z":"5ff2f33d.a031ec","name":"02 ODmeas Cycle counter","group":"2f478177.2ea12e","order":10,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":280,"wires":[[]]},{"id":"cdc227f6.153308","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=flow.get(\"measODtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":260,"wires":[["aae4bcb2.e6f6d8","bc9b0ec0.debe5"]]},{"id":"e66d76fe.1e9728","type":"counter","z":"5ff2f33d.a031ec","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":360,"wires":[["8794fdd.653dc8"]]},{"id":"1048bb2d.9633c5","type":"function","z":"5ff2f33d.a031ec","name":"","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}if (flow.get(\"countermeasOD\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasOD\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":320,"wires":[["e66d76fe.1e9728"]]},{"id":"aae4bcb2.e6f6d8","type":"function","z":"5ff2f33d.a031ec","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":280,"wires":[["c0571319.2bc6d8"]]},{"id":"721d7056.73457","type":"inject","z":"5ff2f33d.a031ec","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":320,"wires":[["1048bb2d.9633c5"]]},{"id":"4fc187fc.9139a8","type":"function","z":"5ff2f33d.a031ec","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measBLtotal\")/1000-(msg.count%(flow.get(\"measBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":460,"wires":[["787f9d02.aca944"]]},{"id":"f72fe734.a436f","type":"ui_button","z":"5ff2f33d.a031ec","name":"03 BLmeas Cycle counter","group":"2f478177.2ea12e","order":17,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":440,"wires":[[]]},{"id":"bc9b0ec0.debe5","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=flow.get(\"measBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":420,"wires":[["787f9d02.aca944","502ddb24.935c64"]]},{"id":"2a448416.864b74","type":"counter","z":"5ff2f33d.a031ec","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":520,"wires":[["4fc187fc.9139a8"]]},{"id":"8e01f7b0.c31488","type":"function","z":"5ff2f33d.a031ec","name":"","func":"if (flow.get(\"countermeasBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":480,"wires":[["2a448416.864b74"]]},{"id":"787f9d02.aca944","type":"function","z":"5ff2f33d.a031ec","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":440,"wires":[["f72fe734.a436f"]]},{"id":"185ce2.732cdb1f","type":"inject","z":"5ff2f33d.a031ec","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":480,"wires":[["8e01f7b0.c31488"]]},{"id":"80b4509.247363","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"countermeasBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1010,"y":4140,"wires":[[]]},{"id":"78397332.3a9114","type":"inject","z":"5ff2f33d.a031ec","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4160,"wires":[["d9b36396.5d4488"]]},{"id":"d9b36396.5d4488","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4140,"wires":[["80b4509.247363"]]},{"id":"f9907d46.0e7a","type":"link in","z":"5ff2f33d.a031ec","name":"->Counter","links":["dee05a35.f214c"],"x":415,"y":4120,"wires":[["d9b36396.5d4488"]]},{"id":"4a04ab1d.f6cc94","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"countermeasOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3560,"wires":[[]]},{"id":"f446cb6c.1972b","type":"inject","z":"5ff2f33d.a031ec","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":230,"y":3580,"wires":[["fa9c143c.453b3"]]},{"id":"fa9c143c.453b3","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":3560,"wires":[["4a04ab1d.f6cc94"]]},{"id":"3c238d8e.c5275a","type":"link in","z":"5ff2f33d.a031ec","name":"->Counter","links":["dee05a35.f214c"],"x":255,"y":3540,"wires":[["fa9c143c.453b3"]]},{"id":"22604e81.b5ec52","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":4040,"wires":[["80b4509.247363"]]},{"id":"ae45e055.675408","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":900,"wires":[["6dee98db.a74e78"]]},{"id":"cc224159.d52788","type":"counter","z":"5ff2f33d.a031ec","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":980,"wires":[["23828e31.1d6022"]]},{"id":"69b57edc.2b1bc","type":"function","z":"5ff2f33d.a031ec","name":"","func":"if (flow.get(\"counterlaunch\")===false){\n    return;\n}\nelse if (flow.get(\"counterlaunch\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":940,"wires":[["cc224159.d52788"]]},{"id":"6dee98db.a74e78","type":"function","z":"5ff2f33d.a031ec","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3120,"y":920,"wires":[["959a6941.bcf178","61e1806e.b7b468"]]},{"id":"773b89c8.a133d8","type":"inject","z":"5ff2f33d.a031ec","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":940,"wires":[["69b57edc.2b1bc"]]},{"id":"959a6941.bcf178","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":53,"width":"4","height":"1","name":"09 elapsed time","label":"Elapsed time: ","format":"{{msg.payload}}","layout":"row-left","x":3280,"y":940,"wires":[]},{"id":"23828e31.1d6022","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=msg.count;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":940,"wires":[["6dee98db.a74e78"]]},{"id":"3549a81e.52807","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"counterlaunch","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":2880,"wires":[[]]},{"id":"e94c36f2.01baf8","type":"inject","z":"5ff2f33d.a031ec","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":270,"y":2900,"wires":[["b6302e77.fe8da8"]]},{"id":"b6302e77.fe8da8","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":2880,"wires":[["3549a81e.52807"]]},{"id":"47e34fa6.d0a538","type":"link in","z":"5ff2f33d.a031ec","name":"->Counter","links":["dee05a35.f214c"],"x":295,"y":2860,"wires":[["b6302e77.fe8da8"]]},{"id":"d78b29e5.fbae48","type":"function","z":"5ff2f33d.a031ec","name":"","func":"if (msg.count>=flow.get(\"delaytotal\")/1000){\n    msg.payload=0;\n}\nelse {\n    msg.payload=flow.get(\"delaytotal\")/1000-(msg.count%(flow.get(\"delaytotal\")/1000));\n\n}\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":780,"wires":[["8c09db5a.dbbe28"]]},{"id":"51affb39.f53954","type":"ui_button","z":"5ff2f33d.a031ec","name":"08 growthdelay Cycle counter","group":"2f478177.2ea12e","order":50,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3350,"y":760,"wires":[[]]},{"id":"2813097a.822ac6","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=flow.get(\"delaytotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":740,"wires":[["8c09db5a.dbbe28","ae45e055.675408"]]},{"id":"7e2e2111.281fa8","type":"counter","z":"5ff2f33d.a031ec","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":840,"wires":[["d78b29e5.fbae48"]]},{"id":"93551f8c.c37ad","type":"function","z":"5ff2f33d.a031ec","name":"","func":"if (flow.get(\"delaytotal\")===0){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===false){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":800,"wires":[["7e2e2111.281fa8"]]},{"id":"8c09db5a.dbbe28","type":"function","z":"5ff2f33d.a031ec","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":760,"wires":[["51affb39.f53954"]]},{"id":"3cd30cf2.79e92c","type":"inject","z":"5ff2f33d.a031ec","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":800,"wires":[["93551f8c.c37ad"]]},{"id":"871f5d93.63ce4","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"counterdelay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1040,"y":3840,"wires":[[]]},{"id":"c09aef6c.f6071","type":"inject","z":"5ff2f33d.a031ec","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":430,"y":3860,"wires":[["f07f1800.bc7f"]]},{"id":"f07f1800.bc7f","type":"function","z":"5ff2f33d.a031ec","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":3840,"wires":[["871f5d93.63ce4","1b95f2bd.b0a045"]]},{"id":"77e513ef.8df87c","type":"link in","z":"5ff2f33d.a031ec","name":"->Counter","links":["dee05a35.f214c"],"x":455,"y":3820,"wires":[["f07f1800.bc7f"]]},{"id":"86e78296.93c97","type":"ui_text","z":"5ff2f33d.a031ec","group":"2f478177.2ea12e","order":51,"width":"2","height":"1","name":"08 growth delay status","label":"","format":"{{msg.payload}}","layout":"row-center","x":1110,"y":3960,"wires":[]},{"id":"1b95f2bd.b0a045","type":"function","z":"5ff2f33d.a031ec","name":"","func":"if (msg.payload===false){\n    msg.payload=\"delay status\";\n}\nif (msg.payload===\"delay\"){\n    msg.payload=\"ongoing\";\n}\nelse if (msg.payload===true){\n    msg.payload=\"over\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3960,"wires":[["86e78296.93c97"]]},{"id":"b751e6b.9061698","type":"function","z":"5ff2f33d.a031ec","name":"reset","func":"msg.reset=true;\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2410,"y":540,"wires":[["e66d76fe.1e9728","c781f41b.dbb67","7e2e2111.281fa8","cc224159.d52788"]]},{"id":"8a1d548b.402bd8","type":"delay","z":"5ff2f33d.a031ec","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":2240,"y":520,"wires":[["b751e6b.9061698"]]},{"id":"61e1806e.b7b468","type":"change","z":"5ff2f33d.a031ec","name":"","rules":[{"t":"set","p":"elapsed","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3290,"y":900,"wires":[[]]},{"id":"1bc5edc8.93620a","type":"function","z":"5ff2f33d.a031ec","name":"elapsed","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=\"Elapsed time \"+flow.get(\"elapsed\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":1660,"wires":[["80732f3e.21366"]]},{"id":"80732f3e.21366","type":"file","z":"5ff2f33d.a031ec","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1270,"y":1660,"wires":[[]]},{"id":"80bb3758.1dae78","type":"comment","z":"5ff2f33d.a031ec","name":"BOUGZY DEPLOY","info":"","x":2590,"y":80,"wires":[]},{"id":"39602ff1.1e4718","type":"arduino out","z":"af2c32b8.f8597","name":"GL17","pin":"3","state":"OUTPUT","arduino":"fb2e5ef4.88f308","x":1130,"y":60,"wires":[]},{"id":"eab55145.af642","type":"arduino out","z":"af2c32b8.f8597","name":"YL17","pin":"2","state":"OUTPUT","arduino":"fb2e5ef4.88f308","x":1550,"y":60,"wires":[]},{"id":"a9e3cf0d.ebc41","type":"ui_slider","z":"af2c32b8.f8597","name":"05 intensity:","label":"intensity:","tooltip":"","group":"a0f2281.bca1558","order":30,"width":"7","height":"1","passthru":true,"outs":"end","topic":"","min":0,"max":"255","step":"1","x":1170,"y":420,"wires":[["870eca18.dae15","380c71cd.1e7ece"]]},{"id":"6c9f16f7.a510e","type":"ui_numeric","z":"af2c32b8.f8597","name":"06 and set to 480","label":"and set to","tooltip":"","group":"a0f2281.bca1558","order":37,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"1025","step":"1","x":1030,"y":840,"wires":[["849412ca.3485c"]]},{"id":"aa7c927.3ac3bf","type":"ui_switch","z":"af2c32b8.f8597","name":"01 GL17","label":"","tooltip":"","group":"a0f2281.bca1558","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"green","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"green","x":1000,"y":60,"wires":[["39602ff1.1e4718"]]},{"id":"19056307.a85f65","type":"ui_switch","z":"af2c32b8.f8597","name":"01 YL17","label":"","tooltip":"","group":"a0f2281.bca1558","order":4,"width":"1","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#e2c43c","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"#e2c43c","x":1420,"y":60,"wires":[["eab55145.af642"]]},{"id":"84bc6586.748d8","type":"ui_switch","z":"af2c32b8.f8597","name":"02 IR17","label":"","tooltip":"","group":"a0f2281.bca1558","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"red","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1000,"y":180,"wires":[["bc8735a5.6b656"]]},{"id":"edb96cec.0158f","type":"ui_switch","z":"af2c32b8.f8597","name":"03 BL17","label":"","tooltip":"","group":"a0f2281.bca1558","order":12,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#44cff1","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1020,"y":300,"wires":[["380c71cd.1e7ece"]]},{"id":"ad9ee61e.d6813","type":"ui_switch","z":"af2c32b8.f8597","name":"07 FAN","label":"","tooltip":"","group":"a0f2281.bca1558","order":40,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"toys","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1620,"y":1080,"wires":[["7d3c4310.dcc484"]]},{"id":"1824b3dd.c8fa04","type":"ui_switch","z":"af2c32b8.f8597","name":"06 T01 PID","label":"","tooltip":"","group":"a0f2281.bca1558","order":33,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"enable","style":"","onvalue":"1","onvalueType":"num","onicon":"hot_tub","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1030,"y":880,"wires":[["4906f863.5878b","b33d444c.bd7328"]]},{"id":"7b515da3.f55104","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":25,"width":"2","height":"1","name":"04 spacer","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1770,"y":520,"wires":[]},{"id":"825de62e.ef8f9","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":46,"width":"7","height":"1","name":"07 last spacer","label":"(produces sound: fine).","format":"{{msg.payload}}","layout":"row-spread","x":1960,"y":1020,"wires":[]},{"id":"337f8114.9f4f5e","type":"ui_numeric","z":"af2c32b8.f8597","name":"02 every 5","label":"every","tooltip":"","group":"a0f2281.bca1558","order":7,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1450,"y":220,"wires":[["577206ae.e81df8"]]},{"id":"b89fe28d.74a948","type":"ui_dropdown","z":"af2c32b8.f8597","name":"02 minutes","label":"","tooltip":"","place":"Select option","group":"a0f2281.bca1558","order":8,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1690,"y":220,"wires":[["f533b223.2dd708"]]},{"id":"1392f09b.232177","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"measODtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2280,"y":320,"wires":[["44a7f45e.b67bdc"]]},{"id":"fbb9772.0ec5a88","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":9,"width":"7","height":"1","name":"02 (takes 5 seconds)","label":"(takes 5 seconds).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":180,"wires":[]},{"id":"ce62bdc5.e48f5","type":"ui_numeric","z":"af2c32b8.f8597","name":"03 every 5","label":"every","tooltip":"","group":"a0f2281.bca1558","order":14,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1490,"y":340,"wires":[["d240a3c0.e5b348"]]},{"id":"869d095b.e0a878","type":"ui_dropdown","z":"af2c32b8.f8597","name":"03 minutes","label":"","tooltip":"","place":"Select option","group":"a0f2281.bca1558","order":15,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1730,"y":340,"wires":[["856a0aa5.bfa798"]]},{"id":"d240a3c0.e5b348","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"measBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":380,"wires":[["d0608d74.834e08"]]},{"id":"f73d5672.3395e","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"measBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1940,"y":380,"wires":[["d0608d74.834e08"]]},{"id":"4448469e.2adea","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":16,"width":"7","height":"1","name":"03 (takes 5 seconds)","label":"(takes 5 secs, max illum., shifted timing).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":300,"wires":[]},{"id":"870eca18.dae15","type":"ui_numeric","z":"af2c32b8.f8597","name":"05 at 255","label":"at","tooltip":"","group":"a0f2281.bca1558","order":29,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":"1","x":1020,"y":420,"wires":[["d1398399.00a87","a9e3cf0d.ebc41"]]},{"id":"d1398399.00a87","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"intBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":460,"wires":[[]]},{"id":"75d46173.834f","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":6,"width":"3","height":"1","name":"02 Meaure OD:","label":"Measure OD:","format":"{{msg.payload}}","layout":"row-spread","x":1280,"y":180,"wires":[]},{"id":"c6c49d36.3ea9d8","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":13,"width":"3","height":"1","name":"03 Meaure BL:","label":"Measure BL:","format":"{{msg.payload}}","layout":"row-spread","x":1340,"y":300,"wires":[]},{"id":"6148572.1dc9728","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":28,"width":"4","height":"1","name":"05 spacer1","label":"","format":"{{msg.payload}}","layout":"row-spread","x":710,"y":420,"wires":[]},{"id":"a2a4eaa9.ef68d","type":"ui_button","z":"af2c32b8.f8597","name":"05 OK","group":"a0f2281.bca1558","order":31,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1350,"y":420,"wires":[["edb96cec.0158f"]]},{"id":"59094b4c.ef8aac","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":19,"width":"1","height":"1","name":"04 - -","label":"","format":"{{msg.payload}}","layout":"row-spread","x":630,"y":520,"wires":[]},{"id":"bf51e6b.2ef4818","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":20,"width":"3","height":"1","name":"04 Illuminate BL:","label":"Illuminate BL:","format":"{{msg.payload}}","layout":"row-spread","x":670,"y":560,"wires":[]},{"id":"6c1a85a7.cade24","type":"ui_numeric","z":"af2c32b8.f8597","name":"04 every 1","label":"every","tooltip":"","group":"a0f2281.bca1558","order":21,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":850,"y":560,"wires":[["8c1f738e.54554"]]},{"id":"2476b16c.0a9056","type":"ui_dropdown","z":"af2c32b8.f8597","name":"04 hour","label":"","tooltip":"","place":"Select option","group":"a0f2281.bca1558","order":22,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1080,"y":560,"wires":[["153a1fe.39f2ee"]]},{"id":"8c1f738e.54554","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"pillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":600,"wires":[["4332ba51.5a1154"]]},{"id":"b18bf85a.ea456","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"pillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":640,"wires":[["4332ba51.5a1154"]]},{"id":"fcd02a68.062ac8","type":"ui_numeric","z":"af2c32b8.f8597","name":"04 for 5","label":"for","tooltip":"","group":"a0f2281.bca1558","order":23,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1340,"y":560,"wires":[["b549cd9a.9fa5a"]]},{"id":"f6281a03.4d0ea8","type":"ui_dropdown","z":"af2c32b8.f8597","name":"04 minutes","label":"","tooltip":"","place":"Select option","group":"a0f2281.bca1558","order":24,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1590,"y":560,"wires":[["4770a6f6.e410a"]]},{"id":"b549cd9a.9fa5a","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"tillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":600,"wires":[["ee0a9318.2b303"]]},{"id":"cadf1cd5.0ff7a8","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"tillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1610,"y":640,"wires":[["ee0a9318.2b303"]]},{"id":"be4a8c2e.dc9f4","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":32,"width":"5","height":"1","name":"05 spacer2","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1530,"y":420,"wires":[]},{"id":"8bcdb198.82ec78","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":35,"width":"2","height":"1","name":"06 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1850,"y":860,"wires":[]},{"id":"b4c6c401.502b88","type":"ui_switch","z":"af2c32b8.f8597","name":"06 act.switch","label":"","tooltip":"","group":"a0f2281.bca1558","order":36,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"hot_tub","oncolor":"red","offvalue":"OFF","offvalueType":"str","officon":"ac_unit","offcolor":"grey","x":1520,"y":880,"wires":[["d1dcba1a.b830e"]]},{"id":"75253829.673c08","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":38,"width":"6","height":"1","name":"06 Volts.","label":"Volts.","format":"{{msg.payload}}","layout":"row-spread","x":1220,"y":840,"wires":[]},{"id":"c1835a3a.3e9f5","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":34,"width":"4","height":"1","name":"06 Temperature control:","label":"Temperature control:","format":"{{msg.payload}}","layout":"row-spread","x":2050,"y":860,"wires":[]},{"id":"b67c1ad7.9050f8","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":41,"width":"4","height":"1","name":"07 Fan:","label":"Fan:","format":"{{msg.payload}}","layout":"row-spread","x":700,"y":1060,"wires":[]},{"id":"6b3fd841.bde06","type":"ui_switch","z":"af2c32b8.f8597","name":"07 enable switch","label":"","tooltip":"","group":"a0f2281.bca1558","order":43,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"toys","oncolor":"green","offvalue":"OFF","offvalueType":"str","officon":"radio_button_unchecked","offcolor":"grey","x":910,"y":1060,"wires":[["82b90d75.d17b1","f9ab833.f25e5"]]},{"id":"f9ab833.f25e5","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":42,"width":"2","height":"1","name":"07 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1230,"y":1060,"wires":[]},{"id":"82b90d75.d17b1","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"FANstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1020,"wires":[[]]},{"id":"5d9f6665.81c77","type":"ui_numeric","z":"af2c32b8.f8597","name":"07 and set to 100","label":"and set to","tooltip":"","group":"a0f2281.bca1558","order":44,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"255","step":"1","x":1590,"y":1020,"wires":[["924c9e38.c90f38","7d3c4310.dcc484"]]},{"id":"924c9e38.c90f38","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"intFAN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1780,"y":1000,"wires":[[]]},{"id":"e62453cc.1cc078","type":"ui_button","z":"af2c32b8.f8597","name":"07 OK","group":"a0f2281.bca1558","order":45,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1430,"y":1100,"wires":[["ad9ee61e.d6813"]]},{"id":"336fa290.ce6a0e","type":"ui_numeric","z":"af2c32b8.f8597","name":"08 add delay","label":"Add growing delay of","tooltip":"","group":"a0f2281.bca1558","order":47,"width":"6","height":"1","passthru":true,"topic":"setpoint","format":"{{value}}","min":"0","max":"100","step":"1","x":870,"y":1180,"wires":[["6a22394b.4dd3b8"]]},{"id":"6553aae5.56bf6c","type":"ui_dropdown","z":"af2c32b8.f8597","name":"08 hour","label":"","tooltip":"","place":"Select option","group":"a0f2281.bca1558","order":48,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1060,"y":1180,"wires":[["65d6c6a9.4ad408"]]},{"id":"6a22394b.4dd3b8","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"delay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":1220,"wires":[["9eacfecf.71faf"]]},{"id":"77d490fa.dab7b","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"delayunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1090,"y":1220,"wires":[["9eacfecf.71faf"]]},{"id":"5ab2a841.223fd8","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":49,"width":"8","height":"1","name":"08 finalspacer","label":"(during which no BL measure will be made).","format":"{{msg.payload}}","layout":"row-spread","x":1240,"y":1140,"wires":[]},{"id":"662d9a3b.5216ec","type":"ui_text_input","z":"af2c32b8.f8597","name":"09 DETAILS","label":"DETAILS:","tooltip":"","group":"a0f2281.bca1558","order":52,"width":"16","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1110,"y":2560,"wires":[["8331d063.f31ce8"]]},{"id":"aaab42c1.53d3c8","type":"ui_text_input","z":"af2c32b8.f8597","name":"10 Nickname","label":"Nickname:","tooltip":"","group":"a0f2281.bca1558","order":54,"width":"4","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1120,"y":2600,"wires":[["9d5e1100.c1eba8"]]},{"id":"62dab846.69f048","type":"inject","z":"af2c32b8.f8597","name":"","topic":"","payload":"eV04_","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":830,"y":2600,"wires":[["1c25853b.87c1e3"]]},{"id":"1ace2eec.772cb9","type":"ui_button","z":"af2c32b8.f8597","name":"10 LAUNCH EXP","group":"a0f2281.bca1558","order":55,"width":"10","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"bool","topic":"","x":310,"y":1900,"wires":[["3b5685fa.df57ca","54034d49.d4fffc","104cb5f9.11e932","bdefc007.f1041","e94d2b79.6ef4e8","6deab729.947698","49f1892d.cde358"]]},{"id":"e3c5c5de.a7d2e","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.label=\"Running...\";\nmsg.background=\"#FFC300\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1600,"wires":[["1ace2eec.772cb9"]]},{"id":"1529ae4a.ee9672","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.label=\"LAUNCH EXPERIMENT\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1520,"wires":[["1ace2eec.772cb9"]]},{"id":"1f8d555b.316fd3","type":"inject","z":"af2c32b8.f8597","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":210,"y":1640,"wires":[["bdefc007.f1041"]]},{"id":"28edff7b.1f4448","type":"ui_button","z":"af2c32b8.f8597","name":"10 RESET","group":"a0f2281.bca1558","order":57,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"reset","payloadType":"str","topic":"","x":1610,"y":1480,"wires":[["9d59f5a1.1ebaf","377b5826.76a558","7dcc945d.abdcd4","37f267e6.b0ef88"]]},{"id":"9d59f5a1.1ebaf","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.label=\"Reseting...\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1520,"wires":[["28edff7b.1f4448","f54dcbfd.e6a5d"]]},{"id":"30e3dc08.b5445c","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.label=\"RESET\";\nmsg.background=\"grey\";\nreturn msg;","outputs":1,"noerr":0,"x":1750,"y":1660,"wires":[["28edff7b.1f4448"]]},{"id":"236b5fa3.2b7c2","type":"inject","z":"af2c32b8.f8597","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1630,"y":1680,"wires":[["30e3dc08.b5445c"]]},{"id":"f54dcbfd.e6a5d","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1560,"wires":[["fcb0f6d3.13c128"]]},{"id":"fcb0f6d3.13c128","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.label=\"SUCCESS\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1600,"wires":[["6798633.5c87d9c","28edff7b.1f4448"]]},{"id":"6798633.5c87d9c","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1640,"wires":[["30e3dc08.b5445c"]]},{"id":"90667d31.8cc588","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.label=\"Halted experiment\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1560,"wires":[["1ace2eec.772cb9"]]},{"id":"6fb2b0a9.412198","type":"ui_button","z":"af2c32b8.f8597","name":"10 STOP","group":"a0f2281.bca1558","order":56,"width":"4","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"str","topic":"","x":860,"y":1540,"wires":[["5103a715.f3f768"]]},{"id":"869b8cac.163f18","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.label=\"Stopped.\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":1580,"wires":[["6fb2b0a9.412198"]]},{"id":"c23b7bc7.5d8648","type":"inject","z":"af2c32b8.f8597","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":710,"y":1500,"wires":[["6dad7da3.0da3dc"]]},{"id":"6dad7da3.0da3dc","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.label=\"STOP\";\nmsg.background=\"#cb4335\";\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1500,"wires":[["6fb2b0a9.412198"]]},{"id":"50eed96.f898228","type":"comment","z":"af2c32b8.f8597","name":"Launch TODOs","info":"Turn off and disable all above switches\ndisable the launch button\nCA MARCHE PAS","x":840,"y":2080,"wires":[]},{"id":"e0cc0c31.4a595","type":"comment","z":"af2c32b8.f8597","name":"Reset TODOs","info":"Enable anew all above switches\nReset all default values in exp menu\nBlink LEDs as indicators ;)","x":1440,"y":1660,"wires":[]},{"id":"a7ef3ea1.469fe","type":"comment","z":"af2c32b8.f8597","name":"Stop TODOs","info":"","x":850,"y":1420,"wires":[]},{"id":"de5e2bbb.27fa","type":"simpletime","z":"af2c32b8.f8597","name":"","x":910,"y":2360,"wires":[["a548e445.0e2de","a6aaf84b.937018"]]},{"id":"a548e445.0e2de","type":"function","z":"af2c32b8.f8597","name":"20190417_172653_nickname/...","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\")+\"/\"+msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1180,"y":2360,"wires":[["ae4828a7.2ae7a8","5134ddb1.8acb2c","34285694.c2d5a2","367263ca.9ca34c"]]},{"id":"34285694.c2d5a2","type":"join","z":"af2c32b8.f8597","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2400,"wires":[["ad1f73c7.da8208"]]},{"id":"ae4828a7.2ae7a8","type":"join","z":"af2c32b8.f8597","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2440,"wires":[["8ee285ac.08693"]]},{"id":"5134ddb1.8acb2c","type":"join","z":"af2c32b8.f8597","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2480,"wires":[["dd9b3e7f.1dddd"]]},{"id":"f6f94a0c.3a12e8","type":"function","z":"af2c32b8.f8597","name":"/home/lab513/Desktop/eVOLVER_data/","func":"if (msg.payload){\n    msg.payload=\"/home/lab513/Desktop/eVOLVER_data/\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":2320,"wires":[["34285694.c2d5a2","ae4828a7.2ae7a8","5134ddb1.8acb2c","367263ca.9ca34c"]]},{"id":"f8cc2ae5.9fb8a","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"delay","timeout":"0.2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2360,"wires":[["de5e2bbb.27fa"]]},{"id":"8c2d99c.50592e8","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"nickname","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":2600,"wires":[[]]},{"id":"ac803067.8a0ff8","type":"function","z":"af2c32b8.f8597","name":".IR","func":"if (msg.payload){\n    msg.payload=\".IR\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2400,"wires":[["34285694.c2d5a2"]]},{"id":"95000829.207dd","type":"function","z":"af2c32b8.f8597","name":".BL","func":"if (msg.payload){\n    msg.payload=\".BL\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2440,"wires":[["ae4828a7.2ae7a8"]]},{"id":"9c62ff40.f74528","type":"function","z":"af2c32b8.f8597","name":".Temp","func":"if (msg.payload){\n    msg.payload=\".Temp\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2480,"wires":[["5134ddb1.8acb2c"]]},{"id":"3b5685fa.df57ca","type":"function","z":"af2c32b8.f8597","name":"Creates Files:","func":"\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":2280,"wires":[["f8cc2ae5.9fb8a","359388b8.78119","654d56e2.0e6ed8","ffa004d9.9b5a48","c9e7b3be.bc55","5de2a2f9.065434","4bd14ab0.e8dc9c"]]},{"id":"ffa004d9.9b5a48","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2400,"wires":[["ac803067.8a0ff8"]]},{"id":"c9e7b3be.bc55","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2440,"wires":[["95000829.207dd"]]},{"id":"5de2a2f9.065434","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2480,"wires":[["9c62ff40.f74528"]]},{"id":"359388b8.78119","type":"function","z":"af2c32b8.f8597","name":"reset","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":2280,"wires":[["ad1f73c7.da8208","8ee285ac.08693","dd9b3e7f.1dddd","8934da26.f70d"]]},{"id":"654d56e2.0e6ed8","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"delay","timeout":"0.1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2320,"wires":[["f6f94a0c.3a12e8"]]},{"id":"9d5e1100.c1eba8","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2600,"wires":[["8c2d99c.50592e8"]]},{"id":"ad1f73c7.da8208","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"FileNameIR","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1500,"y":2400,"wires":[[]]},{"id":"8ee285ac.08693","type":"change","z":"af2c32b8.f8597","name":"FileNameBL","rules":[{"t":"set","p":"FileNameBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1470,"y":2440,"wires":[[]]},{"id":"dd9b3e7f.1dddd","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"FileNameTemp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":2480,"wires":[[]]},{"id":"367263ca.9ca34c","type":"join","z":"af2c32b8.f8597","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2520,"wires":[["8934da26.f70d"]]},{"id":"97e6e069.1ed678","type":"function","z":"af2c32b8.f8597","name":".readme","func":"if (msg.payload){\n    msg.payload=\".readme\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":2520,"wires":[["367263ca.9ca34c"]]},{"id":"4bd14ab0.e8dc9c","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2520,"wires":[["97e6e069.1ed678"]]},{"id":"8934da26.f70d","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"FileNameReadme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":2520,"wires":[[]]},{"id":"f6507449.07d28","type":"inject","z":"af2c32b8.f8597","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":810,"y":2560,"wires":[["1bd8954e.60d28b"]]},{"id":"8331d063.f31ce8","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2560,"wires":[["642edbe0.bdb29c"]]},{"id":"642edbe0.bdb29c","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"readme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1480,"y":2560,"wires":[[]]},{"id":"a6aaf84b.937018","type":"function","z":"af2c32b8.f8597","name":"displayname","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":2640,"wires":[["55acf419.c51a54"]]},{"id":"55acf419.c51a54","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":2,"width":"15","height":"1","name":"00 Running","label":"Running:","format":"{{msg.payload}}","layout":"row-left","x":1310,"y":2640,"wires":[]},{"id":"93482e4c.0e05c8","type":"inject","z":"af2c32b8.f8597","name":"","topic":"","payload":"-","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":890,"y":2640,"wires":[["4d0d6578.fe4d14"]]},{"id":"5103a715.f3f768","type":"function","z":"af2c32b8.f8597","name":"STOP ACTIONS:","func":"msg.payload=false;\nreturn msg;\n\n//this function allows the fact that the\n//reset button first does the stop action\n//and then resets the buttons etc","outputs":1,"noerr":0,"x":1050,"y":1560,"wires":[["90667d31.8cc588","869b8cac.163f18","dc5e2930.b0bf68","372c9c49.fafae4","c8472530.36a938"]]},{"id":"377b5826.76a558","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":300,"y":1480,"wires":[["1529ae4a.ee9672"]]},{"id":"7dcc945d.abdcd4","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":850,"y":1460,"wires":[["6dad7da3.0da3dc"]]},{"id":"5ab6ba3c.aa1544","type":"function","z":"af2c32b8.f8597","name":"disable/enable switches","func":"if (msg.payload===\"launch\"){\n    msg.enabled=false;\n}\nelse if (msg.payload===0){\n    msg.enabled=true;\n}\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":2080,"wires":[[]]},{"id":"4d0d6578.fe4d14","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=\"-\";\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":2640,"wires":[["55acf419.c51a54"]]},{"id":"54034d49.d4fffc","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":560,"y":2800,"wires":[["1acf086c.defdc8","3be930c8.4a3c88","233e876d.180dd","dedc5ab7.6f513","2edf7738.bbe388","66b89e92.930618","5d760434.a6bf5c","bcd9f32c.c3ba9"]]},{"id":"c9f4247c.89cbe8","type":"file","z":"af2c32b8.f8597","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3420,"wires":[[]]},{"id":"1f5e657c.aadebb","type":"file","z":"af2c32b8.f8597","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3380,"wires":[[]]},{"id":"159d442d.6ac434","type":"file","z":"af2c32b8.f8597","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3460,"wires":[[]]},{"id":"36d8b721.04f46","type":"switch","z":"af2c32b8.f8597","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3420,"wires":[["4e9ae149.924618"]]},{"id":"3be930c8.4a3c88","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"StoreInFile","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":3340,"wires":[[]]},{"id":"74622d87.f3b0c4","type":"comment","z":"af2c32b8.f8597","name":"Allows storage in the filenames","info":"","x":1050,"y":3340,"wires":[]},{"id":"d9af4017.afe528","type":"arduino in","z":"af2c32b8.f8597","name":"Blue Light Sensor","pin":"2","state":"ANALOG","arduino":"57f34ab0.5f3bec","x":790,"y":3420,"wires":[["edea63b2.3f5028"]]},{"id":"9ae60db9.5df4d","type":"arduino in","z":"af2c32b8.f8597","name":"IR Sensor","pin":"1","state":"ANALOG","arduino":"57f34ab0.5f3bec","x":760,"y":3380,"wires":[["2e12cc5d.e0dd1c"]]},{"id":"edea63b2.3f5028","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3420,"wires":[["36d8b721.04f46","8598bb86.b750e"]]},{"id":"2e12cc5d.e0dd1c","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3380,"wires":[["cf17e2b7.f6b478","16bbc6d8.628459"]]},{"id":"a22ec4c.dc98038","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3460,"wires":[["ac4a34d0.263da","fce0c62f.220bd8"]]},{"id":"cf17e2b7.f6b478","type":"switch","z":"af2c32b8.f8597","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3380,"wires":[["a82c66.ed9adb98"]]},{"id":"ac4a34d0.263da","type":"switch","z":"af2c32b8.f8597","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3460,"wires":[["443a32f0.f198d4"]]},{"id":"3bcf67cd.0c46e","type":"inject","z":"af2c32b8.f8597","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":330,"y":3340,"wires":[["5025353d.f37fdc"]]},{"id":"1acf086c.defdc8","type":"function","z":"af2c32b8.f8597","name":"readme","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=flow.get(\"readme\")+\"\\n\"+\n    \"measOD \"+flow.get(\"measOD\").toString()+\"\\n\"+\n    \"measODunits \"+flow.get(\"measODunits\").toString()+\"\\n\"+\n    \"measODtotal \"+flow.get(\"measODtotal\").toString()+\"\\n\"+\n    \n    \"measBL \"+flow.get(\"measBL\").toString()+\"\\n\"+\n    \"measBLunits \"+flow.get(\"measBLunits\").toString()+\"\\n\"+\n    \"measBLtotal \"+flow.get(\"measBLtotal\").toString()+\"\\n\"+\n    \n    \"intBL \"+flow.get(\"intBL\").toString()+\"\\n\"+\n    \n    \"pillBL \"+flow.get(\"pillBL\").toString()+\"\\n\"+\n    \"pillBLunits \"+flow.get(\"pillBLunits\").toString()+\"\\n\"+\n    \"pillBLtotal \"+flow.get(\"pillBLtotal\").toString()+\"\\n\"+\n    \n    \"tillBL \"+flow.get(\"tillBL\").toString()+\"\\n\"+\n    \"tillBLunits \"+flow.get(\"tillBLunits\").toString()+\"\\n\"+\n    \"tillBLtotal \"+flow.get(\"tillBLtotal\").toString()+\"\\n\"+\n    \n    \"Temp \"+flow.get(\"Temp\").toString()+\"\\n\"+\n    \"PID \"+flow.get(\"PID\").toString()+\"\\n\"+\n    \n    \"FANstate \"+flow.get(\"FANstate\").toString()+\"\\n\"+\n    \"intFAN \"+flow.get(\"intFAN\").toString()+\"\\n\"+\n    \n    \"delay \"+flow.get(\"delay\").toString()+\"\\n\"+\n    \"delayunits \"+flow.get(\"delayunits\").toString()+\"\\n\"+\n    \"delaytotal \"+flow.get(\"delaytotal\").toString()+\"\\n\";\n\n//msg.myepoch=msg.myepoch.toString();\n//msg.payload=msg.payload+\";\"+msg.myepoch;\n\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":2940,"wires":[["e3e39e10.c7c31"]]},{"id":"e3e39e10.c7c31","type":"file","z":"af2c32b8.f8597","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":890,"y":2940,"wires":[[]]},{"id":"a82c66.ed9adb98","type":"simpletime","z":"af2c32b8.f8597","name":"","x":1330,"y":3380,"wires":[["253bd8d1.816e3"]]},{"id":"253bd8d1.816e3","type":"function","z":"af2c32b8.f8597","name":"IR+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameIR\");\nreturn msg;","outputs":1,"noerr":0,"x":1480,"y":3380,"wires":[["1f5e657c.aadebb"]]},{"id":"4e9ae149.924618","type":"simpletime","z":"af2c32b8.f8597","name":"","x":1330,"y":3420,"wires":[["3c30f6bc.6567aa"]]},{"id":"3c30f6bc.6567aa","type":"function","z":"af2c32b8.f8597","name":"BL+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameBL\");\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":3420,"wires":[["c9f4247c.89cbe8"]]},{"id":"443a32f0.f198d4","type":"simpletime","z":"af2c32b8.f8597","name":"","x":1330,"y":3460,"wires":[["e6adea0e.a88f2"]]},{"id":"e6adea0e.a88f2","type":"function","z":"af2c32b8.f8597","name":"Temp+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameTemp\");\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":3460,"wires":[["159d442d.6ac434"]]},{"id":"1bd8954e.60d28b","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2560,"wires":[["662d9a3b.5216ec"]]},{"id":"1c25853b.87c1e3","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=\"eV04_\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2600,"wires":[["aaab42c1.53d3c8"]]},{"id":"88442cb1.250338","type":"function","z":"af2c32b8.f8597","name":"(reset)","func":"\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":2600,"wires":[["1bd8954e.60d28b","1c25853b.87c1e3","4d0d6578.fe4d14"]]},{"id":"104cb5f9.11e932","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=\"launch\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":2040,"wires":[["5ab6ba3c.aa1544"]]},{"id":"5025353d.f37fdc","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3340,"wires":[["3be930c8.4a3c88"]]},{"id":"233e876d.180dd","type":"function","z":"af2c32b8.f8597","name":"255","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":750,"y":3640,"wires":[["ad94ce25.164938","b1ba9da4.5bcea"]]},{"id":"ad94ce25.164938","type":"function","z":"af2c32b8.f8597","name":"measODtotal","func":"msg.delay=flow.get(\"measODtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":780,"y":3680,"wires":[["36a8d521.d49512"]]},{"id":"36a8d521.d49512","type":"delay","z":"af2c32b8.f8597","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":3720,"wires":[["233e876d.180dd"]]},{"id":"594d3f13.03d458","type":"function","z":"af2c32b8.f8597","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3640,"wires":[["36a8d521.d49512","b1ba9da4.5bcea"]]},{"id":"b1ba9da4.5bcea","type":"trigger","z":"af2c32b8.f8597","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1050,"y":3640,"wires":[["ad105b89.050458","8f755060.90a118","ac27ecd7.ebcdf8"]]},{"id":"ad105b89.050458","type":"function","z":"af2c32b8.f8597","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":3640,"wires":[["cdd3bea0.a78108"]]},{"id":"8f755060.90a118","type":"arduino out","z":"af2c32b8.f8597","name":"IR17","pin":"5","state":"PWM","arduino":"57f34ab0.5f3bec","x":1810,"y":3680,"wires":[]},{"id":"9c8503dd.9f7c5","type":"switch","z":"af2c32b8.f8597","name":"lance ventilo","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"gt","v":"160","vt":"num"},{"t":"btwn","v":"0","vt":"num","v2":"160","v2t":"num"}],"checkall":"false","repair":false,"outputs":3,"x":1470,"y":3820,"wires":[["1e4040ee.f2c14f"],["1e4040ee.f2c14f"],["b50c3844.3cea8","4ea4fed3.1cb728"]],"info":"Coz the ventilo wont start if the value is \nbelow 160.\nTo have a value below 160, we need to start w\na bigger value and THEN get down in value"},{"id":"1e4040ee.f2c14f","type":"arduino out","z":"af2c32b8.f8597","name":"Fan","pin":"9","state":"PWM","arduino":"57f34ab0.5f3bec","x":1810,"y":3800,"wires":[]},{"id":"4ea4fed3.1cb728","type":"function","z":"af2c32b8.f8597","name":"200","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":1630,"y":3840,"wires":[["1e4040ee.f2c14f"]]},{"id":"b50c3844.3cea8","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":3880,"wires":[["1e4040ee.f2c14f"]]},{"id":"cdd3bea0.a78108","type":"arduino out","z":"af2c32b8.f8597","name":"BL17","pin":"6","state":"PWM","arduino":"57f34ab0.5f3bec","x":1810,"y":3740,"wires":[]},{"id":"37f267e6.b0ef88","type":"link out","z":"af2c32b8.f8597","name":"RESET17->","links":["99c833db.254978","5bdaa687.a258b8","1109632c.d9a43d","440a2d2c.698774","3742e0c8.bcab08","b9fa99c.24e2868","9b3e4119.84a748","948bae02.d8b248"],"x":1755,"y":1480,"wires":[]},{"id":"99c833db.254978","type":"link in","z":"af2c32b8.f8597","name":"->Nickname&details","links":["37f267e6.b0ef88"],"x":595,"y":2560,"wires":[["88442cb1.250338"]]},{"id":"2d3c0d48.b29c72","type":"link in","z":"af2c32b8.f8597","name":"->StoreInFile","links":["dc5e2930.b0bf68"],"x":375,"y":3300,"wires":[["5025353d.f37fdc"]]},{"id":"453e34c0.0caa9c","type":"link in","z":"af2c32b8.f8597","name":"->ODmeas","links":["dc5e2930.b0bf68"],"x":395,"y":3640,"wires":[["594d3f13.03d458"]]},{"id":"5bdaa687.a258b8","type":"link in","z":"af2c32b8.f8597","name":"->stop","links":["37f267e6.b0ef88"],"x":875,"y":1620,"wires":[["5103a715.f3f768"]]},{"id":"f533b223.2dd708","type":"function","z":"af2c32b8.f8597","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1740,"y":260,"wires":[["4f19fed0.562c4"]]},{"id":"577206ae.e81df8","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"measOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":260,"wires":[["3c898913.046f66"]]},{"id":"4f19fed0.562c4","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"measODunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":260,"wires":[["3c898913.046f66"]]},{"id":"3c898913.046f66","type":"function","z":"af2c32b8.f8597","name":"multiply","func":"msg.payload=flow.get(\"measOD\")*flow.get(\"measODunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2100,"y":260,"wires":[["1392f09b.232177"]]},{"id":"856a0aa5.bfa798","type":"function","z":"af2c32b8.f8597","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1760,"y":380,"wires":[["f73d5672.3395e"]]},{"id":"d0608d74.834e08","type":"function","z":"af2c32b8.f8597","name":"multiply","func":"msg.payload=flow.get(\"measBL\")*flow.get(\"measBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2120,"y":380,"wires":[["94b8c652.b36588"]]},{"id":"94b8c652.b36588","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"measBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":380,"wires":[["c629afbb.cb638"]]},{"id":"153a1fe.39f2ee","type":"function","z":"af2c32b8.f8597","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1100,"y":600,"wires":[["b18bf85a.ea456"]]},{"id":"4770a6f6.e410a","type":"function","z":"af2c32b8.f8597","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":600,"wires":[["cadf1cd5.0ff7a8"]]},{"id":"4332ba51.5a1154","type":"function","z":"af2c32b8.f8597","name":"multiply","func":"msg.payload=flow.get(\"pillBL\")*flow.get(\"pillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1000,"y":700,"wires":[["65d8184.b4503e8"]]},{"id":"65d8184.b4503e8","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"pillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1170,"y":700,"wires":[["8b19f048.8adc1"]]},{"id":"ee0a9318.2b303","type":"function","z":"af2c32b8.f8597","name":"multiply","func":"msg.payload=flow.get(\"tillBL\")*flow.get(\"tillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":700,"wires":[["1ecf9355.275155"]]},{"id":"1ecf9355.275155","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"tillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":700,"wires":[[]]},{"id":"9eacfecf.71faf","type":"function","z":"af2c32b8.f8597","name":"multiply","func":"msg.payload=flow.get(\"delay\")*flow.get(\"delayunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":1220,"wires":[["19dee95a.fab4ef"]]},{"id":"19dee95a.fab4ef","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"delaytotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":1220,"wires":[["8d65b11f.ca50b8"]]},{"id":"65d6c6a9.4ad408","type":"function","z":"af2c32b8.f8597","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1180,"wires":[["77d490fa.dab7b"]]},{"id":"dc5e2930.b0bf68","type":"link out","z":"af2c32b8.f8597","name":"STOP17.false","links":["fe501b81.afcb1","453e34c0.0caa9c","cbd4f52f.50177","2d3c0d48.b29c72","bb080742.752b3","afa30d61.7c261","da7e9d52.fd8c98","60773d3b.d9e624","c2cddeaa.71f71","8d99454f.ffe5d"],"x":1235,"y":1580,"wires":[]},{"id":"ac27ecd7.ebcdf8","type":"function","z":"af2c32b8.f8597","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":3680,"wires":[["9c8503dd.9f7c5"]]},{"id":"aa941552.1ccdc","type":"comment","z":"af2c32b8.f8597","name":"OD mesaurements","info":"","x":790,"y":3600,"wires":[]},{"id":"710dc697.603d48","type":"function","z":"af2c32b8.f8597","name":"255","func":"if (flow.get(\"measBLtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":910,"y":4220,"wires":[["1ef8a565.dc59eb","8be19cc7.6c23c8"]]},{"id":"1ef8a565.dc59eb","type":"function","z":"af2c32b8.f8597","name":"measBLtotal","func":"msg.delay=flow.get(\"measBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":4280,"wires":[["e420f860.8f25a"]]},{"id":"e420f860.8f25a","type":"delay","z":"af2c32b8.f8597","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1050,"y":4320,"wires":[["710dc697.603d48"]]},{"id":"f8c50f46.6668c","type":"trigger","z":"af2c32b8.f8597","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1350,"y":4240,"wires":[["617ef134.180f3","c2abb346.260058"]]},{"id":"e53ccfdc.a2f62","type":"comment","z":"af2c32b8.f8597","name":"BL mesaurements","info":"","x":910,"y":4180,"wires":[]},{"id":"8be19cc7.6c23c8","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"delay","timeout":"7","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1180,"y":4200,"wires":[["f8c50f46.6668c","89cdadaa.c38ba8"]]},{"id":"b469fd56.982dd","type":"function","z":"af2c32b8.f8597","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":4220,"wires":[["e420f860.8f25a","f8c50f46.6668c","8be19cc7.6c23c8","2f8a2fc5.a3f3c8","b50c3844.3cea8"]]},{"id":"cbd4f52f.50177","type":"link in","z":"af2c32b8.f8597","name":"->BLmeas","links":["dc5e2930.b0bf68"],"x":335,"y":4220,"wires":[["b469fd56.982dd"]]},{"id":"c2abb346.260058","type":"function","z":"af2c32b8.f8597","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":4220,"wires":[["cdd3bea0.a78108"]]},{"id":"617ef134.180f3","type":"function","z":"af2c32b8.f8597","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":4260,"wires":[["9c8503dd.9f7c5"]]},{"id":"372c9c49.fafae4","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1540,"wires":[["38290017.21b838"]]},{"id":"38290017.21b838","type":"link out","z":"af2c32b8.f8597","name":"STOP17.0","links":["c97cbad0.bd112","9162158d.32ae08","c58951a5.56b19","24ff8fa4.79e8f","48c11f9d.37dde","7b3e4ac7.65d3e4"],"x":1295,"y":1540,"wires":[]},{"id":"c97cbad0.bd112","type":"link in","z":"af2c32b8.f8597","name":"->IT,BL,FAN","links":["38290017.21b838"],"x":1475,"y":3640,"wires":[["cdd3bea0.a78108","8f755060.90a118","1e4040ee.f2c14f"]]},{"id":"99edfc51.2b308","type":"ui_button","z":"af2c32b8.f8597","name":"02 OD realtime value","group":"a0f2281.bca1558","order":11,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3380,"wires":[[]]},{"id":"16bbc6d8.628459","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.label=msg.payload;\nif (msg.payload>150){\n    msg.background=\"red\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3380,"wires":[["99edfc51.2b308"]]},{"id":"8598bb86.b750e","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.label=msg.payload;\nif (msg.payload>300){\n    msg.background=\"#44cff1\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3420,"wires":[["daa90318.ae88e"]]},{"id":"daa90318.ae88e","type":"ui_button","z":"af2c32b8.f8597","name":"03 BL realtime value","group":"a0f2281.bca1558","order":18,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3420,"wires":[[]]},{"id":"93032827.d8e808","type":"comment","z":"af2c32b8.f8597","name":"Display:","info":"","x":1800,"y":3340,"wires":[]},{"id":"2f8a2fc5.a3f3c8","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":3900,"wires":[["b15fa14e.60c71"]]},{"id":"b15fa14e.60c71","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=true;\nreturn msg;\n\n","outputs":1,"noerr":0,"x":750,"y":3940,"wires":[["710dc697.603d48","4c58518d.23909","9b786246.7489c","be665f8c.e0bfd"]]},{"id":"dedc5ab7.6f513","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.delay=flow.get(\"delaytotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3860,"wires":[["2f8a2fc5.a3f3c8","c79da02f.f484d8","be665f8c.e0bfd"]]},{"id":"c79da02f.f484d8","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3880,"wires":[["fe9f4525.0a5ca"]]},{"id":"4b992148.64cc48","type":"comment","z":"af2c32b8.f8597","name":"growth delay","info":"","x":770,"y":3820,"wires":[]},{"id":"9bc953e9.cb7828","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.delay=flow.get(\"tillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4740,"wires":[["f589f8fc.88ada8"]]},{"id":"f589f8fc.88ada8","type":"delay","z":"af2c32b8.f8597","name":"part","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4740,"wires":[["d4670f56.25e5d"]]},{"id":"4c58518d.23909","type":"function","z":"af2c32b8.f8597","name":"","func":"if (flow.get(\"pillBLtotal\") === 0 || flow.get(\"tillBLtotal\") === 0){\n    return;\n}\nelse{\n    msg.payload=flow.get(\"intBL\");\n    msg.state=\"ON\";\n    return msg;\n}\n\n\n","outputs":1,"noerr":0,"x":910,"y":4600,"wires":[["9bc953e9.cb7828","cb9060ce.ff10d8","3acdc11e.fcb6f6","b660ed66.a4c438","a3eeb382.51c18"]]},{"id":"d4670f56.25e5d","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=0;\nmsg.state=\"OFF\";\nreturn msg;\n","outputs":1,"noerr":0,"x":1010,"y":4740,"wires":[["3acdc11e.fcb6f6","b660ed66.a4c438","a3eeb382.51c18"]]},{"id":"cb9060ce.ff10d8","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.delay=flow.get(\"pillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4700,"wires":[["206b68a2.bb6cc"]]},{"id":"206b68a2.bb6cc","type":"delay","z":"af2c32b8.f8597","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4700,"wires":[["4c58518d.23909"]]},{"id":"b1dea85a.3d6c78","type":"function","z":"af2c32b8.f8597","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":4620,"wires":[["206b68a2.bb6cc","f589f8fc.88ada8","d42b36e.6d30a48","a3eeb382.51c18"]]},{"id":"de877dc6.e1b65","type":"comment","z":"af2c32b8.f8597","name":"Cycle w sous cycle la: cool pr la blue LED","info":"","x":990,"y":4500,"wires":[]},{"id":"fe501b81.afcb1","type":"link in","z":"af2c32b8.f8597","name":"->BLcycle","links":["dc5e2930.b0bf68"],"x":635,"y":4620,"wires":[["b1dea85a.3d6c78"]]},{"id":"3acdc11e.fcb6f6","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"BLstate","pt":"flow","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":4560,"wires":[[]]},{"id":"faa76cbd.4e9dc","type":"inject","z":"af2c32b8.f8597","name":"","topic":"","payload":"OFF","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":890,"y":4540,"wires":[["d42b36e.6d30a48"]]},{"id":"2edf7738.bbe388","type":"function","z":"af2c32b8.f8597","name":"for FAN","func":"if (flow.get(\"FANstate\")===\"ON\"){\n    msg.payload=flow.get(\"intFAN\");\n}\nelse if (flow.get(\"FANstate\")===\"OFF\"){\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":3000,"wires":[["6ae59c97.e5aac4"]]},{"id":"9162158d.32ae08","type":"link in","z":"af2c32b8.f8597","name":"->PID","links":["38290017.21b838"],"x":455,"y":3140,"wires":[["66b89e92.930618"]]},{"id":"bdefc007.f1041","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.label=\"Initialization\";\nmsg.background=\"#f39c12\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1640,"wires":[["1ace2eec.772cb9"]]},{"id":"e94d2b79.6ef4e8","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":200,"y":1600,"wires":[["e3c5c5de.a7d2e"]]},{"id":"25ae7a44.4b49ce","type":"ui_button","z":"af2c32b8.f8597","name":"06 Temp realtime value","group":"a0f2281.bca1558","order":39,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1970,"y":3460,"wires":[[]]},{"id":"fce0c62f.220bd8","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.label=msg.payload;\nif (flow.get(\"PIDstate\")>0){\n    msg.background=\"#fdedec\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3460,"wires":[["25ae7a44.4b49ce"]]},{"id":"ab8d4801.cbf56","type":"ui_button","z":"af2c32b8.f8597","name":"05 BLstate","group":"a0f2281.bca1558","order":27,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1470,"y":4600,"wires":[[]]},{"id":"b660ed66.a4c438","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.label=msg.state;\nif (msg.label===\"ON\"){\n    msg.background=\"#ebf5fb\";\n}\nelse if (msg.label===\"OFF\"){\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":4600,"wires":[["ab8d4801.cbf56"]]},{"id":"d42b36e.6d30a48","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.state=\"OFF\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":4540,"wires":[["3acdc11e.fcb6f6","b660ed66.a4c438"]]},{"id":"88223c44.9508d8","type":"function","z":"af2c32b8.f8597","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"pillBLtotal\")/1000-(msg.count%(flow.get(\"pillBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":620,"wires":[["59ac7743.a9168"]]},{"id":"b35ebd96.0ae8c8","type":"ui_button","z":"af2c32b8.f8597","name":"04 pillBL Cycle counter","group":"a0f2281.bca1558","order":26,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3330,"y":600,"wires":[[]]},{"id":"8b19f048.8adc1","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=flow.get(\"pillBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":580,"wires":[["59ac7743.a9168","8d65b11f.ca50b8"]]},{"id":"cac5163.2c97268","type":"counter","z":"af2c32b8.f8597","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":680,"wires":[["88223c44.9508d8"]]},{"id":"5cd5b128.1f2d48","type":"function","z":"af2c32b8.f8597","name":"","func":"if (flow.get(\"counterpillBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"counterpillBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":640,"wires":[["cac5163.2c97268"]]},{"id":"9b786246.7489c","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"counterpillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":4460,"wires":[[]]},{"id":"f322ea8f.6d7028","type":"inject","z":"af2c32b8.f8597","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4480,"wires":[["f6dc0994.fe55b"]]},{"id":"f6dc0994.fe55b","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4460,"wires":[["9b786246.7489c"]]},{"id":"bb080742.752b3","type":"link in","z":"af2c32b8.f8597","name":"->Counter","links":["dc5e2930.b0bf68"],"x":415,"y":4440,"wires":[["f6dc0994.fe55b"]]},{"id":"90799487.00336","type":"inject","z":"af2c32b8.f8597","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"3","x":190,"y":1520,"wires":[["1529ae4a.ee9672"]]},{"id":"f718afa2.5cb79","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":1,"width":"3","height":"1","name":"00 eVOLVER04","label":"<font size =5>eVOLVER04","format":"{{msg.payload}}","layout":"row-center","x":700,"y":60,"wires":[]},{"id":"f22b4a45.118f48","type":"link out","z":"af2c32b8.f8597","name":"enabled->","links":["4dea90fc.2f6ab"],"x":955,"y":2080,"wires":[]},{"id":"24ff8fa4.79e8f","type":"link in","z":"af2c32b8.f8597","name":"->GL","links":["38290017.21b838"],"x":255,"y":2120,"wires":[["5ab6ba3c.aa1544","6deab729.947698"]]},{"id":"c58bb9be.c17d58","type":"comment","z":"af2c32b8.f8597","name":"01","info":"","x":550,"y":60,"wires":[]},{"id":"bd61790c.b5a508","type":"comment","z":"af2c32b8.f8597","name":"02 ODmeas","info":"","x":650,"y":180,"wires":[]},{"id":"1743a536.4cfc83","type":"comment","z":"af2c32b8.f8597","name":"03 BLmeas","info":"","x":670,"y":300,"wires":[]},{"id":"d45ace2a.cac7f8","type":"link in","z":"af2c32b8.f8597","name":"->ARDUINO FAN","links":["7d3c4310.dcc484","6ae59c97.e5aac4"],"x":1275,"y":3820,"wires":[["9c8503dd.9f7c5"]]},{"id":"530fa788.168ce","type":"link in","z":"af2c32b8.f8597","name":"->ARDUINO IR","links":["bc8735a5.6b656"],"x":1695,"y":3640,"wires":[["8f755060.90a118"]]},{"id":"93484bb6.5b776","type":"link in","z":"af2c32b8.f8597","name":"->ARDUINO BL","links":["a3eeb382.51c18","380c71cd.1e7ece"],"x":1615,"y":3760,"wires":[["cdd3bea0.a78108"]]},{"id":"a3eeb382.51c18","type":"link out","z":"af2c32b8.f8597","name":"BLcycle->BL","links":["93484bb6.5b776"],"x":1235,"y":4660,"wires":[]},{"id":"6ae59c97.e5aac4","type":"link out","z":"af2c32b8.f8597","name":"Fancontrol","links":["d45ace2a.cac7f8"],"x":895,"y":3000,"wires":[]},{"id":"7d3c4310.dcc484","type":"link out","z":"af2c32b8.f8597","name":"Fansetup","links":["d45ace2a.cac7f8"],"x":1735,"y":1060,"wires":[]},{"id":"bc8735a5.6b656","type":"link out","z":"af2c32b8.f8597","name":"IRsetup","links":["530fa788.168ce"],"x":1115,"y":180,"wires":[]},{"id":"380c71cd.1e7ece","type":"link out","z":"af2c32b8.f8597","name":"BLcycle->BL","links":["93484bb6.5b776"],"x":1135,"y":300,"wires":[]},{"id":"4906f863.5878b","type":"link out","z":"af2c32b8.f8597","name":"PIDsetup->","links":["38b265b3.5c0a22"],"x":1295,"y":880,"wires":[]},{"id":"38b265b3.5c0a22","type":"link in","z":"af2c32b8.f8597","name":"->ARDUINO HEATER","links":["4906f863.5878b","adac9125.ca28a8"],"x":1215,"y":3140,"wires":[["4896b1b0.e606e"]]},{"id":"6deab729.947698","type":"link out","z":"af2c32b8.f8597","name":"GRlaunch->","links":["feec151.ce070e8"],"x":515,"y":2160,"wires":[]},{"id":"feec151.ce070e8","type":"link in","z":"af2c32b8.f8597","name":"->GL","links":["6deab729.947698"],"x":1035,"y":120,"wires":[["39602ff1.1e4718"]]},{"id":"a6db7d9.d0da","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":800,"y":3160,"wires":[["a898d87e.5ce0e"]]},{"id":"76e96444.08a62c","type":"PID","z":"af2c32b8.f8597","name":"","setpoint":"550","pb":"0","ti":"900","td":0,"integral_default":0.5,"smooth_factor":3,"max_interval":600,"enable":"0","disabled_op":0,"x":1010,"y":3100,"wires":[["5f8ee471.c9c7cc","ccc8040a.4a7c3"]]},{"id":"5b3cfa18.7543ac","type":"arduino in","z":"af2c32b8.f8597","name":"TempSensor","pin":"0","state":"ANALOG","arduino":"57f34ab0.5f3bec","x":750,"y":3120,"wires":[["a6db7d9.d0da","a22ec4c.dc98038"]]},{"id":"4896b1b0.e606e","type":"arduino out","z":"af2c32b8.f8597","name":"Heater","pin":"4","state":"OUTPUT","arduino":"57f34ab0.5f3bec","x":1330,"y":3100,"wires":[]},{"id":"5f8ee471.c9c7cc","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"PIDstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":3060,"wires":[[]]},{"id":"fcfbf780.9fbcd","type":"inject","z":"af2c32b8.f8597","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":"0.3","x":1130,"y":3020,"wires":[["5f8ee471.c9c7cc"]]},{"id":"66b89e92.930618","type":"function","z":"af2c32b8.f8597","name":"","func":"if (msg.payload===true){\n    msg.enable=1;\n}\nif (msg.payload===0){\n    msg.enable=0;\n}\nif (flow.get(\"PID\")===\"OFF\"){\n    msg.enable=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3080,"wires":[["76e96444.08a62c"]]},{"id":"a898d87e.5ce0e","type":"function","z":"af2c32b8.f8597","name":"setpoint","func":"msg.setpoint=flow.get(\"Temp\");\nreturn msg;","outputs":1,"noerr":0,"x":840,"y":3200,"wires":[["76e96444.08a62c"]]},{"id":"881692a0.8e1208","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":940,"y":980,"wires":[["a40e603b.766de8"]]},{"id":"a40e603b.766de8","type":"function","z":"af2c32b8.f8597","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    msg.payload=0;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1210,"y":960,"wires":[["1824b3dd.c8fa04"]]},{"id":"ccc8040a.4a7c3","type":"function","z":"af2c32b8.f8597","name":"","func":"if (flow.get(\"launched\")===false){\n    return;\n}\nelse if (flow.get(\"launched\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":1170,"y":3100,"wires":[["4896b1b0.e606e"]]},{"id":"49f1892d.cde358","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"launched","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1960,"wires":[[]]},{"id":"849412ca.3485c","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":800,"wires":[[]]},{"id":"d1dcba1a.b830e","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"PID","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":860,"wires":[["8bcdb198.82ec78"]]},{"id":"9429dcd4.d3bb1","type":"inject","z":"af2c32b8.f8597","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":250,"y":1960,"wires":[["49f1892d.cde358"]]},{"id":"afa30d61.7c261","type":"link in","z":"af2c32b8.f8597","name":"->launched","links":["dc5e2930.b0bf68"],"x":275,"y":2000,"wires":[["49f1892d.cde358"]]},{"id":"b33d444c.bd7328","type":"function","z":"af2c32b8.f8597","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    return msg;\n}\n","outputs":1,"noerr":0,"x":910,"y":940,"wires":[["881692a0.8e1208"]]},{"id":"b6bc290f.fc5868","type":"inject","z":"af2c32b8.f8597","name":"INITIALIZATION","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":290,"y":720,"wires":[["3cada03d.5ca4b"]]},{"id":"3cada03d.5ca4b","type":"function","z":"af2c32b8.f8597","name":"initialization","func":"\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":740,"wires":[["e2e53407.fd2778","ab5234c0.feac38","784c62d.d8e0e1c","fd97b408.7d88d8","5ed6d21f.76f08c","8500563c.eff558","53372318.adf9a4","4fd8c395.8fadec","f6ea1c0a.a05688"]]},{"id":"4e47ae33.fdc068","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=10;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":180,"wires":[["337f8114.9f4f5e","359dc09b.8d386","dd47fa6b.c933b8"]]},{"id":"359dc09b.8d386","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1670,"y":180,"wires":[["b89fe28d.74a948","44a7f45e.b67bdc","319adc1.4a1f924"]]},{"id":"dd47fa6b.c933b8","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":300,"wires":[["ce62bdc5.e48f5","5a528ed0.2e8848"]]},{"id":"5a528ed0.2e8848","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1710,"y":300,"wires":[["869d095b.e0a878"]]},{"id":"506b4749.c0af78","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":520,"wires":[["fcd02a68.062ac8","6ea0208a.541d9"]]},{"id":"6ea0208a.541d9","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=\"seconds\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":520,"wires":[["f6281a03.4d0ea8"]]},{"id":"e2e53407.fd2778","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=1;\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":520,"wires":[["6c1a85a7.cade24","f12e0b9d.560cb"]]},{"id":"f12e0b9d.560cb","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":520,"wires":[["2476b16c.0a9056","506b4749.c0af78"]]},{"id":"2bbdef0e.dcbf","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":1140,"wires":[["6553aae5.56bf6c","ddbac9c1.5ca678"]]},{"id":"ab5234c0.feac38","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":1140,"wires":[["336fa290.ce6a0e","2bbdef0e.dcbf"]]},{"id":"784c62d.d8e0e1c","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=550;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":840,"wires":[["6c9f16f7.a510e"]]},{"id":"fd97b408.7d88d8","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":880,"wires":[["1824b3dd.c8fa04"]]},{"id":"ddbac9c1.5ca678","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":1020,"wires":[["ffe24aff.ea2f8","d3ae1cc8.1df6d8"]]},{"id":"d3ae1cc8.1df6d8","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=100;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":980,"wires":[["5d9f6665.81c77","d6c8ee09.987a1"]]},{"id":"d6c8ee09.987a1","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":800,"wires":[["d1dcba1a.b830e","b4c6c401.502b88"]]},{"id":"5ed6d21f.76f08c","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":1020,"wires":[["6b3fd841.bde06"]]},{"id":"8500563c.eff558","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":420,"wires":[["870eca18.dae15"]]},{"id":"f6ea1c0a.a05688","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":300,"wires":[["edb96cec.0158f"]]},{"id":"4fd8c395.8fadec","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":180,"wires":[["84bc6586.748d8","d2197e80.0a5e88"]]},{"id":"53372318.adf9a4","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":60,"wires":[["aa7c927.3ac3bf"]]},{"id":"d2197e80.0a5e88","type":"function","z":"af2c32b8.f8597","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":60,"wires":[["19056307.a85f65","4e47ae33.fdc068"]]},{"id":"1109632c.d9a43d","type":"link in","z":"af2c32b8.f8597","name":"->initialization","links":["37f267e6.b0ef88"],"x":375,"y":760,"wires":[["3cada03d.5ca4b"]]},{"id":"ffe24aff.ea2f8","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1480,"y":1060,"wires":[["ad9ee61e.d6813"]]},{"id":"59ac7743.a9168","type":"function","z":"af2c32b8.f8597","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":600,"wires":[["b35ebd96.0ae8c8"]]},{"id":"da5095fa.002a98","type":"inject","z":"af2c32b8.f8597","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":640,"wires":[["5cd5b128.1f2d48"]]},{"id":"e1bdea36.5f41a","type":"function","z":"af2c32b8.f8597","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measODtotal\")/1000-(msg.count%(flow.get(\"measODtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":300,"wires":[["40b2443a.3222bc"]]},{"id":"c77d6bd.dda8798","type":"ui_button","z":"af2c32b8.f8597","name":"02 ODmeas Cycle counter","group":"a0f2281.bca1558","order":10,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":280,"wires":[[]]},{"id":"44a7f45e.b67bdc","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=flow.get(\"measODtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":260,"wires":[["40b2443a.3222bc","c629afbb.cb638"]]},{"id":"63811a57.b5664c","type":"counter","z":"af2c32b8.f8597","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":360,"wires":[["e1bdea36.5f41a"]]},{"id":"2ccccbd8.240dbc","type":"function","z":"af2c32b8.f8597","name":"","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}if (flow.get(\"countermeasOD\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasOD\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":320,"wires":[["63811a57.b5664c"]]},{"id":"40b2443a.3222bc","type":"function","z":"af2c32b8.f8597","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":280,"wires":[["c77d6bd.dda8798"]]},{"id":"24781030.e439c","type":"inject","z":"af2c32b8.f8597","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":320,"wires":[["2ccccbd8.240dbc"]]},{"id":"82c99e00.82aea","type":"function","z":"af2c32b8.f8597","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measBLtotal\")/1000-(msg.count%(flow.get(\"measBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":460,"wires":[["76561946.429258"]]},{"id":"49027a81.da11e4","type":"ui_button","z":"af2c32b8.f8597","name":"03 BLmeas Cycle counter","group":"a0f2281.bca1558","order":17,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":440,"wires":[[]]},{"id":"c629afbb.cb638","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=flow.get(\"measBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":420,"wires":[["76561946.429258","8b19f048.8adc1"]]},{"id":"c2b0ef35.38b79","type":"counter","z":"af2c32b8.f8597","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":520,"wires":[["82c99e00.82aea"]]},{"id":"1b70e217.4f7b56","type":"function","z":"af2c32b8.f8597","name":"","func":"if (flow.get(\"countermeasBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":480,"wires":[["c2b0ef35.38b79"]]},{"id":"76561946.429258","type":"function","z":"af2c32b8.f8597","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":440,"wires":[["49027a81.da11e4"]]},{"id":"30b62f63.18fea8","type":"inject","z":"af2c32b8.f8597","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":480,"wires":[["1b70e217.4f7b56"]]},{"id":"76510131.925188","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"countermeasBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1010,"y":4140,"wires":[[]]},{"id":"893ee3cd.03ed78","type":"inject","z":"af2c32b8.f8597","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4160,"wires":[["783b1c0b.da977c"]]},{"id":"783b1c0b.da977c","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4140,"wires":[["76510131.925188"]]},{"id":"da7e9d52.fd8c98","type":"link in","z":"af2c32b8.f8597","name":"->Counter","links":["dc5e2930.b0bf68"],"x":415,"y":4120,"wires":[["783b1c0b.da977c"]]},{"id":"5d760434.a6bf5c","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"countermeasOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3560,"wires":[[]]},{"id":"dc9ec039.2b6228","type":"inject","z":"af2c32b8.f8597","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":230,"y":3580,"wires":[["1e56a36a.ae601d"]]},{"id":"1e56a36a.ae601d","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":3560,"wires":[["5d760434.a6bf5c"]]},{"id":"60773d3b.d9e624","type":"link in","z":"af2c32b8.f8597","name":"->Counter","links":["dc5e2930.b0bf68"],"x":255,"y":3540,"wires":[["1e56a36a.ae601d"]]},{"id":"89cdadaa.c38ba8","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":4040,"wires":[["76510131.925188"]]},{"id":"8a060727.6f2648","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":900,"wires":[["e6000882.985358"]]},{"id":"37a87359.532d64","type":"counter","z":"af2c32b8.f8597","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":980,"wires":[["fab453d4.0651a"]]},{"id":"495c2d34.ec234c","type":"function","z":"af2c32b8.f8597","name":"","func":"if (flow.get(\"counterlaunch\")===false){\n    return;\n}\nelse if (flow.get(\"counterlaunch\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":940,"wires":[["37a87359.532d64"]]},{"id":"e6000882.985358","type":"function","z":"af2c32b8.f8597","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3120,"y":920,"wires":[["9312774c.ccf648","ec6616bb.843b2"]]},{"id":"39385145.625e2e","type":"inject","z":"af2c32b8.f8597","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":940,"wires":[["495c2d34.ec234c"]]},{"id":"9312774c.ccf648","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":53,"width":"4","height":"1","name":"09 elapsed time","label":"Elapsed time: ","format":"{{msg.payload}}","layout":"row-left","x":3280,"y":940,"wires":[]},{"id":"fab453d4.0651a","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=msg.count;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":940,"wires":[["e6000882.985358"]]},{"id":"bcd9f32c.c3ba9","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"counterlaunch","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":2880,"wires":[[]]},{"id":"59603e23.0a7538","type":"inject","z":"af2c32b8.f8597","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":270,"y":2900,"wires":[["15c1acd7.f70cb3"]]},{"id":"15c1acd7.f70cb3","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":2880,"wires":[["bcd9f32c.c3ba9"]]},{"id":"c2cddeaa.71f71","type":"link in","z":"af2c32b8.f8597","name":"->Counter","links":["dc5e2930.b0bf68"],"x":295,"y":2860,"wires":[["15c1acd7.f70cb3"]]},{"id":"c0ac3840.d9079","type":"function","z":"af2c32b8.f8597","name":"","func":"if (msg.count>=flow.get(\"delaytotal\")/1000){\n    msg.payload=0;\n}\nelse {\n    msg.payload=flow.get(\"delaytotal\")/1000-(msg.count%(flow.get(\"delaytotal\")/1000));\n\n}\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":780,"wires":[["3cb6b593.86bea2"]]},{"id":"2d0a30e5.3ed758","type":"ui_button","z":"af2c32b8.f8597","name":"08 growthdelay Cycle counter","group":"a0f2281.bca1558","order":50,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3350,"y":760,"wires":[[]]},{"id":"8d65b11f.ca50b8","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=flow.get(\"delaytotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":740,"wires":[["3cb6b593.86bea2","8a060727.6f2648"]]},{"id":"f3bfd1aa.0d95d","type":"counter","z":"af2c32b8.f8597","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":840,"wires":[["c0ac3840.d9079"]]},{"id":"f694c7a2.e8e248","type":"function","z":"af2c32b8.f8597","name":"","func":"if (flow.get(\"delaytotal\")===0){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===false){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":800,"wires":[["f3bfd1aa.0d95d"]]},{"id":"3cb6b593.86bea2","type":"function","z":"af2c32b8.f8597","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":760,"wires":[["2d0a30e5.3ed758"]]},{"id":"f4d26996.7f40d8","type":"inject","z":"af2c32b8.f8597","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":800,"wires":[["f694c7a2.e8e248"]]},{"id":"fe9f4525.0a5ca","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"counterdelay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1040,"y":3840,"wires":[[]]},{"id":"3a6500ca.04d07","type":"inject","z":"af2c32b8.f8597","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":430,"y":3860,"wires":[["acbc0d5b.39b37"]]},{"id":"acbc0d5b.39b37","type":"function","z":"af2c32b8.f8597","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":3840,"wires":[["fe9f4525.0a5ca","be665f8c.e0bfd"]]},{"id":"8d99454f.ffe5d","type":"link in","z":"af2c32b8.f8597","name":"->Counter","links":["dc5e2930.b0bf68"],"x":455,"y":3820,"wires":[["acbc0d5b.39b37"]]},{"id":"943e011d.0c49b","type":"ui_text","z":"af2c32b8.f8597","group":"a0f2281.bca1558","order":51,"width":"2","height":"1","name":"08 growth delay status","label":"","format":"{{msg.payload}}","layout":"row-center","x":1110,"y":3960,"wires":[]},{"id":"be665f8c.e0bfd","type":"function","z":"af2c32b8.f8597","name":"","func":"if (msg.payload===false){\n    msg.payload=\"delay status\";\n}\nif (msg.payload===\"delay\"){\n    msg.payload=\"ongoing\";\n}\nelse if (msg.payload===true){\n    msg.payload=\"over\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3960,"wires":[["943e011d.0c49b"]]},{"id":"77ce833c.e4074c","type":"function","z":"af2c32b8.f8597","name":"reset","func":"msg.reset=true;\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2410,"y":540,"wires":[["63811a57.b5664c","cac5163.2c97268","f3bfd1aa.0d95d","37a87359.532d64"]]},{"id":"319adc1.4a1f924","type":"delay","z":"af2c32b8.f8597","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":2240,"y":520,"wires":[["77ce833c.e4074c"]]},{"id":"ec6616bb.843b2","type":"change","z":"af2c32b8.f8597","name":"","rules":[{"t":"set","p":"elapsed","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3290,"y":900,"wires":[[]]},{"id":"c8472530.36a938","type":"function","z":"af2c32b8.f8597","name":"elapsed","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=\"Elapsed time \"+flow.get(\"elapsed\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":1660,"wires":[["30340a1a.63618e"]]},{"id":"30340a1a.63618e","type":"file","z":"af2c32b8.f8597","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1270,"y":1660,"wires":[[]]},{"id":"eff21f19.79032","type":"comment","z":"af2c32b8.f8597","name":"BOUGZY DEPLOY","info":"","x":2590,"y":80,"wires":[]},{"id":"c9b236c7.99d028","type":"arduino out","z":"e841cd1.acd343","name":"GL17","pin":"3","state":"OUTPUT","arduino":"19a2d3e5.477abc","x":1130,"y":60,"wires":[]},{"id":"f363d929.b17888","type":"arduino out","z":"e841cd1.acd343","name":"YL17","pin":"2","state":"OUTPUT","arduino":"19a2d3e5.477abc","x":1550,"y":60,"wires":[]},{"id":"cefc366d.8dd6b","type":"ui_slider","z":"e841cd1.acd343","name":"05 intensity:","label":"intensity:","tooltip":"","group":"776aa8a2.226a08","order":30,"width":"7","height":"1","passthru":true,"outs":"end","topic":"","min":0,"max":"255","step":"1","x":1170,"y":420,"wires":[["20d4b3d1.1f6f0c","4ffc600a.3f0ec"]]},{"id":"68e707c8.d25038","type":"ui_numeric","z":"e841cd1.acd343","name":"06 and set to 480","label":"and set to","tooltip":"","group":"776aa8a2.226a08","order":37,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"1025","step":"1","x":1030,"y":840,"wires":[["7a8503ba.49236c"]]},{"id":"525bfb3a.845fbc","type":"ui_switch","z":"e841cd1.acd343","name":"01 GL17","label":"","tooltip":"","group":"776aa8a2.226a08","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"green","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"green","x":1000,"y":60,"wires":[["c9b236c7.99d028"]]},{"id":"c428ab33.fba87","type":"ui_switch","z":"e841cd1.acd343","name":"01 YL17","label":"","tooltip":"","group":"776aa8a2.226a08","order":4,"width":"1","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#e2c43c","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"#e2c43c","x":1420,"y":60,"wires":[["f363d929.b17888"]]},{"id":"4cc9b0cc.dc8b4","type":"ui_switch","z":"e841cd1.acd343","name":"02 IR17","label":"","tooltip":"","group":"776aa8a2.226a08","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"red","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1000,"y":180,"wires":[["4acbef66.8b84f8"]]},{"id":"736d2d15.61f0dc","type":"ui_switch","z":"e841cd1.acd343","name":"03 BL17","label":"","tooltip":"","group":"776aa8a2.226a08","order":12,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#44cff1","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1020,"y":300,"wires":[["4ffc600a.3f0ec"]]},{"id":"89d308f2.3ae2f","type":"ui_switch","z":"e841cd1.acd343","name":"07 FAN","label":"","tooltip":"","group":"776aa8a2.226a08","order":40,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"toys","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1620,"y":1080,"wires":[["7d3b4d03.89b754"]]},{"id":"988a3d61.cc1fd","type":"ui_switch","z":"e841cd1.acd343","name":"06 T01 PID","label":"","tooltip":"","group":"776aa8a2.226a08","order":33,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"enable","style":"","onvalue":"1","onvalueType":"num","onicon":"hot_tub","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1030,"y":880,"wires":[["70cad955.da8948","35b45f1c.02f5b8"]]},{"id":"822fcc31.bed6c","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":25,"width":"2","height":"1","name":"04 spacer","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1770,"y":520,"wires":[]},{"id":"3e70ffcf.70f6f","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":46,"width":"7","height":"1","name":"07 last spacer","label":"(produces sound: fine).","format":"{{msg.payload}}","layout":"row-spread","x":1960,"y":1020,"wires":[]},{"id":"9f86e8a5.d2e9e","type":"ui_numeric","z":"e841cd1.acd343","name":"02 every 5","label":"every","tooltip":"","group":"776aa8a2.226a08","order":7,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1450,"y":220,"wires":[["d0bdb801.773b2"]]},{"id":"775b3bc3.4c699c","type":"ui_dropdown","z":"e841cd1.acd343","name":"02 minutes","label":"","tooltip":"","place":"Select option","group":"776aa8a2.226a08","order":8,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1690,"y":220,"wires":[["b952a228.99a798"]]},{"id":"277230ce.86c1f8","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"measODtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2280,"y":320,"wires":[["c02699fb.11067"]]},{"id":"8de4843d.cd378","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":9,"width":"7","height":"1","name":"02 (takes 5 seconds)","label":"(takes 5 seconds).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":180,"wires":[]},{"id":"ddd1fb84.d940f","type":"ui_numeric","z":"e841cd1.acd343","name":"03 every 5","label":"every","tooltip":"","group":"776aa8a2.226a08","order":14,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1490,"y":340,"wires":[["4b642610.eb5ac8"]]},{"id":"efa0ee99.6ff5c","type":"ui_dropdown","z":"e841cd1.acd343","name":"03 minutes","label":"","tooltip":"","place":"Select option","group":"776aa8a2.226a08","order":15,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1730,"y":340,"wires":[["37e920df.26024"]]},{"id":"4b642610.eb5ac8","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"measBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":380,"wires":[["46e942f.fc8633c"]]},{"id":"a70572c3.c773a8","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"measBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1940,"y":380,"wires":[["46e942f.fc8633c"]]},{"id":"628a7d44.d21ac4","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":16,"width":"7","height":"1","name":"03 (takes 5 seconds)","label":"(takes 5 secs, max illum., shifted timing).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":300,"wires":[]},{"id":"20d4b3d1.1f6f0c","type":"ui_numeric","z":"e841cd1.acd343","name":"05 at 255","label":"at","tooltip":"","group":"776aa8a2.226a08","order":29,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":"1","x":1020,"y":420,"wires":[["5a051032.8cb91","cefc366d.8dd6b"]]},{"id":"5a051032.8cb91","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"intBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":460,"wires":[[]]},{"id":"1e8eb982.bcdf26","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":6,"width":"3","height":"1","name":"02 Meaure OD:","label":"Measure OD:","format":"{{msg.payload}}","layout":"row-spread","x":1280,"y":180,"wires":[]},{"id":"ed31f07f.83a188","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":13,"width":"3","height":"1","name":"03 Meaure BL:","label":"Measure BL:","format":"{{msg.payload}}","layout":"row-spread","x":1340,"y":300,"wires":[]},{"id":"8e6ccdbd.1aaa48","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":28,"width":"4","height":"1","name":"05 spacer1","label":"","format":"{{msg.payload}}","layout":"row-spread","x":710,"y":420,"wires":[]},{"id":"5fa81153.02c908","type":"ui_button","z":"e841cd1.acd343","name":"05 OK","group":"776aa8a2.226a08","order":31,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1350,"y":420,"wires":[["736d2d15.61f0dc"]]},{"id":"3190dcf7.447b04","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":19,"width":"1","height":"1","name":"04 - -","label":"","format":"{{msg.payload}}","layout":"row-spread","x":630,"y":520,"wires":[]},{"id":"296da378.ee455c","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":20,"width":"3","height":"1","name":"04 Illuminate BL:","label":"Illuminate BL:","format":"{{msg.payload}}","layout":"row-spread","x":670,"y":560,"wires":[]},{"id":"7144e283.f661bc","type":"ui_numeric","z":"e841cd1.acd343","name":"04 every 1","label":"every","tooltip":"","group":"776aa8a2.226a08","order":21,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":850,"y":560,"wires":[["bc3f2ff7.d75fe8"]]},{"id":"8b8aa9a2.fe2e1","type":"ui_dropdown","z":"e841cd1.acd343","name":"04 hour","label":"","tooltip":"","place":"Select option","group":"776aa8a2.226a08","order":22,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1080,"y":560,"wires":[["71a084f7.ba3a04"]]},{"id":"bc3f2ff7.d75fe8","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"pillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":600,"wires":[["685a86d.2efd9f8"]]},{"id":"e31b6abb.9066f8","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"pillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":640,"wires":[["685a86d.2efd9f8"]]},{"id":"626b0569.63aa6c","type":"ui_numeric","z":"e841cd1.acd343","name":"04 for 5","label":"for","tooltip":"","group":"776aa8a2.226a08","order":23,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1340,"y":560,"wires":[["af15b79f.f42ae"]]},{"id":"5d3acbad.e1254c","type":"ui_dropdown","z":"e841cd1.acd343","name":"04 minutes","label":"","tooltip":"","place":"Select option","group":"776aa8a2.226a08","order":24,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1590,"y":560,"wires":[["ef24e28d.060bc"]]},{"id":"af15b79f.f42ae","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"tillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":600,"wires":[["fb0b4897.84162"]]},{"id":"403f4470.b41e3c","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"tillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1610,"y":640,"wires":[["fb0b4897.84162"]]},{"id":"c5ecba2e.8f00e8","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":32,"width":"5","height":"1","name":"05 spacer2","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1530,"y":420,"wires":[]},{"id":"cbb073f2.ec49c","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":35,"width":"2","height":"1","name":"06 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1850,"y":860,"wires":[]},{"id":"de6a7d14.46c1e","type":"ui_switch","z":"e841cd1.acd343","name":"06 act.switch","label":"","tooltip":"","group":"776aa8a2.226a08","order":36,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"hot_tub","oncolor":"red","offvalue":"OFF","offvalueType":"str","officon":"ac_unit","offcolor":"grey","x":1520,"y":880,"wires":[["d869a81f.d2b3b8"]]},{"id":"1a36c98b.f6e406","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":38,"width":"6","height":"1","name":"06 Volts.","label":"Volts.","format":"{{msg.payload}}","layout":"row-spread","x":1220,"y":840,"wires":[]},{"id":"b24c2eb6.594738","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":34,"width":"4","height":"1","name":"06 Temperature control:","label":"Temperature control:","format":"{{msg.payload}}","layout":"row-spread","x":2050,"y":860,"wires":[]},{"id":"5aff319d.93e74","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":41,"width":"4","height":"1","name":"07 Fan:","label":"Fan:","format":"{{msg.payload}}","layout":"row-spread","x":700,"y":1060,"wires":[]},{"id":"2e02253.74660da","type":"ui_switch","z":"e841cd1.acd343","name":"07 enable switch","label":"","tooltip":"","group":"776aa8a2.226a08","order":43,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"toys","oncolor":"green","offvalue":"OFF","offvalueType":"str","officon":"radio_button_unchecked","offcolor":"grey","x":910,"y":1060,"wires":[["fa42abb2.fae1c","d7e75ec1.c001b8"]]},{"id":"d7e75ec1.c001b8","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":42,"width":"2","height":"1","name":"07 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1230,"y":1060,"wires":[]},{"id":"fa42abb2.fae1c","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"FANstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1020,"wires":[[]]},{"id":"bf356c74.ffcd1","type":"ui_numeric","z":"e841cd1.acd343","name":"07 and set to 100","label":"and set to","tooltip":"","group":"776aa8a2.226a08","order":44,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"255","step":"1","x":1590,"y":1020,"wires":[["7046f4cc.e2e9e4","7d3b4d03.89b754"]]},{"id":"7046f4cc.e2e9e4","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"intFAN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1780,"y":1000,"wires":[[]]},{"id":"771304ca.4503cc","type":"ui_button","z":"e841cd1.acd343","name":"07 OK","group":"776aa8a2.226a08","order":45,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1430,"y":1100,"wires":[["89d308f2.3ae2f"]]},{"id":"701a232f.3d5e84","type":"ui_numeric","z":"e841cd1.acd343","name":"08 add delay","label":"Add growing delay of","tooltip":"","group":"776aa8a2.226a08","order":47,"width":"6","height":"1","passthru":true,"topic":"setpoint","format":"{{value}}","min":"0","max":"100","step":"1","x":870,"y":1180,"wires":[["26f3a502.ec4392"]]},{"id":"6e5dee05.469a38","type":"ui_dropdown","z":"e841cd1.acd343","name":"08 hour","label":"","tooltip":"","place":"Select option","group":"776aa8a2.226a08","order":48,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1060,"y":1180,"wires":[["875f1883.6b90d"]]},{"id":"26f3a502.ec4392","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"delay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":1220,"wires":[["dfe4adf3.2b5f68"]]},{"id":"b7dfdf5f.a14028","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"delayunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1090,"y":1220,"wires":[["dfe4adf3.2b5f68"]]},{"id":"1075a8e2.755a07","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":49,"width":"8","height":"1","name":"08 finalspacer","label":"(during which no BL measure will be made).","format":"{{msg.payload}}","layout":"row-spread","x":1240,"y":1140,"wires":[]},{"id":"88bb2875.eb9078","type":"ui_text_input","z":"e841cd1.acd343","name":"09 DETAILS","label":"DETAILS:","tooltip":"","group":"776aa8a2.226a08","order":52,"width":"16","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1110,"y":2560,"wires":[["75783455.2b06e4"]]},{"id":"e95841eb.375c68","type":"ui_text_input","z":"e841cd1.acd343","name":"10 Nickname","label":"Nickname:","tooltip":"","group":"776aa8a2.226a08","order":54,"width":"4","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1120,"y":2600,"wires":[["e9c020f0.b18a98"]]},{"id":"199c9626.b697ea","type":"inject","z":"e841cd1.acd343","name":"","topic":"","payload":"eV05_","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":830,"y":2600,"wires":[["15b6646a.4c6894"]]},{"id":"fb8e8a5c.98ed88","type":"ui_button","z":"e841cd1.acd343","name":"10 LAUNCH EXP","group":"776aa8a2.226a08","order":55,"width":"10","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"bool","topic":"","x":310,"y":1900,"wires":[["23a55301.90b474","e69c28f2.a0748","f5435523.221de","805bc0fd.79446","163848b5.b59e77","44ab080c.786528","5a4d0095.e901c8"]]},{"id":"d6d475d5.77e8c8","type":"function","z":"e841cd1.acd343","name":"","func":"msg.label=\"Running...\";\nmsg.background=\"#FFC300\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1600,"wires":[["fb8e8a5c.98ed88"]]},{"id":"a820b50.0704ec8","type":"function","z":"e841cd1.acd343","name":"","func":"msg.label=\"LAUNCH EXPERIMENT\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1520,"wires":[["fb8e8a5c.98ed88"]]},{"id":"3f2eb1a2.329ba6","type":"inject","z":"e841cd1.acd343","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":210,"y":1640,"wires":[["805bc0fd.79446"]]},{"id":"b05c482.2903cb8","type":"ui_button","z":"e841cd1.acd343","name":"10 RESET","group":"776aa8a2.226a08","order":57,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"reset","payloadType":"str","topic":"","x":1610,"y":1480,"wires":[["1aefe75e.387989","a7e109dc.0f8b88","aa5e7ee8.fb6f38","276f21df.f18b16"]]},{"id":"1aefe75e.387989","type":"function","z":"e841cd1.acd343","name":"","func":"msg.label=\"Reseting...\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1520,"wires":[["b05c482.2903cb8","5af051f8.1826d"]]},{"id":"ce153c71.c0a3c","type":"function","z":"e841cd1.acd343","name":"","func":"msg.label=\"RESET\";\nmsg.background=\"grey\";\nreturn msg;","outputs":1,"noerr":0,"x":1750,"y":1660,"wires":[["b05c482.2903cb8"]]},{"id":"608ffa3f.f3b9e4","type":"inject","z":"e841cd1.acd343","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1630,"y":1680,"wires":[["ce153c71.c0a3c"]]},{"id":"5af051f8.1826d","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1560,"wires":[["b55d8b78.b9685"]]},{"id":"b55d8b78.b9685","type":"function","z":"e841cd1.acd343","name":"","func":"msg.label=\"SUCCESS\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1600,"wires":[["4162b12f.3f1d38","b05c482.2903cb8"]]},{"id":"4162b12f.3f1d38","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1640,"wires":[["ce153c71.c0a3c"]]},{"id":"50ab1d08.acde9c","type":"function","z":"e841cd1.acd343","name":"","func":"msg.label=\"Halted experiment\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1560,"wires":[["fb8e8a5c.98ed88"]]},{"id":"b632c312.d1315","type":"ui_button","z":"e841cd1.acd343","name":"10 STOP","group":"776aa8a2.226a08","order":56,"width":"4","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"str","topic":"","x":860,"y":1540,"wires":[["6afa3522.889c84"]]},{"id":"e2a6b18a.03d878","type":"function","z":"e841cd1.acd343","name":"","func":"msg.label=\"Stopped.\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":1580,"wires":[["b632c312.d1315"]]},{"id":"b7b92ad9.c75a3","type":"inject","z":"e841cd1.acd343","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":710,"y":1500,"wires":[["9c1d761a.d137e"]]},{"id":"9c1d761a.d137e","type":"function","z":"e841cd1.acd343","name":"","func":"msg.label=\"STOP\";\nmsg.background=\"#cb4335\";\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1500,"wires":[["b632c312.d1315"]]},{"id":"946d23ed.07fca8","type":"comment","z":"e841cd1.acd343","name":"Launch TODOs","info":"Turn off and disable all above switches\ndisable the launch button\nCA MARCHE PAS","x":840,"y":2080,"wires":[]},{"id":"8294a63.bbb6f58","type":"comment","z":"e841cd1.acd343","name":"Reset TODOs","info":"Enable anew all above switches\nReset all default values in exp menu\nBlink LEDs as indicators ;)","x":1440,"y":1660,"wires":[]},{"id":"ae3f8506.923f38","type":"comment","z":"e841cd1.acd343","name":"Stop TODOs","info":"","x":850,"y":1420,"wires":[]},{"id":"5875d4ed.19d04c","type":"simpletime","z":"e841cd1.acd343","name":"","x":910,"y":2360,"wires":[["26980441.4c6bc4","429f99e9.efa87"]]},{"id":"26980441.4c6bc4","type":"function","z":"e841cd1.acd343","name":"20190417_172653_nickname/...","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\")+\"/\"+msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1180,"y":2360,"wires":[["d48c1ee8.278678","e3560c37.8c1d28","5d38b316.61655c","5f075736.4b5cf8"]]},{"id":"5d38b316.61655c","type":"join","z":"e841cd1.acd343","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2400,"wires":[["80468061.46bd38"]]},{"id":"d48c1ee8.278678","type":"join","z":"e841cd1.acd343","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2440,"wires":[["1a852c29.a7886c"]]},{"id":"e3560c37.8c1d28","type":"join","z":"e841cd1.acd343","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2480,"wires":[["f08ff9b3.6c9338"]]},{"id":"829f18ac.c92248","type":"function","z":"e841cd1.acd343","name":"/home/lab513/Desktop/eVOLVER_data/","func":"if (msg.payload){\n    msg.payload=\"/home/lab513/Desktop/eVOLVER_data/\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":2320,"wires":[["5d38b316.61655c","d48c1ee8.278678","e3560c37.8c1d28","5f075736.4b5cf8"]]},{"id":"3b83c1c8.dfefd6","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"delay","timeout":"0.2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2360,"wires":[["5875d4ed.19d04c"]]},{"id":"e0757565.9b7ca","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"nickname","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":2600,"wires":[[]]},{"id":"ff6eb6e9.3fbcc8","type":"function","z":"e841cd1.acd343","name":".IR","func":"if (msg.payload){\n    msg.payload=\".IR\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2400,"wires":[["5d38b316.61655c"]]},{"id":"6fc06d30.66657c","type":"function","z":"e841cd1.acd343","name":".BL","func":"if (msg.payload){\n    msg.payload=\".BL\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2440,"wires":[["d48c1ee8.278678"]]},{"id":"db3a67c2.0d7478","type":"function","z":"e841cd1.acd343","name":".Temp","func":"if (msg.payload){\n    msg.payload=\".Temp\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2480,"wires":[["e3560c37.8c1d28"]]},{"id":"23a55301.90b474","type":"function","z":"e841cd1.acd343","name":"Creates Files:","func":"\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":2280,"wires":[["3b83c1c8.dfefd6","6b6cfc14.a2c74c","4e7fbfb6.43d838","a7e6d397.2b336","262dd91.87934a6","a4ef0914.c51d5","2dfb7ae1.42e1be"]]},{"id":"a7e6d397.2b336","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2400,"wires":[["ff6eb6e9.3fbcc8"]]},{"id":"262dd91.87934a6","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2440,"wires":[["6fc06d30.66657c"]]},{"id":"a4ef0914.c51d5","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2480,"wires":[["db3a67c2.0d7478"]]},{"id":"6b6cfc14.a2c74c","type":"function","z":"e841cd1.acd343","name":"reset","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":2280,"wires":[["80468061.46bd38","1a852c29.a7886c","f08ff9b3.6c9338","296745f0.cc5052"]]},{"id":"4e7fbfb6.43d838","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"delay","timeout":"0.1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2320,"wires":[["829f18ac.c92248"]]},{"id":"e9c020f0.b18a98","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2600,"wires":[["e0757565.9b7ca"]]},{"id":"80468061.46bd38","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"FileNameIR","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1500,"y":2400,"wires":[[]]},{"id":"1a852c29.a7886c","type":"change","z":"e841cd1.acd343","name":"FileNameBL","rules":[{"t":"set","p":"FileNameBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1470,"y":2440,"wires":[[]]},{"id":"f08ff9b3.6c9338","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"FileNameTemp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":2480,"wires":[[]]},{"id":"5f075736.4b5cf8","type":"join","z":"e841cd1.acd343","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2520,"wires":[["296745f0.cc5052"]]},{"id":"57bdd69c.83f608","type":"function","z":"e841cd1.acd343","name":".readme","func":"if (msg.payload){\n    msg.payload=\".readme\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":2520,"wires":[["5f075736.4b5cf8"]]},{"id":"2dfb7ae1.42e1be","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2520,"wires":[["57bdd69c.83f608"]]},{"id":"296745f0.cc5052","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"FileNameReadme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":2520,"wires":[[]]},{"id":"88607ecc.45c49","type":"inject","z":"e841cd1.acd343","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":810,"y":2560,"wires":[["284231ea.d24d56"]]},{"id":"75783455.2b06e4","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2560,"wires":[["558bc980.60eb08"]]},{"id":"558bc980.60eb08","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"readme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1480,"y":2560,"wires":[[]]},{"id":"429f99e9.efa87","type":"function","z":"e841cd1.acd343","name":"displayname","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":2640,"wires":[["ab817eb0.e6a448"]]},{"id":"ab817eb0.e6a448","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":2,"width":"15","height":"1","name":"00 Running","label":"Running:","format":"{{msg.payload}}","layout":"row-left","x":1310,"y":2640,"wires":[]},{"id":"6cae0ba6.37c6b4","type":"inject","z":"e841cd1.acd343","name":"","topic":"","payload":"-","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":890,"y":2640,"wires":[["1af8f5a5.87b43a"]]},{"id":"6afa3522.889c84","type":"function","z":"e841cd1.acd343","name":"STOP ACTIONS:","func":"msg.payload=false;\nreturn msg;\n\n//this function allows the fact that the\n//reset button first does the stop action\n//and then resets the buttons etc","outputs":1,"noerr":0,"x":1050,"y":1560,"wires":[["50ab1d08.acde9c","e2a6b18a.03d878","e24fe847.9ec368","b9af8a.50c5f878","55b4013a.0e944"]]},{"id":"a7e109dc.0f8b88","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":300,"y":1480,"wires":[["a820b50.0704ec8"]]},{"id":"aa5e7ee8.fb6f38","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":850,"y":1460,"wires":[["9c1d761a.d137e"]]},{"id":"34f10001.fa2618","type":"function","z":"e841cd1.acd343","name":"disable/enable switches","func":"if (msg.payload===\"launch\"){\n    msg.enabled=false;\n}\nelse if (msg.payload===0){\n    msg.enabled=true;\n}\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":2080,"wires":[[]]},{"id":"1af8f5a5.87b43a","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=\"-\";\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":2640,"wires":[["ab817eb0.e6a448"]]},{"id":"e69c28f2.a0748","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":560,"y":2800,"wires":[["c91dd5f1.ecf8","dff269cf.3ca12","6630a24d.397b6c","1dd8f4e2.e22743","b2d172f8.ccd96","8f8e426c.4cd148","7a68cc5d.24fb74","4320b516.cffec4"]]},{"id":"b78d007c.e858c8","type":"file","z":"e841cd1.acd343","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3420,"wires":[[]]},{"id":"42fa3f48.e63e28","type":"file","z":"e841cd1.acd343","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3380,"wires":[[]]},{"id":"cd679523.744f1","type":"file","z":"e841cd1.acd343","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3460,"wires":[[]]},{"id":"3e5734e5.d362c4","type":"switch","z":"e841cd1.acd343","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3420,"wires":[["4b43e8a5.a273d"]]},{"id":"dff269cf.3ca12","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"StoreInFile","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":3340,"wires":[[]]},{"id":"f15fc0b1.23e23","type":"comment","z":"e841cd1.acd343","name":"Allows storage in the filenames","info":"","x":1050,"y":3340,"wires":[]},{"id":"48622fb6.9258","type":"arduino in","z":"e841cd1.acd343","name":"Blue Light Sensor","pin":"2","state":"ANALOG","arduino":"2d9393dd.556294","x":790,"y":3420,"wires":[["89807956.9ecb7"]]},{"id":"ecc34e71.803df8","type":"arduino in","z":"e841cd1.acd343","name":"IR Sensor","pin":"1","state":"ANALOG","arduino":"2d9393dd.556294","x":760,"y":3380,"wires":[["6132853c.d6d32c"]]},{"id":"89807956.9ecb7","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3420,"wires":[["3e5734e5.d362c4","f9523545.461d3"]]},{"id":"6132853c.d6d32c","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3380,"wires":[["60c384eb.5c1bc4","b1735ecc.aef3d"]]},{"id":"213e2593.804bd2","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3460,"wires":[["725a1c3b.c02e24","d9bac0d3.965918"]]},{"id":"60c384eb.5c1bc4","type":"switch","z":"e841cd1.acd343","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3380,"wires":[["756283f3.98835c"]]},{"id":"725a1c3b.c02e24","type":"switch","z":"e841cd1.acd343","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3460,"wires":[["af87b6ba.bf7da"]]},{"id":"9a5315b5.6b254","type":"inject","z":"e841cd1.acd343","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":330,"y":3340,"wires":[["ef8b3867.272318"]]},{"id":"c91dd5f1.ecf8","type":"function","z":"e841cd1.acd343","name":"readme","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=flow.get(\"readme\")+\"\\n\"+\n    \"measOD \"+flow.get(\"measOD\").toString()+\"\\n\"+\n    \"measODunits \"+flow.get(\"measODunits\").toString()+\"\\n\"+\n    \"measODtotal \"+flow.get(\"measODtotal\").toString()+\"\\n\"+\n    \n    \"measBL \"+flow.get(\"measBL\").toString()+\"\\n\"+\n    \"measBLunits \"+flow.get(\"measBLunits\").toString()+\"\\n\"+\n    \"measBLtotal \"+flow.get(\"measBLtotal\").toString()+\"\\n\"+\n    \n    \"intBL \"+flow.get(\"intBL\").toString()+\"\\n\"+\n    \n    \"pillBL \"+flow.get(\"pillBL\").toString()+\"\\n\"+\n    \"pillBLunits \"+flow.get(\"pillBLunits\").toString()+\"\\n\"+\n    \"pillBLtotal \"+flow.get(\"pillBLtotal\").toString()+\"\\n\"+\n    \n    \"tillBL \"+flow.get(\"tillBL\").toString()+\"\\n\"+\n    \"tillBLunits \"+flow.get(\"tillBLunits\").toString()+\"\\n\"+\n    \"tillBLtotal \"+flow.get(\"tillBLtotal\").toString()+\"\\n\"+\n    \n    \"Temp \"+flow.get(\"Temp\").toString()+\"\\n\"+\n    \"PID \"+flow.get(\"PID\").toString()+\"\\n\"+\n    \n    \"FANstate \"+flow.get(\"FANstate\").toString()+\"\\n\"+\n    \"intFAN \"+flow.get(\"intFAN\").toString()+\"\\n\"+\n    \n    \"delay \"+flow.get(\"delay\").toString()+\"\\n\"+\n    \"delayunits \"+flow.get(\"delayunits\").toString()+\"\\n\"+\n    \"delaytotal \"+flow.get(\"delaytotal\").toString()+\"\\n\";\n\n//msg.myepoch=msg.myepoch.toString();\n//msg.payload=msg.payload+\";\"+msg.myepoch;\n\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":2940,"wires":[["e2da93aa.7b8668"]]},{"id":"e2da93aa.7b8668","type":"file","z":"e841cd1.acd343","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":890,"y":2940,"wires":[[]]},{"id":"756283f3.98835c","type":"simpletime","z":"e841cd1.acd343","name":"","x":1330,"y":3380,"wires":[["e746775e.9aa658"]]},{"id":"e746775e.9aa658","type":"function","z":"e841cd1.acd343","name":"IR+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameIR\");\nreturn msg;","outputs":1,"noerr":0,"x":1480,"y":3380,"wires":[["42fa3f48.e63e28"]]},{"id":"4b43e8a5.a273d","type":"simpletime","z":"e841cd1.acd343","name":"","x":1330,"y":3420,"wires":[["4885059b.a963fc"]]},{"id":"4885059b.a963fc","type":"function","z":"e841cd1.acd343","name":"BL+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameBL\");\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":3420,"wires":[["b78d007c.e858c8"]]},{"id":"af87b6ba.bf7da","type":"simpletime","z":"e841cd1.acd343","name":"","x":1330,"y":3460,"wires":[["3c4889d2.76f476"]]},{"id":"3c4889d2.76f476","type":"function","z":"e841cd1.acd343","name":"Temp+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameTemp\");\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":3460,"wires":[["cd679523.744f1"]]},{"id":"284231ea.d24d56","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2560,"wires":[["88bb2875.eb9078"]]},{"id":"15b6646a.4c6894","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=\"eV05_\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2600,"wires":[["e95841eb.375c68"]]},{"id":"bfc89e6c.b1eda","type":"function","z":"e841cd1.acd343","name":"(reset)","func":"\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":2600,"wires":[["284231ea.d24d56","15b6646a.4c6894","1af8f5a5.87b43a"]]},{"id":"f5435523.221de","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=\"launch\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":2040,"wires":[["34f10001.fa2618"]]},{"id":"ef8b3867.272318","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3340,"wires":[["dff269cf.3ca12"]]},{"id":"6630a24d.397b6c","type":"function","z":"e841cd1.acd343","name":"255","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":750,"y":3640,"wires":[["388e9900.944b98","1fdde3fd.a823c4"]]},{"id":"388e9900.944b98","type":"function","z":"e841cd1.acd343","name":"measODtotal","func":"msg.delay=flow.get(\"measODtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":780,"y":3680,"wires":[["fc0311b4.9b0f6"]]},{"id":"fc0311b4.9b0f6","type":"delay","z":"e841cd1.acd343","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":3720,"wires":[["6630a24d.397b6c"]]},{"id":"42868950.3646f8","type":"function","z":"e841cd1.acd343","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3640,"wires":[["fc0311b4.9b0f6","1fdde3fd.a823c4"]]},{"id":"1fdde3fd.a823c4","type":"trigger","z":"e841cd1.acd343","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1050,"y":3640,"wires":[["74905975.03ea48","513e3e52.8cda38","18b5a33d.3129fd"]]},{"id":"74905975.03ea48","type":"function","z":"e841cd1.acd343","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":3640,"wires":[["65a1e058.836158"]]},{"id":"513e3e52.8cda38","type":"arduino out","z":"e841cd1.acd343","name":"IR17","pin":"5","state":"PWM","arduino":"2d9393dd.556294","x":1810,"y":3680,"wires":[]},{"id":"ac3f646e.b9c36","type":"switch","z":"e841cd1.acd343","name":"lance ventilo","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"gt","v":"160","vt":"num"},{"t":"btwn","v":"0","vt":"num","v2":"160","v2t":"num"}],"checkall":"false","repair":false,"outputs":3,"x":1470,"y":3820,"wires":[["a367e712.335848"],["a367e712.335848"],["185c91fa.8536ce","407f4b27.4ef28c"]],"info":"Coz the ventilo wont start if the value is \nbelow 160.\nTo have a value below 160, we need to start w\na bigger value and THEN get down in value"},{"id":"a367e712.335848","type":"arduino out","z":"e841cd1.acd343","name":"Fan","pin":"9","state":"PWM","arduino":"2d9393dd.556294","x":1810,"y":3800,"wires":[]},{"id":"407f4b27.4ef28c","type":"function","z":"e841cd1.acd343","name":"200","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":1630,"y":3840,"wires":[["a367e712.335848"]]},{"id":"185c91fa.8536ce","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":3880,"wires":[["a367e712.335848"]]},{"id":"65a1e058.836158","type":"arduino out","z":"e841cd1.acd343","name":"BL17","pin":"6","state":"PWM","arduino":"2d9393dd.556294","x":1810,"y":3740,"wires":[]},{"id":"276f21df.f18b16","type":"link out","z":"e841cd1.acd343","name":"RESET17->","links":["e5f6833c.9d3c7","fa34850.d8f4978","c14df408.d8298","440a2d2c.698774","3742e0c8.bcab08","b9fa99c.24e2868","9b3e4119.84a748","948bae02.d8b248"],"x":1755,"y":1480,"wires":[]},{"id":"e5f6833c.9d3c7","type":"link in","z":"e841cd1.acd343","name":"->Nickname&details","links":["276f21df.f18b16"],"x":595,"y":2560,"wires":[["bfc89e6c.b1eda"]]},{"id":"cd93ec29.3c45b8","type":"link in","z":"e841cd1.acd343","name":"->StoreInFile","links":["e24fe847.9ec368"],"x":375,"y":3300,"wires":[["ef8b3867.272318"]]},{"id":"cae7cb57.a5494","type":"link in","z":"e841cd1.acd343","name":"->ODmeas","links":["e24fe847.9ec368"],"x":395,"y":3640,"wires":[["42868950.3646f8"]]},{"id":"fa34850.d8f4978","type":"link in","z":"e841cd1.acd343","name":"->stop","links":["276f21df.f18b16"],"x":875,"y":1620,"wires":[["6afa3522.889c84"]]},{"id":"b952a228.99a798","type":"function","z":"e841cd1.acd343","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1740,"y":260,"wires":[["24cf0fd3.8f1c"]]},{"id":"d0bdb801.773b2","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"measOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":260,"wires":[["548c99c3.fd52b"]]},{"id":"24cf0fd3.8f1c","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"measODunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":260,"wires":[["548c99c3.fd52b"]]},{"id":"548c99c3.fd52b","type":"function","z":"e841cd1.acd343","name":"multiply","func":"msg.payload=flow.get(\"measOD\")*flow.get(\"measODunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2100,"y":260,"wires":[["277230ce.86c1f8"]]},{"id":"37e920df.26024","type":"function","z":"e841cd1.acd343","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1760,"y":380,"wires":[["a70572c3.c773a8"]]},{"id":"46e942f.fc8633c","type":"function","z":"e841cd1.acd343","name":"multiply","func":"msg.payload=flow.get(\"measBL\")*flow.get(\"measBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2120,"y":380,"wires":[["5b26d415.3fb0c4"]]},{"id":"5b26d415.3fb0c4","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"measBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":380,"wires":[["1931fdc6.8ba68a"]]},{"id":"71a084f7.ba3a04","type":"function","z":"e841cd1.acd343","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1100,"y":600,"wires":[["e31b6abb.9066f8"]]},{"id":"ef24e28d.060bc","type":"function","z":"e841cd1.acd343","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":600,"wires":[["403f4470.b41e3c"]]},{"id":"685a86d.2efd9f8","type":"function","z":"e841cd1.acd343","name":"multiply","func":"msg.payload=flow.get(\"pillBL\")*flow.get(\"pillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1000,"y":700,"wires":[["bd570bd4.722628"]]},{"id":"bd570bd4.722628","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"pillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1170,"y":700,"wires":[["f7541de.ca50be"]]},{"id":"fb0b4897.84162","type":"function","z":"e841cd1.acd343","name":"multiply","func":"msg.payload=flow.get(\"tillBL\")*flow.get(\"tillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":700,"wires":[["550e334f.1b7244"]]},{"id":"550e334f.1b7244","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"tillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":700,"wires":[[]]},{"id":"dfe4adf3.2b5f68","type":"function","z":"e841cd1.acd343","name":"multiply","func":"msg.payload=flow.get(\"delay\")*flow.get(\"delayunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":1220,"wires":[["6023ce74.9f7308"]]},{"id":"6023ce74.9f7308","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"delaytotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":1220,"wires":[["6363d566.d208e4"]]},{"id":"875f1883.6b90d","type":"function","z":"e841cd1.acd343","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1180,"wires":[["b7dfdf5f.a14028"]]},{"id":"e24fe847.9ec368","type":"link out","z":"e841cd1.acd343","name":"STOP17.false","links":["c4a7f1e4.bba83","cae7cb57.a5494","34866b85.fd943c","cd93ec29.3c45b8","802382c2.4be73","c750b073.f2bc18","f07d5c91.3efa9","1df85263.4c9ed6","62aee119.400d9","60cfbaf3.8a1c94"],"x":1235,"y":1580,"wires":[]},{"id":"18b5a33d.3129fd","type":"function","z":"e841cd1.acd343","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":3680,"wires":[["ac3f646e.b9c36"]]},{"id":"51aa4d5b.1eceb4","type":"comment","z":"e841cd1.acd343","name":"OD mesaurements","info":"","x":790,"y":3600,"wires":[]},{"id":"5942d629.291da","type":"function","z":"e841cd1.acd343","name":"255","func":"if (flow.get(\"measBLtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":910,"y":4220,"wires":[["18d89f06.adcd51","f110a458.cd0348"]]},{"id":"18d89f06.adcd51","type":"function","z":"e841cd1.acd343","name":"measBLtotal","func":"msg.delay=flow.get(\"measBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":4280,"wires":[["d78f4f60.a9e468"]]},{"id":"d78f4f60.a9e468","type":"delay","z":"e841cd1.acd343","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1050,"y":4320,"wires":[["5942d629.291da"]]},{"id":"d09943a3.9e12e8","type":"trigger","z":"e841cd1.acd343","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1350,"y":4240,"wires":[["841383bc.9dd","78644bee.272ecc"]]},{"id":"2cdaec4c.2272bc","type":"comment","z":"e841cd1.acd343","name":"BL mesaurements","info":"","x":910,"y":4180,"wires":[]},{"id":"f110a458.cd0348","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"delay","timeout":"7","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1180,"y":4200,"wires":[["d09943a3.9e12e8","25e062ff.e74226"]]},{"id":"7960e382.ed41d4","type":"function","z":"e841cd1.acd343","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":4220,"wires":[["d78f4f60.a9e468","d09943a3.9e12e8","f110a458.cd0348","9c12d92f.3b4a88","185c91fa.8536ce"]]},{"id":"34866b85.fd943c","type":"link in","z":"e841cd1.acd343","name":"->BLmeas","links":["e24fe847.9ec368"],"x":335,"y":4220,"wires":[["7960e382.ed41d4"]]},{"id":"78644bee.272ecc","type":"function","z":"e841cd1.acd343","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":4220,"wires":[["65a1e058.836158"]]},{"id":"841383bc.9dd","type":"function","z":"e841cd1.acd343","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":4260,"wires":[["ac3f646e.b9c36"]]},{"id":"b9af8a.50c5f878","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1540,"wires":[["9679dab5.6ad33"]]},{"id":"9679dab5.6ad33","type":"link out","z":"e841cd1.acd343","name":"STOP17.0","links":["e099dccd.677c9","b0d18d6e.f1d9","c58951a5.56b19","885b3cfe.056f7","48c11f9d.37dde","7b3e4ac7.65d3e4"],"x":1295,"y":1540,"wires":[]},{"id":"e099dccd.677c9","type":"link in","z":"e841cd1.acd343","name":"->IT,BL,FAN","links":["9679dab5.6ad33"],"x":1475,"y":3640,"wires":[["65a1e058.836158","513e3e52.8cda38","a367e712.335848"]]},{"id":"ab1d42e8.2244d","type":"ui_button","z":"e841cd1.acd343","name":"02 OD realtime value","group":"776aa8a2.226a08","order":11,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3380,"wires":[[]]},{"id":"b1735ecc.aef3d","type":"function","z":"e841cd1.acd343","name":"","func":"msg.label=msg.payload;\nif (msg.payload>150){\n    msg.background=\"red\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3380,"wires":[["ab1d42e8.2244d"]]},{"id":"f9523545.461d3","type":"function","z":"e841cd1.acd343","name":"","func":"msg.label=msg.payload;\nif (msg.payload>300){\n    msg.background=\"#44cff1\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3420,"wires":[["a938b9d6.4ab93"]]},{"id":"a938b9d6.4ab93","type":"ui_button","z":"e841cd1.acd343","name":"03 BL realtime value","group":"776aa8a2.226a08","order":18,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3420,"wires":[[]]},{"id":"4e23a4d6.d30fb4","type":"comment","z":"e841cd1.acd343","name":"Display:","info":"","x":1800,"y":3340,"wires":[]},{"id":"9c12d92f.3b4a88","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":3900,"wires":[["2300da48.b9e43e"]]},{"id":"2300da48.b9e43e","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=true;\nreturn msg;\n\n","outputs":1,"noerr":0,"x":750,"y":3940,"wires":[["5942d629.291da","1a0ae6f3.b1d5b1","1cc573ba.74ea7c","846bfabf.2d7ec8"]]},{"id":"1dd8f4e2.e22743","type":"function","z":"e841cd1.acd343","name":"","func":"msg.delay=flow.get(\"delaytotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3860,"wires":[["9c12d92f.3b4a88","19cec47e.9f2cc4","846bfabf.2d7ec8"]]},{"id":"19cec47e.9f2cc4","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3880,"wires":[["f2675d0b.54a04"]]},{"id":"c9a1b85c.8ce828","type":"comment","z":"e841cd1.acd343","name":"growth delay","info":"","x":770,"y":3820,"wires":[]},{"id":"f0ae895f.716818","type":"function","z":"e841cd1.acd343","name":"","func":"msg.delay=flow.get(\"tillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4740,"wires":[["da4be991.f79c5"]]},{"id":"da4be991.f79c5","type":"delay","z":"e841cd1.acd343","name":"part","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4740,"wires":[["739e429.d29b5bc"]]},{"id":"1a0ae6f3.b1d5b1","type":"function","z":"e841cd1.acd343","name":"","func":"if (flow.get(\"pillBLtotal\") === 0 || flow.get(\"tillBLtotal\") === 0){\n    return;\n}\nelse{\n    msg.payload=flow.get(\"intBL\");\n    msg.state=\"ON\";\n    return msg;\n}\n\n\n","outputs":1,"noerr":0,"x":910,"y":4600,"wires":[["f0ae895f.716818","84ad38b5.e4123","ab37fed1.2c0e38","d83037b3.69395","7b116a62.dd3784"]]},{"id":"739e429.d29b5bc","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=0;\nmsg.state=\"OFF\";\nreturn msg;\n","outputs":1,"noerr":0,"x":1010,"y":4740,"wires":[["ab37fed1.2c0e38","d83037b3.69395","7b116a62.dd3784"]]},{"id":"84ad38b5.e4123","type":"function","z":"e841cd1.acd343","name":"","func":"msg.delay=flow.get(\"pillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4700,"wires":[["691a6ca0.f73a4c"]]},{"id":"691a6ca0.f73a4c","type":"delay","z":"e841cd1.acd343","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4700,"wires":[["1a0ae6f3.b1d5b1"]]},{"id":"8fac1e3f.edc1d","type":"function","z":"e841cd1.acd343","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":4620,"wires":[["691a6ca0.f73a4c","da4be991.f79c5","112c0bdf.0be31c","7b116a62.dd3784"]]},{"id":"7478345a.8e19e4","type":"comment","z":"e841cd1.acd343","name":"Cycle w sous cycle la: cool pr la blue LED","info":"","x":990,"y":4500,"wires":[]},{"id":"c4a7f1e4.bba83","type":"link in","z":"e841cd1.acd343","name":"->BLcycle","links":["e24fe847.9ec368"],"x":635,"y":4620,"wires":[["8fac1e3f.edc1d"]]},{"id":"ab37fed1.2c0e38","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"BLstate","pt":"flow","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":4560,"wires":[[]]},{"id":"b6293b6b.1d9b7","type":"inject","z":"e841cd1.acd343","name":"","topic":"","payload":"OFF","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":890,"y":4540,"wires":[["112c0bdf.0be31c"]]},{"id":"b2d172f8.ccd96","type":"function","z":"e841cd1.acd343","name":"for FAN","func":"if (flow.get(\"FANstate\")===\"ON\"){\n    msg.payload=flow.get(\"intFAN\");\n}\nelse if (flow.get(\"FANstate\")===\"OFF\"){\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":3000,"wires":[["29a04e0c.11b11a"]]},{"id":"b0d18d6e.f1d9","type":"link in","z":"e841cd1.acd343","name":"->PID","links":["9679dab5.6ad33"],"x":455,"y":3140,"wires":[["8f8e426c.4cd148"]]},{"id":"805bc0fd.79446","type":"function","z":"e841cd1.acd343","name":"","func":"msg.label=\"Initialization\";\nmsg.background=\"#f39c12\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1640,"wires":[["fb8e8a5c.98ed88"]]},{"id":"163848b5.b59e77","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":200,"y":1600,"wires":[["d6d475d5.77e8c8"]]},{"id":"1b50c69a.e54289","type":"ui_button","z":"e841cd1.acd343","name":"06 Temp realtime value","group":"776aa8a2.226a08","order":39,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1970,"y":3460,"wires":[[]]},{"id":"d9bac0d3.965918","type":"function","z":"e841cd1.acd343","name":"","func":"msg.label=msg.payload;\nif (flow.get(\"PIDstate\")>0){\n    msg.background=\"#fdedec\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3460,"wires":[["1b50c69a.e54289"]]},{"id":"9495a7c.dbfe3d8","type":"ui_button","z":"e841cd1.acd343","name":"05 BLstate","group":"776aa8a2.226a08","order":27,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1470,"y":4600,"wires":[[]]},{"id":"d83037b3.69395","type":"function","z":"e841cd1.acd343","name":"","func":"msg.label=msg.state;\nif (msg.label===\"ON\"){\n    msg.background=\"#ebf5fb\";\n}\nelse if (msg.label===\"OFF\"){\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":4600,"wires":[["9495a7c.dbfe3d8"]]},{"id":"112c0bdf.0be31c","type":"function","z":"e841cd1.acd343","name":"","func":"msg.state=\"OFF\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":4540,"wires":[["ab37fed1.2c0e38","d83037b3.69395"]]},{"id":"a1fcb5dc.36b24","type":"function","z":"e841cd1.acd343","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"pillBLtotal\")/1000-(msg.count%(flow.get(\"pillBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":620,"wires":[["efe23365.a6ca78"]]},{"id":"e19bdcb8.1754b8","type":"ui_button","z":"e841cd1.acd343","name":"04 pillBL Cycle counter","group":"776aa8a2.226a08","order":26,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3330,"y":600,"wires":[[]]},{"id":"f7541de.ca50be","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=flow.get(\"pillBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":580,"wires":[["efe23365.a6ca78","6363d566.d208e4"]]},{"id":"144a5179.93b75f","type":"counter","z":"e841cd1.acd343","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":680,"wires":[["a1fcb5dc.36b24"]]},{"id":"f43da72a.9e08f8","type":"function","z":"e841cd1.acd343","name":"","func":"if (flow.get(\"counterpillBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"counterpillBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":640,"wires":[["144a5179.93b75f"]]},{"id":"1cc573ba.74ea7c","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"counterpillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":4460,"wires":[[]]},{"id":"cda9e200.6c4ab8","type":"inject","z":"e841cd1.acd343","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4480,"wires":[["4d350579.0b64dc"]]},{"id":"4d350579.0b64dc","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4460,"wires":[["1cc573ba.74ea7c"]]},{"id":"802382c2.4be73","type":"link in","z":"e841cd1.acd343","name":"->Counter","links":["e24fe847.9ec368"],"x":415,"y":4440,"wires":[["4d350579.0b64dc"]]},{"id":"75b9ecf1.6cdf6c","type":"inject","z":"e841cd1.acd343","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"3","x":190,"y":1520,"wires":[["a820b50.0704ec8"]]},{"id":"9432d50f.b25458","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":1,"width":"3","height":"1","name":"00 eVOLVER05","label":"<font size =5>eVOLVER05","format":"{{msg.payload}}","layout":"row-center","x":700,"y":60,"wires":[]},{"id":"97ba2acd.cec7d","type":"link out","z":"e841cd1.acd343","name":"enabled->","links":["4dea90fc.2f6ab"],"x":955,"y":2080,"wires":[]},{"id":"885b3cfe.056f7","type":"link in","z":"e841cd1.acd343","name":"->GL","links":["9679dab5.6ad33"],"x":255,"y":2120,"wires":[["34f10001.fa2618","44ab080c.786528"]]},{"id":"95a15273.c5511","type":"comment","z":"e841cd1.acd343","name":"01","info":"","x":550,"y":60,"wires":[]},{"id":"8ec99e5b.27f3c8","type":"comment","z":"e841cd1.acd343","name":"02 ODmeas","info":"","x":650,"y":180,"wires":[]},{"id":"baeee4c5.4011b8","type":"comment","z":"e841cd1.acd343","name":"03 BLmeas","info":"","x":670,"y":300,"wires":[]},{"id":"7982c488.060cf4","type":"link in","z":"e841cd1.acd343","name":"->ARDUINO FAN","links":["7d3b4d03.89b754","29a04e0c.11b11a"],"x":1275,"y":3820,"wires":[["ac3f646e.b9c36"]]},{"id":"63ea4d2a.aa6f0c","type":"link in","z":"e841cd1.acd343","name":"->ARDUINO IR","links":["4acbef66.8b84f8"],"x":1695,"y":3640,"wires":[["513e3e52.8cda38"]]},{"id":"2e0703be.19fb34","type":"link in","z":"e841cd1.acd343","name":"->ARDUINO BL","links":["7b116a62.dd3784","4ffc600a.3f0ec"],"x":1615,"y":3760,"wires":[["65a1e058.836158"]]},{"id":"7b116a62.dd3784","type":"link out","z":"e841cd1.acd343","name":"BLcycle->BL","links":["2e0703be.19fb34"],"x":1235,"y":4660,"wires":[]},{"id":"29a04e0c.11b11a","type":"link out","z":"e841cd1.acd343","name":"Fancontrol","links":["7982c488.060cf4"],"x":895,"y":3000,"wires":[]},{"id":"7d3b4d03.89b754","type":"link out","z":"e841cd1.acd343","name":"Fansetup","links":["7982c488.060cf4"],"x":1735,"y":1060,"wires":[]},{"id":"4acbef66.8b84f8","type":"link out","z":"e841cd1.acd343","name":"IRsetup","links":["63ea4d2a.aa6f0c"],"x":1115,"y":180,"wires":[]},{"id":"4ffc600a.3f0ec","type":"link out","z":"e841cd1.acd343","name":"BLcycle->BL","links":["2e0703be.19fb34"],"x":1135,"y":300,"wires":[]},{"id":"70cad955.da8948","type":"link out","z":"e841cd1.acd343","name":"PIDsetup->","links":["1e39c142.a34af7"],"x":1295,"y":880,"wires":[]},{"id":"1e39c142.a34af7","type":"link in","z":"e841cd1.acd343","name":"->ARDUINO HEATER","links":["70cad955.da8948","adac9125.ca28a8"],"x":1215,"y":3140,"wires":[["3beccf67.6eeb"]]},{"id":"44ab080c.786528","type":"link out","z":"e841cd1.acd343","name":"GRlaunch->","links":["48e99a88.8eb3f4"],"x":515,"y":2160,"wires":[]},{"id":"48e99a88.8eb3f4","type":"link in","z":"e841cd1.acd343","name":"->GL","links":["44ab080c.786528"],"x":1035,"y":120,"wires":[["c9b236c7.99d028"]]},{"id":"8b90a8eb.7fdc28","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":800,"y":3160,"wires":[["addd6abc.7bf9d"]]},{"id":"8853df45.bac258","type":"PID","z":"e841cd1.acd343","name":"","setpoint":"550","pb":"0","ti":"900","td":0,"integral_default":0.5,"smooth_factor":3,"max_interval":600,"enable":"0","disabled_op":0,"x":1010,"y":3100,"wires":[["d6b070b1.7fa558","b31246c7.1bae88"]]},{"id":"78ce6edd.3298d8","type":"arduino in","z":"e841cd1.acd343","name":"TempSensor","pin":"0","state":"ANALOG","arduino":"2d9393dd.556294","x":750,"y":3120,"wires":[["8b90a8eb.7fdc28","213e2593.804bd2"]]},{"id":"3beccf67.6eeb","type":"arduino out","z":"e841cd1.acd343","name":"Heater","pin":"4","state":"OUTPUT","arduino":"2d9393dd.556294","x":1330,"y":3100,"wires":[]},{"id":"d6b070b1.7fa558","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"PIDstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":3060,"wires":[[]]},{"id":"4cf86b33.d13d6c","type":"inject","z":"e841cd1.acd343","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":"0.3","x":1130,"y":3020,"wires":[["d6b070b1.7fa558"]]},{"id":"8f8e426c.4cd148","type":"function","z":"e841cd1.acd343","name":"","func":"if (msg.payload===true){\n    msg.enable=1;\n}\nif (msg.payload===0){\n    msg.enable=0;\n}\nif (flow.get(\"PID\")===\"OFF\"){\n    msg.enable=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3080,"wires":[["8853df45.bac258"]]},{"id":"addd6abc.7bf9d","type":"function","z":"e841cd1.acd343","name":"setpoint","func":"msg.setpoint=flow.get(\"Temp\");\nreturn msg;","outputs":1,"noerr":0,"x":840,"y":3200,"wires":[["8853df45.bac258"]]},{"id":"5231704d.bd6ed8","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":940,"y":980,"wires":[["e832d4e0.b26e"]]},{"id":"e832d4e0.b26e","type":"function","z":"e841cd1.acd343","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    msg.payload=0;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1210,"y":960,"wires":[["988a3d61.cc1fd"]]},{"id":"b31246c7.1bae88","type":"function","z":"e841cd1.acd343","name":"","func":"if (flow.get(\"launched\")===false){\n    return;\n}\nelse if (flow.get(\"launched\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":1170,"y":3100,"wires":[["3beccf67.6eeb"]]},{"id":"5a4d0095.e901c8","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"launched","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1960,"wires":[[]]},{"id":"7a8503ba.49236c","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":800,"wires":[[]]},{"id":"d869a81f.d2b3b8","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"PID","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":860,"wires":[["cbb073f2.ec49c"]]},{"id":"4eb5816a.5f4fc8","type":"inject","z":"e841cd1.acd343","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":250,"y":1960,"wires":[["5a4d0095.e901c8"]]},{"id":"c750b073.f2bc18","type":"link in","z":"e841cd1.acd343","name":"->launched","links":["e24fe847.9ec368"],"x":275,"y":2000,"wires":[["5a4d0095.e901c8"]]},{"id":"35b45f1c.02f5b8","type":"function","z":"e841cd1.acd343","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    return msg;\n}\n","outputs":1,"noerr":0,"x":910,"y":940,"wires":[["5231704d.bd6ed8"]]},{"id":"b4665fbe.553f88","type":"inject","z":"e841cd1.acd343","name":"INITIALIZATION","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":290,"y":720,"wires":[["5c139712.80e3f8"]]},{"id":"5c139712.80e3f8","type":"function","z":"e841cd1.acd343","name":"initialization","func":"\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":740,"wires":[["4b44d474.fadbbc","b367ac4e.66626","f26613b8.537e","1c272953.ee1347","7a4e60c6.650d6","c4c7b3ea.b1e168","b64974.6091669","e732eb26.3dfa08","b5d6e29f.b80968"]]},{"id":"86808186.5d51b","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=10;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":180,"wires":[["9f86e8a5.d2e9e","b1f265a3.3a7318","ed76e124.c39a6"]]},{"id":"b1f265a3.3a7318","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1670,"y":180,"wires":[["775b3bc3.4c699c","c02699fb.11067","6f2863e5.3ffe74"]]},{"id":"ed76e124.c39a6","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":300,"wires":[["ddd1fb84.d940f","89227898.6ad1d8"]]},{"id":"89227898.6ad1d8","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1710,"y":300,"wires":[["efa0ee99.6ff5c"]]},{"id":"2903ba1e.1b7ac6","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":520,"wires":[["626b0569.63aa6c","6719a37d.e6c0dc"]]},{"id":"6719a37d.e6c0dc","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=\"seconds\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":520,"wires":[["5d3acbad.e1254c"]]},{"id":"4b44d474.fadbbc","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=1;\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":520,"wires":[["7144e283.f661bc","99bb8d81.bbe228"]]},{"id":"99bb8d81.bbe228","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":520,"wires":[["8b8aa9a2.fe2e1","2903ba1e.1b7ac6"]]},{"id":"89572834.23a41","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":1140,"wires":[["6e5dee05.469a38","79a64a5.689e0b4"]]},{"id":"b367ac4e.66626","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":1140,"wires":[["701a232f.3d5e84","89572834.23a41"]]},{"id":"f26613b8.537e","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=550;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":840,"wires":[["68e707c8.d25038"]]},{"id":"1c272953.ee1347","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":880,"wires":[["988a3d61.cc1fd"]]},{"id":"79a64a5.689e0b4","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":1020,"wires":[["ab87b073.06ade","1ebb73ce.b8ff2c"]]},{"id":"1ebb73ce.b8ff2c","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=100;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":980,"wires":[["bf356c74.ffcd1","82d75861.058dc"]]},{"id":"82d75861.058dc","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":800,"wires":[["d869a81f.d2b3b8","de6a7d14.46c1e"]]},{"id":"7a4e60c6.650d6","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":1020,"wires":[["2e02253.74660da"]]},{"id":"c4c7b3ea.b1e168","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":420,"wires":[["20d4b3d1.1f6f0c"]]},{"id":"b5d6e29f.b80968","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":300,"wires":[["736d2d15.61f0dc"]]},{"id":"e732eb26.3dfa08","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":180,"wires":[["4cc9b0cc.dc8b4","867d0920.a634e8"]]},{"id":"b64974.6091669","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":60,"wires":[["525bfb3a.845fbc"]]},{"id":"867d0920.a634e8","type":"function","z":"e841cd1.acd343","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":60,"wires":[["c428ab33.fba87","86808186.5d51b"]]},{"id":"c14df408.d8298","type":"link in","z":"e841cd1.acd343","name":"->initialization","links":["276f21df.f18b16"],"x":375,"y":760,"wires":[["5c139712.80e3f8"]]},{"id":"ab87b073.06ade","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1480,"y":1060,"wires":[["89d308f2.3ae2f"]]},{"id":"efe23365.a6ca78","type":"function","z":"e841cd1.acd343","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":600,"wires":[["e19bdcb8.1754b8"]]},{"id":"cfebe50.3223698","type":"inject","z":"e841cd1.acd343","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":640,"wires":[["f43da72a.9e08f8"]]},{"id":"6c8130b8.2c8568","type":"function","z":"e841cd1.acd343","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measODtotal\")/1000-(msg.count%(flow.get(\"measODtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":300,"wires":[["43c2cc3.322cdb4"]]},{"id":"86959b86.97b7e8","type":"ui_button","z":"e841cd1.acd343","name":"02 ODmeas Cycle counter","group":"776aa8a2.226a08","order":10,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":280,"wires":[[]]},{"id":"c02699fb.11067","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=flow.get(\"measODtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":260,"wires":[["43c2cc3.322cdb4","1931fdc6.8ba68a"]]},{"id":"f91b0d63.8d7e3","type":"counter","z":"e841cd1.acd343","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":360,"wires":[["6c8130b8.2c8568"]]},{"id":"4c3f83ad.4441a4","type":"function","z":"e841cd1.acd343","name":"","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}if (flow.get(\"countermeasOD\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasOD\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":320,"wires":[["f91b0d63.8d7e3"]]},{"id":"43c2cc3.322cdb4","type":"function","z":"e841cd1.acd343","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":280,"wires":[["86959b86.97b7e8"]]},{"id":"cc957659.6c6c","type":"inject","z":"e841cd1.acd343","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":320,"wires":[["4c3f83ad.4441a4"]]},{"id":"286a9b00.6072a6","type":"function","z":"e841cd1.acd343","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measBLtotal\")/1000-(msg.count%(flow.get(\"measBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":460,"wires":[["9ca0760f.001958"]]},{"id":"bf8d9291.ada908","type":"ui_button","z":"e841cd1.acd343","name":"03 BLmeas Cycle counter","group":"776aa8a2.226a08","order":17,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":440,"wires":[[]]},{"id":"1931fdc6.8ba68a","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=flow.get(\"measBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":420,"wires":[["9ca0760f.001958","f7541de.ca50be"]]},{"id":"e28786aa.be99f","type":"counter","z":"e841cd1.acd343","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":520,"wires":[["286a9b00.6072a6"]]},{"id":"264575c1.b91d32","type":"function","z":"e841cd1.acd343","name":"","func":"if (flow.get(\"countermeasBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":480,"wires":[["e28786aa.be99f"]]},{"id":"9ca0760f.001958","type":"function","z":"e841cd1.acd343","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":440,"wires":[["bf8d9291.ada908"]]},{"id":"5815fa6f.f6ee74","type":"inject","z":"e841cd1.acd343","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":480,"wires":[["264575c1.b91d32"]]},{"id":"5250c46.cf6503c","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"countermeasBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1010,"y":4140,"wires":[[]]},{"id":"72bbb81e.24356","type":"inject","z":"e841cd1.acd343","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4160,"wires":[["4f0ec40f.5aa174"]]},{"id":"4f0ec40f.5aa174","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4140,"wires":[["5250c46.cf6503c"]]},{"id":"f07d5c91.3efa9","type":"link in","z":"e841cd1.acd343","name":"->Counter","links":["e24fe847.9ec368"],"x":415,"y":4120,"wires":[["4f0ec40f.5aa174"]]},{"id":"7a68cc5d.24fb74","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"countermeasOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3560,"wires":[[]]},{"id":"13a34ac7.4fdea5","type":"inject","z":"e841cd1.acd343","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":230,"y":3580,"wires":[["c86099e1.e3ad18"]]},{"id":"c86099e1.e3ad18","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":3560,"wires":[["7a68cc5d.24fb74"]]},{"id":"1df85263.4c9ed6","type":"link in","z":"e841cd1.acd343","name":"->Counter","links":["e24fe847.9ec368"],"x":255,"y":3540,"wires":[["c86099e1.e3ad18"]]},{"id":"25e062ff.e74226","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":4040,"wires":[["5250c46.cf6503c"]]},{"id":"15e76f28.df24f9","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":900,"wires":[["297ad6eb.887a52"]]},{"id":"6d7119e6.74af58","type":"counter","z":"e841cd1.acd343","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":980,"wires":[["fc4a0f6d.043fa"]]},{"id":"a46704be.a87ec","type":"function","z":"e841cd1.acd343","name":"","func":"if (flow.get(\"counterlaunch\")===false){\n    return;\n}\nelse if (flow.get(\"counterlaunch\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":940,"wires":[["6d7119e6.74af58"]]},{"id":"297ad6eb.887a52","type":"function","z":"e841cd1.acd343","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3120,"y":920,"wires":[["3fdab90c.ac5de6","b4465160.f84dd8"]]},{"id":"24ac3343.a098ec","type":"inject","z":"e841cd1.acd343","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":940,"wires":[["a46704be.a87ec"]]},{"id":"3fdab90c.ac5de6","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":53,"width":"4","height":"1","name":"09 elapsed time","label":"Elapsed time: ","format":"{{msg.payload}}","layout":"row-left","x":3280,"y":940,"wires":[]},{"id":"fc4a0f6d.043fa","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=msg.count;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":940,"wires":[["297ad6eb.887a52"]]},{"id":"4320b516.cffec4","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"counterlaunch","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":2880,"wires":[[]]},{"id":"93460556.ac5908","type":"inject","z":"e841cd1.acd343","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":270,"y":2900,"wires":[["ea4bcef9.5dfc7"]]},{"id":"ea4bcef9.5dfc7","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":2880,"wires":[["4320b516.cffec4"]]},{"id":"62aee119.400d9","type":"link in","z":"e841cd1.acd343","name":"->Counter","links":["e24fe847.9ec368"],"x":295,"y":2860,"wires":[["ea4bcef9.5dfc7"]]},{"id":"fdd1310f.c5b938","type":"function","z":"e841cd1.acd343","name":"","func":"if (msg.count>=flow.get(\"delaytotal\")/1000){\n    msg.payload=0;\n}\nelse {\n    msg.payload=flow.get(\"delaytotal\")/1000-(msg.count%(flow.get(\"delaytotal\")/1000));\n\n}\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":780,"wires":[["dc2faa7c.7d25e"]]},{"id":"194c2880.559cd8","type":"ui_button","z":"e841cd1.acd343","name":"08 growthdelay Cycle counter","group":"776aa8a2.226a08","order":50,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3350,"y":760,"wires":[[]]},{"id":"6363d566.d208e4","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=flow.get(\"delaytotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":740,"wires":[["dc2faa7c.7d25e","15e76f28.df24f9"]]},{"id":"ac66c52.54b51b8","type":"counter","z":"e841cd1.acd343","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":840,"wires":[["fdd1310f.c5b938"]]},{"id":"5b54c54d.e97364","type":"function","z":"e841cd1.acd343","name":"","func":"if (flow.get(\"delaytotal\")===0){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===false){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":800,"wires":[["ac66c52.54b51b8"]]},{"id":"dc2faa7c.7d25e","type":"function","z":"e841cd1.acd343","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":760,"wires":[["194c2880.559cd8"]]},{"id":"89e977df.fdf258","type":"inject","z":"e841cd1.acd343","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":800,"wires":[["5b54c54d.e97364"]]},{"id":"f2675d0b.54a04","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"counterdelay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1040,"y":3840,"wires":[[]]},{"id":"5ddbde6c.1d8b7","type":"inject","z":"e841cd1.acd343","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":430,"y":3860,"wires":[["ef425e0e.c196f8"]]},{"id":"ef425e0e.c196f8","type":"function","z":"e841cd1.acd343","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":3840,"wires":[["f2675d0b.54a04","846bfabf.2d7ec8"]]},{"id":"60cfbaf3.8a1c94","type":"link in","z":"e841cd1.acd343","name":"->Counter","links":["e24fe847.9ec368"],"x":455,"y":3820,"wires":[["ef425e0e.c196f8"]]},{"id":"6c055896.56cac8","type":"ui_text","z":"e841cd1.acd343","group":"776aa8a2.226a08","order":51,"width":"2","height":"1","name":"08 growth delay status","label":"","format":"{{msg.payload}}","layout":"row-center","x":1110,"y":3960,"wires":[]},{"id":"846bfabf.2d7ec8","type":"function","z":"e841cd1.acd343","name":"","func":"if (msg.payload===false){\n    msg.payload=\"delay status\";\n}\nif (msg.payload===\"delay\"){\n    msg.payload=\"ongoing\";\n}\nelse if (msg.payload===true){\n    msg.payload=\"over\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3960,"wires":[["6c055896.56cac8"]]},{"id":"d4fd3454.354538","type":"function","z":"e841cd1.acd343","name":"reset","func":"msg.reset=true;\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2410,"y":540,"wires":[["f91b0d63.8d7e3","144a5179.93b75f","ac66c52.54b51b8","6d7119e6.74af58"]]},{"id":"6f2863e5.3ffe74","type":"delay","z":"e841cd1.acd343","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":2240,"y":520,"wires":[["d4fd3454.354538"]]},{"id":"b4465160.f84dd8","type":"change","z":"e841cd1.acd343","name":"","rules":[{"t":"set","p":"elapsed","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3290,"y":900,"wires":[[]]},{"id":"55b4013a.0e944","type":"function","z":"e841cd1.acd343","name":"elapsed","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=\"Elapsed time \"+flow.get(\"elapsed\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":1660,"wires":[["71382cba.3540fc"]]},{"id":"71382cba.3540fc","type":"file","z":"e841cd1.acd343","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1270,"y":1660,"wires":[[]]},{"id":"a0d3fe37.df0828","type":"comment","z":"e841cd1.acd343","name":"BOUGZY DEPLOY","info":"","x":2590,"y":80,"wires":[]},{"id":"938dccb5.287178","type":"arduino out","z":"201b2be.ed99554","name":"GL17","pin":"3","state":"OUTPUT","arduino":"e21f26fd.480c4","x":1130,"y":60,"wires":[]},{"id":"32e66500.a0d9d4","type":"arduino out","z":"201b2be.ed99554","name":"YL17","pin":"2","state":"OUTPUT","arduino":"e21f26fd.480c4","x":1550,"y":60,"wires":[]},{"id":"b91181ea.6de3c8","type":"ui_slider","z":"201b2be.ed99554","name":"05 intensity:","label":"intensity:","tooltip":"","group":"29e435f5.f794ba","order":30,"width":"7","height":"1","passthru":true,"outs":"end","topic":"","min":0,"max":"255","step":"1","x":1170,"y":420,"wires":[["44e52207.8665fc","f630bba1.e2b0d8"]]},{"id":"4704a79.56f6058","type":"ui_numeric","z":"201b2be.ed99554","name":"06 and set to 480","label":"and set to","tooltip":"","group":"29e435f5.f794ba","order":37,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"1025","step":"1","x":1030,"y":840,"wires":[["9c149ebd.e01ac"]]},{"id":"521dd96a.4161b","type":"ui_switch","z":"201b2be.ed99554","name":"01 GL17","label":"","tooltip":"","group":"29e435f5.f794ba","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"green","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"green","x":1000,"y":60,"wires":[["938dccb5.287178"]]},{"id":"7ab61fc5.51cbc","type":"ui_switch","z":"201b2be.ed99554","name":"01 YL17","label":"","tooltip":"","group":"29e435f5.f794ba","order":4,"width":"1","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#e2c43c","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"#e2c43c","x":1420,"y":60,"wires":[["32e66500.a0d9d4"]]},{"id":"7b631fe8.393ea","type":"ui_switch","z":"201b2be.ed99554","name":"02 IR17","label":"","tooltip":"","group":"29e435f5.f794ba","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"red","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1000,"y":180,"wires":[["1c5024.1027f7dd"]]},{"id":"2164acbd.522204","type":"ui_switch","z":"201b2be.ed99554","name":"03 BL17","label":"","tooltip":"","group":"29e435f5.f794ba","order":12,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#44cff1","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1020,"y":300,"wires":[["f630bba1.e2b0d8"]]},{"id":"bc514001.08584","type":"ui_switch","z":"201b2be.ed99554","name":"07 FAN","label":"","tooltip":"","group":"29e435f5.f794ba","order":40,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"toys","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1620,"y":1080,"wires":[["af761ebb.5377f"]]},{"id":"763fe57e.9e9eac","type":"ui_switch","z":"201b2be.ed99554","name":"06 T01 PID","label":"","tooltip":"","group":"29e435f5.f794ba","order":33,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"enable","style":"","onvalue":"1","onvalueType":"num","onicon":"hot_tub","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1030,"y":880,"wires":[["4e3988c.40cb6f8","22050bc1.710b9c"]]},{"id":"b66a5c17.d79de8","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":25,"width":"2","height":"1","name":"04 spacer","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1770,"y":520,"wires":[]},{"id":"286ecd9.c912432","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":46,"width":"7","height":"1","name":"07 last spacer","label":"(produces sound: fine).","format":"{{msg.payload}}","layout":"row-spread","x":1960,"y":1020,"wires":[]},{"id":"5683c09d.d4b7b8","type":"ui_numeric","z":"201b2be.ed99554","name":"02 every 5","label":"every","tooltip":"","group":"29e435f5.f794ba","order":7,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1450,"y":220,"wires":[["6c8c6f1a.51c808"]]},{"id":"97f4b908.d9d718","type":"ui_dropdown","z":"201b2be.ed99554","name":"02 minutes","label":"","tooltip":"","place":"Select option","group":"29e435f5.f794ba","order":8,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1690,"y":220,"wires":[["6d5c3dff.4949bc"]]},{"id":"71126e65.d2ff68","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"measODtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2280,"y":320,"wires":[["cbebacae.7373a8"]]},{"id":"4e718742.f0b0f","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":9,"width":"7","height":"1","name":"02 (takes 5 seconds)","label":"(takes 5 seconds).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":180,"wires":[]},{"id":"afd9d03.5040b3","type":"ui_numeric","z":"201b2be.ed99554","name":"03 every 5","label":"every","tooltip":"","group":"29e435f5.f794ba","order":14,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1490,"y":340,"wires":[["ce4971bb.979f7"]]},{"id":"5aaa7f95.ff14a8","type":"ui_dropdown","z":"201b2be.ed99554","name":"03 minutes","label":"","tooltip":"","place":"Select option","group":"29e435f5.f794ba","order":15,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1730,"y":340,"wires":[["7c5f3ed8.e40a28"]]},{"id":"ce4971bb.979f7","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"measBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":380,"wires":[["1bbfacf2.2fe48b"]]},{"id":"890115da.e139c8","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"measBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1940,"y":380,"wires":[["1bbfacf2.2fe48b"]]},{"id":"d9abc8f8.2d136","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":16,"width":"7","height":"1","name":"03 (takes 5 seconds)","label":"(takes 5 secs, max illum., shifted timing).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":300,"wires":[]},{"id":"44e52207.8665fc","type":"ui_numeric","z":"201b2be.ed99554","name":"05 at 255","label":"at","tooltip":"","group":"29e435f5.f794ba","order":29,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":"1","x":1020,"y":420,"wires":[["eaa07717.0dfbe8","b91181ea.6de3c8"]]},{"id":"eaa07717.0dfbe8","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"intBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":460,"wires":[[]]},{"id":"b00930c4.e92bd","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":6,"width":"3","height":"1","name":"02 Meaure OD:","label":"Measure OD:","format":"{{msg.payload}}","layout":"row-spread","x":1280,"y":180,"wires":[]},{"id":"5850f26c.8095ec","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":13,"width":"3","height":"1","name":"03 Meaure BL:","label":"Measure BL:","format":"{{msg.payload}}","layout":"row-spread","x":1340,"y":300,"wires":[]},{"id":"ccda756c.3c44f","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":28,"width":"4","height":"1","name":"05 spacer1","label":"","format":"{{msg.payload}}","layout":"row-spread","x":710,"y":420,"wires":[]},{"id":"ba3c694a.88dd48","type":"ui_button","z":"201b2be.ed99554","name":"05 OK","group":"29e435f5.f794ba","order":31,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1350,"y":420,"wires":[["2164acbd.522204"]]},{"id":"b23faf26.9977f","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":19,"width":"1","height":"1","name":"04 - -","label":"","format":"{{msg.payload}}","layout":"row-spread","x":630,"y":520,"wires":[]},{"id":"5c11dd37.2e94dc","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":20,"width":"3","height":"1","name":"04 Illuminate BL:","label":"Illuminate BL:","format":"{{msg.payload}}","layout":"row-spread","x":670,"y":560,"wires":[]},{"id":"19db8924.d70fdf","type":"ui_numeric","z":"201b2be.ed99554","name":"04 every 1","label":"every","tooltip":"","group":"29e435f5.f794ba","order":21,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":850,"y":560,"wires":[["ac155798.f6ebe"]]},{"id":"3441f5e2.685aca","type":"ui_dropdown","z":"201b2be.ed99554","name":"04 hour","label":"","tooltip":"","place":"Select option","group":"29e435f5.f794ba","order":22,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1080,"y":560,"wires":[["85bf8b71.c0bcd"]]},{"id":"ac155798.f6ebe","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"pillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":600,"wires":[["dc6d9e4c.15a838"]]},{"id":"4932c87e.c19f08","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"pillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":640,"wires":[["dc6d9e4c.15a838"]]},{"id":"4f624a60.df9a2c","type":"ui_numeric","z":"201b2be.ed99554","name":"04 for 5","label":"for","tooltip":"","group":"29e435f5.f794ba","order":23,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1340,"y":560,"wires":[["2719efab.ec5138"]]},{"id":"c672b31d.b5","type":"ui_dropdown","z":"201b2be.ed99554","name":"04 minutes","label":"","tooltip":"","place":"Select option","group":"29e435f5.f794ba","order":24,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1590,"y":560,"wires":[["20836371.a06e64"]]},{"id":"2719efab.ec5138","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"tillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":600,"wires":[["7c813fb7.7eaa6"]]},{"id":"b25d5b29.a15858","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"tillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1610,"y":640,"wires":[["7c813fb7.7eaa6"]]},{"id":"e137dff.bca06a","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":32,"width":"5","height":"1","name":"05 spacer2","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1530,"y":420,"wires":[]},{"id":"e8425198.268cb","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":35,"width":"2","height":"1","name":"06 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1850,"y":860,"wires":[]},{"id":"d9cea712.3b7d3","type":"ui_switch","z":"201b2be.ed99554","name":"06 act.switch","label":"","tooltip":"","group":"29e435f5.f794ba","order":36,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"hot_tub","oncolor":"red","offvalue":"OFF","offvalueType":"str","officon":"ac_unit","offcolor":"grey","x":1520,"y":880,"wires":[["b3a0dcea.d540b"]]},{"id":"9618293a.3a23","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":38,"width":"6","height":"1","name":"06 Volts.","label":"Volts.","format":"{{msg.payload}}","layout":"row-spread","x":1220,"y":840,"wires":[]},{"id":"2718477f.e7944","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":34,"width":"4","height":"1","name":"06 Temperature control:","label":"Temperature control:","format":"{{msg.payload}}","layout":"row-spread","x":2050,"y":860,"wires":[]},{"id":"6c576108.681c88","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":41,"width":"4","height":"1","name":"07 Fan:","label":"Fan:","format":"{{msg.payload}}","layout":"row-spread","x":700,"y":1060,"wires":[]},{"id":"86e61b5b.2ca39","type":"ui_switch","z":"201b2be.ed99554","name":"07 enable switch","label":"","tooltip":"","group":"29e435f5.f794ba","order":43,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"toys","oncolor":"green","offvalue":"OFF","offvalueType":"str","officon":"radio_button_unchecked","offcolor":"grey","x":910,"y":1060,"wires":[["74b49064.422ee8","983df7bc.d0e52"]]},{"id":"983df7bc.d0e52","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":42,"width":"2","height":"1","name":"07 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1230,"y":1060,"wires":[]},{"id":"74b49064.422ee8","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"FANstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1020,"wires":[[]]},{"id":"be68dd6b.1f17d8","type":"ui_numeric","z":"201b2be.ed99554","name":"07 and set to 100","label":"and set to","tooltip":"","group":"29e435f5.f794ba","order":44,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"255","step":"1","x":1590,"y":1020,"wires":[["8cf63615.53cd78","af761ebb.5377f"]]},{"id":"8cf63615.53cd78","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"intFAN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1780,"y":1000,"wires":[[]]},{"id":"95ef890f.b37658","type":"ui_button","z":"201b2be.ed99554","name":"07 OK","group":"29e435f5.f794ba","order":45,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1430,"y":1100,"wires":[["bc514001.08584"]]},{"id":"ed1397f.db70be8","type":"ui_numeric","z":"201b2be.ed99554","name":"08 add delay","label":"Add growing delay of","tooltip":"","group":"29e435f5.f794ba","order":47,"width":"6","height":"1","passthru":true,"topic":"setpoint","format":"{{value}}","min":"0","max":"100","step":"1","x":870,"y":1180,"wires":[["c2b29f64.4e1cc"]]},{"id":"11f3470e.672d49","type":"ui_dropdown","z":"201b2be.ed99554","name":"08 hour","label":"","tooltip":"","place":"Select option","group":"29e435f5.f794ba","order":48,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1060,"y":1180,"wires":[["2fc53682.76b7a2"]]},{"id":"c2b29f64.4e1cc","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"delay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":1220,"wires":[["15d963d6.f6613c"]]},{"id":"26d31f7a.e45578","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"delayunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1090,"y":1220,"wires":[["15d963d6.f6613c"]]},{"id":"a02bc0b1.889de","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":49,"width":"8","height":"1","name":"08 finalspacer","label":"(during which no BL measure will be made).","format":"{{msg.payload}}","layout":"row-spread","x":1240,"y":1140,"wires":[]},{"id":"b537a5ef.0b7e3","type":"ui_text_input","z":"201b2be.ed99554","name":"09 DETAILS","label":"DETAILS:","tooltip":"","group":"29e435f5.f794ba","order":52,"width":"16","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1110,"y":2560,"wires":[["8b208bab.19ef5"]]},{"id":"acd556ab.2e0ee","type":"ui_text_input","z":"201b2be.ed99554","name":"10 Nickname","label":"Nickname:","tooltip":"","group":"29e435f5.f794ba","order":54,"width":"4","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1120,"y":2600,"wires":[["699ca39e.215554"]]},{"id":"fbb4763f.1a2888","type":"inject","z":"201b2be.ed99554","name":"","topic":"","payload":"eV06_","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":830,"y":2600,"wires":[["6870f9c.b92b408"]]},{"id":"f2f24fa2.50e5b8","type":"ui_button","z":"201b2be.ed99554","name":"10 LAUNCH EXP","group":"29e435f5.f794ba","order":55,"width":"10","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"bool","topic":"","x":310,"y":1900,"wires":[["7a2e9a8a.cc0fbc","6afbf2c2.da3f6c","7526acc0.dad36c","5b1ebdf1.909b2c","501a8cdb.0b18c4","73a3d62c.ddf7f","30cbdf90.cc57d"]]},{"id":"17b1f697.c5f3c1","type":"function","z":"201b2be.ed99554","name":"","func":"msg.label=\"Running...\";\nmsg.background=\"#FFC300\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1600,"wires":[["f2f24fa2.50e5b8"]]},{"id":"6e975f9b.3585b8","type":"function","z":"201b2be.ed99554","name":"","func":"msg.label=\"LAUNCH EXPERIMENT\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1520,"wires":[["f2f24fa2.50e5b8"]]},{"id":"abb17735.0f5a","type":"inject","z":"201b2be.ed99554","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":210,"y":1640,"wires":[["5b1ebdf1.909b2c"]]},{"id":"995f20f7.b9273","type":"ui_button","z":"201b2be.ed99554","name":"10 RESET","group":"29e435f5.f794ba","order":57,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"reset","payloadType":"str","topic":"","x":1610,"y":1480,"wires":[["44d38e97.4624d","65b87e3.e485a","88ae3d85.320bf8","ddfc45b1.3642"]]},{"id":"44d38e97.4624d","type":"function","z":"201b2be.ed99554","name":"","func":"msg.label=\"Reseting...\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1520,"wires":[["995f20f7.b9273","3ada2f40.c30eb"]]},{"id":"352815bb.dbf17a","type":"function","z":"201b2be.ed99554","name":"","func":"msg.label=\"RESET\";\nmsg.background=\"grey\";\nreturn msg;","outputs":1,"noerr":0,"x":1750,"y":1660,"wires":[["995f20f7.b9273"]]},{"id":"4bb05779.7b3ec","type":"inject","z":"201b2be.ed99554","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1630,"y":1680,"wires":[["352815bb.dbf17a"]]},{"id":"3ada2f40.c30eb","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1560,"wires":[["35f35d3e.99faaa"]]},{"id":"35f35d3e.99faaa","type":"function","z":"201b2be.ed99554","name":"","func":"msg.label=\"SUCCESS\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1600,"wires":[["9e7a6017.11d818","995f20f7.b9273"]]},{"id":"9e7a6017.11d818","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1640,"wires":[["352815bb.dbf17a"]]},{"id":"aadec16.e17154","type":"function","z":"201b2be.ed99554","name":"","func":"msg.label=\"Halted experiment\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1560,"wires":[["f2f24fa2.50e5b8"]]},{"id":"826e2140.93ac98","type":"ui_button","z":"201b2be.ed99554","name":"10 STOP","group":"29e435f5.f794ba","order":56,"width":"4","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"str","topic":"","x":860,"y":1540,"wires":[["ac84f1a1.26f2"]]},{"id":"6dc6d130.9b7e","type":"function","z":"201b2be.ed99554","name":"","func":"msg.label=\"Stopped.\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":1580,"wires":[["826e2140.93ac98"]]},{"id":"8b878aab.4f5e5","type":"inject","z":"201b2be.ed99554","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":710,"y":1500,"wires":[["95558a1c.d63b78"]]},{"id":"95558a1c.d63b78","type":"function","z":"201b2be.ed99554","name":"","func":"msg.label=\"STOP\";\nmsg.background=\"#cb4335\";\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1500,"wires":[["826e2140.93ac98"]]},{"id":"a35a9854.145d1","type":"comment","z":"201b2be.ed99554","name":"Launch TODOs","info":"Turn off and disable all above switches\ndisable the launch button\nCA MARCHE PAS","x":840,"y":2080,"wires":[]},{"id":"3c49572d.ebc248","type":"comment","z":"201b2be.ed99554","name":"Reset TODOs","info":"Enable anew all above switches\nReset all default values in exp menu\nBlink LEDs as indicators ;)","x":1440,"y":1660,"wires":[]},{"id":"e48f829c.a07488","type":"comment","z":"201b2be.ed99554","name":"Stop TODOs","info":"","x":850,"y":1420,"wires":[]},{"id":"421b6256.24caac","type":"simpletime","z":"201b2be.ed99554","name":"","x":910,"y":2360,"wires":[["cb1f394.70ab3c8","ef8f8921.1ae028"]]},{"id":"cb1f394.70ab3c8","type":"function","z":"201b2be.ed99554","name":"20190417_172653_nickname/...","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\")+\"/\"+msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1180,"y":2360,"wires":[["d537a09a.9b5418","bea4d328.b75748","97a896fe.ca83f","e7debd13.1fdeb"]]},{"id":"97a896fe.ca83f","type":"join","z":"201b2be.ed99554","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2400,"wires":[["152e70c5.9c2627"]]},{"id":"d537a09a.9b5418","type":"join","z":"201b2be.ed99554","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2440,"wires":[["baa7f62a.0cf17"]]},{"id":"bea4d328.b75748","type":"join","z":"201b2be.ed99554","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2480,"wires":[["3993faa4.224fee"]]},{"id":"1858ea39.917b96","type":"function","z":"201b2be.ed99554","name":"/home/lab513/Desktop/eVOLVER_data/","func":"if (msg.payload){\n    msg.payload=\"/home/lab513/Desktop/eVOLVER_data/\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":2320,"wires":[["97a896fe.ca83f","d537a09a.9b5418","bea4d328.b75748","e7debd13.1fdeb"]]},{"id":"6dd1c4d.0c01e3c","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"delay","timeout":"0.2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2360,"wires":[["421b6256.24caac"]]},{"id":"c3206bec.6229","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"nickname","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":2600,"wires":[[]]},{"id":"a4ec2e99.7ffa6","type":"function","z":"201b2be.ed99554","name":".IR","func":"if (msg.payload){\n    msg.payload=\".IR\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2400,"wires":[["97a896fe.ca83f"]]},{"id":"d80f0172.feeeb8","type":"function","z":"201b2be.ed99554","name":".BL","func":"if (msg.payload){\n    msg.payload=\".BL\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2440,"wires":[["d537a09a.9b5418"]]},{"id":"971373e7.e160f","type":"function","z":"201b2be.ed99554","name":".Temp","func":"if (msg.payload){\n    msg.payload=\".Temp\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2480,"wires":[["bea4d328.b75748"]]},{"id":"7a2e9a8a.cc0fbc","type":"function","z":"201b2be.ed99554","name":"Creates Files:","func":"\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":2280,"wires":[["6dd1c4d.0c01e3c","849b9fe0.d64de8","3e5276ca.ccb0e2","dd74b1ec.13eaa","c62e9dba.c8022","e5a6fec5.9283e","7458b5dd.340984"]]},{"id":"dd74b1ec.13eaa","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2400,"wires":[["a4ec2e99.7ffa6"]]},{"id":"c62e9dba.c8022","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2440,"wires":[["d80f0172.feeeb8"]]},{"id":"e5a6fec5.9283e","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2480,"wires":[["971373e7.e160f"]]},{"id":"849b9fe0.d64de8","type":"function","z":"201b2be.ed99554","name":"reset","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":2280,"wires":[["152e70c5.9c2627","baa7f62a.0cf17","3993faa4.224fee","bcec622.3db9aa"]]},{"id":"3e5276ca.ccb0e2","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"delay","timeout":"0.1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2320,"wires":[["1858ea39.917b96"]]},{"id":"699ca39e.215554","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2600,"wires":[["c3206bec.6229"]]},{"id":"152e70c5.9c2627","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"FileNameIR","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1500,"y":2400,"wires":[[]]},{"id":"baa7f62a.0cf17","type":"change","z":"201b2be.ed99554","name":"FileNameBL","rules":[{"t":"set","p":"FileNameBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1470,"y":2440,"wires":[[]]},{"id":"3993faa4.224fee","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"FileNameTemp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":2480,"wires":[[]]},{"id":"e7debd13.1fdeb","type":"join","z":"201b2be.ed99554","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2520,"wires":[["bcec622.3db9aa"]]},{"id":"d92e9cde.b3ad48","type":"function","z":"201b2be.ed99554","name":".readme","func":"if (msg.payload){\n    msg.payload=\".readme\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":2520,"wires":[["e7debd13.1fdeb"]]},{"id":"7458b5dd.340984","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2520,"wires":[["d92e9cde.b3ad48"]]},{"id":"bcec622.3db9aa","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"FileNameReadme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":2520,"wires":[[]]},{"id":"85db5ce0.f272","type":"inject","z":"201b2be.ed99554","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":810,"y":2560,"wires":[["ee4ba0ff.b8012"]]},{"id":"8b208bab.19ef5","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2560,"wires":[["7404ac7c.aa54ac"]]},{"id":"7404ac7c.aa54ac","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"readme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1480,"y":2560,"wires":[[]]},{"id":"ef8f8921.1ae028","type":"function","z":"201b2be.ed99554","name":"displayname","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":2640,"wires":[["41efeea4.0b2a8"]]},{"id":"41efeea4.0b2a8","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":2,"width":"15","height":"1","name":"00 Running","label":"Running:","format":"{{msg.payload}}","layout":"row-left","x":1310,"y":2640,"wires":[]},{"id":"c135d418.5c18a8","type":"inject","z":"201b2be.ed99554","name":"","topic":"","payload":"-","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":890,"y":2640,"wires":[["56b47633.10e038"]]},{"id":"ac84f1a1.26f2","type":"function","z":"201b2be.ed99554","name":"STOP ACTIONS:","func":"msg.payload=false;\nreturn msg;\n\n//this function allows the fact that the\n//reset button first does the stop action\n//and then resets the buttons etc","outputs":1,"noerr":0,"x":1050,"y":1560,"wires":[["aadec16.e17154","6dc6d130.9b7e","cc409a9c.63f6b8","20279900.227a4","98fe7e9c.6f0bc8"]]},{"id":"65b87e3.e485a","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":300,"y":1480,"wires":[["6e975f9b.3585b8"]]},{"id":"88ae3d85.320bf8","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":850,"y":1460,"wires":[["95558a1c.d63b78"]]},{"id":"9517ef4c.23977","type":"function","z":"201b2be.ed99554","name":"disable/enable switches","func":"if (msg.payload===\"launch\"){\n    msg.enabled=false;\n}\nelse if (msg.payload===0){\n    msg.enabled=true;\n}\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":2080,"wires":[[]]},{"id":"56b47633.10e038","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=\"-\";\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":2640,"wires":[["41efeea4.0b2a8"]]},{"id":"6afbf2c2.da3f6c","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":560,"y":2800,"wires":[["e15f3a7f.966b7","8ece3810.d1056","5ddf7ec7.0dea9","e1ba6e58.970cb","268e7d89.8b91f2","831d64d9.7514a","2149035e.11cfa4","3698e1df.30b03e"]]},{"id":"990c623.e347ea","type":"file","z":"201b2be.ed99554","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3420,"wires":[[]]},{"id":"3e96283e.d3fe","type":"file","z":"201b2be.ed99554","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3380,"wires":[[]]},{"id":"a3ffc5d7.426398","type":"file","z":"201b2be.ed99554","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3460,"wires":[[]]},{"id":"53ac93d.06307ec","type":"switch","z":"201b2be.ed99554","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3420,"wires":[["46e2aa34.dd5444"]]},{"id":"8ece3810.d1056","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"StoreInFile","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":3340,"wires":[[]]},{"id":"e6f345ab.5e2738","type":"comment","z":"201b2be.ed99554","name":"Allows storage in the filenames","info":"","x":1050,"y":3340,"wires":[]},{"id":"7fac82db.918c44","type":"arduino in","z":"201b2be.ed99554","name":"Blue Light Sensor","pin":"2","state":"ANALOG","arduino":"5cdd9fe1.5d2a7","x":790,"y":3420,"wires":[["d2c722a8.e64538"]]},{"id":"c0dc6ea0.10a81","type":"arduino in","z":"201b2be.ed99554","name":"IR Sensor","pin":"1","state":"ANALOG","arduino":"5cdd9fe1.5d2a7","x":760,"y":3380,"wires":[["5f80b16e.1004d"]]},{"id":"d2c722a8.e64538","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3420,"wires":[["53ac93d.06307ec","78d86e74.deabf"]]},{"id":"5f80b16e.1004d","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3380,"wires":[["4d6d5540.23a52c","4ecf0fed.456a5"]]},{"id":"f6108b85.b2096","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3460,"wires":[["10b5f6ad.e7a7b1","44846c32.ac63ec"]]},{"id":"4d6d5540.23a52c","type":"switch","z":"201b2be.ed99554","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3380,"wires":[["79906b8d.3bcb14"]]},{"id":"10b5f6ad.e7a7b1","type":"switch","z":"201b2be.ed99554","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3460,"wires":[["c5e79e56.81154"]]},{"id":"6082b6ba.4a40a8","type":"inject","z":"201b2be.ed99554","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":330,"y":3340,"wires":[["f34668fe.069cf8"]]},{"id":"e15f3a7f.966b7","type":"function","z":"201b2be.ed99554","name":"readme","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=flow.get(\"readme\")+\"\\n\"+\n    \"measOD \"+flow.get(\"measOD\").toString()+\"\\n\"+\n    \"measODunits \"+flow.get(\"measODunits\").toString()+\"\\n\"+\n    \"measODtotal \"+flow.get(\"measODtotal\").toString()+\"\\n\"+\n    \n    \"measBL \"+flow.get(\"measBL\").toString()+\"\\n\"+\n    \"measBLunits \"+flow.get(\"measBLunits\").toString()+\"\\n\"+\n    \"measBLtotal \"+flow.get(\"measBLtotal\").toString()+\"\\n\"+\n    \n    \"intBL \"+flow.get(\"intBL\").toString()+\"\\n\"+\n    \n    \"pillBL \"+flow.get(\"pillBL\").toString()+\"\\n\"+\n    \"pillBLunits \"+flow.get(\"pillBLunits\").toString()+\"\\n\"+\n    \"pillBLtotal \"+flow.get(\"pillBLtotal\").toString()+\"\\n\"+\n    \n    \"tillBL \"+flow.get(\"tillBL\").toString()+\"\\n\"+\n    \"tillBLunits \"+flow.get(\"tillBLunits\").toString()+\"\\n\"+\n    \"tillBLtotal \"+flow.get(\"tillBLtotal\").toString()+\"\\n\"+\n    \n    \"Temp \"+flow.get(\"Temp\").toString()+\"\\n\"+\n    \"PID \"+flow.get(\"PID\").toString()+\"\\n\"+\n    \n    \"FANstate \"+flow.get(\"FANstate\").toString()+\"\\n\"+\n    \"intFAN \"+flow.get(\"intFAN\").toString()+\"\\n\"+\n    \n    \"delay \"+flow.get(\"delay\").toString()+\"\\n\"+\n    \"delayunits \"+flow.get(\"delayunits\").toString()+\"\\n\"+\n    \"delaytotal \"+flow.get(\"delaytotal\").toString()+\"\\n\";\n\n//msg.myepoch=msg.myepoch.toString();\n//msg.payload=msg.payload+\";\"+msg.myepoch;\n\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":2940,"wires":[["1cb1ad49.641bd3"]]},{"id":"1cb1ad49.641bd3","type":"file","z":"201b2be.ed99554","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":890,"y":2940,"wires":[[]]},{"id":"79906b8d.3bcb14","type":"simpletime","z":"201b2be.ed99554","name":"","x":1330,"y":3380,"wires":[["77f3bf35.c573c"]]},{"id":"77f3bf35.c573c","type":"function","z":"201b2be.ed99554","name":"IR+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameIR\");\nreturn msg;","outputs":1,"noerr":0,"x":1480,"y":3380,"wires":[["3e96283e.d3fe"]]},{"id":"46e2aa34.dd5444","type":"simpletime","z":"201b2be.ed99554","name":"","x":1330,"y":3420,"wires":[["31116608.325afa"]]},{"id":"31116608.325afa","type":"function","z":"201b2be.ed99554","name":"BL+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameBL\");\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":3420,"wires":[["990c623.e347ea"]]},{"id":"c5e79e56.81154","type":"simpletime","z":"201b2be.ed99554","name":"","x":1330,"y":3460,"wires":[["9f907090.c000f"]]},{"id":"9f907090.c000f","type":"function","z":"201b2be.ed99554","name":"Temp+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameTemp\");\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":3460,"wires":[["a3ffc5d7.426398"]]},{"id":"ee4ba0ff.b8012","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2560,"wires":[["b537a5ef.0b7e3"]]},{"id":"6870f9c.b92b408","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=\"eV06_\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2600,"wires":[["acd556ab.2e0ee"]]},{"id":"97edb3e7.1f905","type":"function","z":"201b2be.ed99554","name":"(reset)","func":"\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":2600,"wires":[["ee4ba0ff.b8012","6870f9c.b92b408","56b47633.10e038"]]},{"id":"7526acc0.dad36c","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=\"launch\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":2040,"wires":[["9517ef4c.23977"]]},{"id":"f34668fe.069cf8","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3340,"wires":[["8ece3810.d1056"]]},{"id":"5ddf7ec7.0dea9","type":"function","z":"201b2be.ed99554","name":"255","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":750,"y":3640,"wires":[["e90c5c38.fbdeb","23908c54.1f94ec"]]},{"id":"e90c5c38.fbdeb","type":"function","z":"201b2be.ed99554","name":"measODtotal","func":"msg.delay=flow.get(\"measODtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":780,"y":3680,"wires":[["ed4181be.58db38"]]},{"id":"ed4181be.58db38","type":"delay","z":"201b2be.ed99554","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":3720,"wires":[["5ddf7ec7.0dea9"]]},{"id":"f03d226b.55ae78","type":"function","z":"201b2be.ed99554","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3640,"wires":[["ed4181be.58db38","23908c54.1f94ec"]]},{"id":"23908c54.1f94ec","type":"trigger","z":"201b2be.ed99554","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1050,"y":3640,"wires":[["b5f2001f.5f3bb","fc5878c0.34eb18","db24b671.b5c85"]]},{"id":"b5f2001f.5f3bb","type":"function","z":"201b2be.ed99554","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":3640,"wires":[["29a2cee7.59eca2"]]},{"id":"fc5878c0.34eb18","type":"arduino out","z":"201b2be.ed99554","name":"IR17","pin":"5","state":"PWM","arduino":"5cdd9fe1.5d2a7","x":1810,"y":3680,"wires":[]},{"id":"3531114d.23a616","type":"switch","z":"201b2be.ed99554","name":"lance ventilo","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"gt","v":"160","vt":"num"},{"t":"btwn","v":"0","vt":"num","v2":"160","v2t":"num"}],"checkall":"false","repair":false,"outputs":3,"x":1470,"y":3820,"wires":[["986818d1.5e2118"],["986818d1.5e2118"],["c001a8e2.40b53","c2a572a3.f080f"]],"info":"Coz the ventilo wont start if the value is \nbelow 160.\nTo have a value below 160, we need to start w\na bigger value and THEN get down in value"},{"id":"986818d1.5e2118","type":"arduino out","z":"201b2be.ed99554","name":"Fan","pin":"9","state":"PWM","arduino":"5cdd9fe1.5d2a7","x":1810,"y":3800,"wires":[]},{"id":"c2a572a3.f080f","type":"function","z":"201b2be.ed99554","name":"200","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":1630,"y":3840,"wires":[["986818d1.5e2118"]]},{"id":"c001a8e2.40b53","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":3880,"wires":[["986818d1.5e2118"]]},{"id":"29a2cee7.59eca2","type":"arduino out","z":"201b2be.ed99554","name":"BL17","pin":"6","state":"PWM","arduino":"5cdd9fe1.5d2a7","x":1810,"y":3740,"wires":[]},{"id":"ddfc45b1.3642","type":"link out","z":"201b2be.ed99554","name":"RESET17->","links":["3eee2208.a26ce6","5875c0ef.9586e8","a236c320.fe7258","440a2d2c.698774","3742e0c8.bcab08","b9fa99c.24e2868","9b3e4119.84a748","948bae02.d8b248"],"x":1755,"y":1480,"wires":[]},{"id":"3eee2208.a26ce6","type":"link in","z":"201b2be.ed99554","name":"->Nickname&details","links":["ddfc45b1.3642"],"x":595,"y":2560,"wires":[["97edb3e7.1f905"]]},{"id":"9cca2fa.35bb45","type":"link in","z":"201b2be.ed99554","name":"->StoreInFile","links":["cc409a9c.63f6b8"],"x":375,"y":3300,"wires":[["f34668fe.069cf8"]]},{"id":"c5c549b1.baff6","type":"link in","z":"201b2be.ed99554","name":"->ODmeas","links":["cc409a9c.63f6b8"],"x":395,"y":3640,"wires":[["f03d226b.55ae78"]]},{"id":"5875c0ef.9586e8","type":"link in","z":"201b2be.ed99554","name":"->stop","links":["ddfc45b1.3642"],"x":875,"y":1620,"wires":[["ac84f1a1.26f2"]]},{"id":"6d5c3dff.4949bc","type":"function","z":"201b2be.ed99554","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1740,"y":260,"wires":[["fe6db8d7.f49ba8"]]},{"id":"6c8c6f1a.51c808","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"measOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":260,"wires":[["7da3e8c.fcb6d18"]]},{"id":"fe6db8d7.f49ba8","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"measODunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":260,"wires":[["7da3e8c.fcb6d18"]]},{"id":"7da3e8c.fcb6d18","type":"function","z":"201b2be.ed99554","name":"multiply","func":"msg.payload=flow.get(\"measOD\")*flow.get(\"measODunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2100,"y":260,"wires":[["71126e65.d2ff68"]]},{"id":"7c5f3ed8.e40a28","type":"function","z":"201b2be.ed99554","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1760,"y":380,"wires":[["890115da.e139c8"]]},{"id":"1bbfacf2.2fe48b","type":"function","z":"201b2be.ed99554","name":"multiply","func":"msg.payload=flow.get(\"measBL\")*flow.get(\"measBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2120,"y":380,"wires":[["2a87f273.32ae5e"]]},{"id":"2a87f273.32ae5e","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"measBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":380,"wires":[["d7057072.f3dc38"]]},{"id":"85bf8b71.c0bcd","type":"function","z":"201b2be.ed99554","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1100,"y":600,"wires":[["4932c87e.c19f08"]]},{"id":"20836371.a06e64","type":"function","z":"201b2be.ed99554","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":600,"wires":[["b25d5b29.a15858"]]},{"id":"dc6d9e4c.15a838","type":"function","z":"201b2be.ed99554","name":"multiply","func":"msg.payload=flow.get(\"pillBL\")*flow.get(\"pillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1000,"y":700,"wires":[["732f5ecf.9cd9"]]},{"id":"732f5ecf.9cd9","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"pillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1170,"y":700,"wires":[["ac48b6ad.29ecc"]]},{"id":"7c813fb7.7eaa6","type":"function","z":"201b2be.ed99554","name":"multiply","func":"msg.payload=flow.get(\"tillBL\")*flow.get(\"tillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":700,"wires":[["aeed6ad9.72d8c"]]},{"id":"aeed6ad9.72d8c","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"tillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":700,"wires":[[]]},{"id":"15d963d6.f6613c","type":"function","z":"201b2be.ed99554","name":"multiply","func":"msg.payload=flow.get(\"delay\")*flow.get(\"delayunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":1220,"wires":[["1a84f251.167cce"]]},{"id":"1a84f251.167cce","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"delaytotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":1220,"wires":[["43f6113d.5154a8"]]},{"id":"2fc53682.76b7a2","type":"function","z":"201b2be.ed99554","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1180,"wires":[["26d31f7a.e45578"]]},{"id":"cc409a9c.63f6b8","type":"link out","z":"201b2be.ed99554","name":"STOP17.false","links":["570eda3a.75f3d4","c5c549b1.baff6","e276507b.2f3d7","9cca2fa.35bb45","68db97de.70ad9","7dfdd5e6.ee316c","894c9ddf.07a51","32570e06.74e28a","ce8cdb2d.4b2898","10a981bb.135bc6"],"x":1235,"y":1580,"wires":[]},{"id":"db24b671.b5c85","type":"function","z":"201b2be.ed99554","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":3680,"wires":[["3531114d.23a616"]]},{"id":"fdda39c9.757f38","type":"comment","z":"201b2be.ed99554","name":"OD mesaurements","info":"","x":790,"y":3600,"wires":[]},{"id":"e4c55337.241ee8","type":"function","z":"201b2be.ed99554","name":"255","func":"if (flow.get(\"measBLtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":910,"y":4220,"wires":[["acfa280a.cc7c28","d35e498d.80d86"]]},{"id":"acfa280a.cc7c28","type":"function","z":"201b2be.ed99554","name":"measBLtotal","func":"msg.delay=flow.get(\"measBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":4280,"wires":[["ac2a1cff.b149e8"]]},{"id":"ac2a1cff.b149e8","type":"delay","z":"201b2be.ed99554","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1050,"y":4320,"wires":[["e4c55337.241ee8"]]},{"id":"252ea03.5acb4e","type":"trigger","z":"201b2be.ed99554","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1350,"y":4240,"wires":[["3f3137bb.1ccf38","df1b0384.f01278"]]},{"id":"d3211104.43207","type":"comment","z":"201b2be.ed99554","name":"BL mesaurements","info":"","x":910,"y":4180,"wires":[]},{"id":"d35e498d.80d86","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"delay","timeout":"7","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1180,"y":4200,"wires":[["252ea03.5acb4e","2ba9f2cf.4beeae"]]},{"id":"7f16bcf7.328014","type":"function","z":"201b2be.ed99554","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":4220,"wires":[["ac2a1cff.b149e8","252ea03.5acb4e","d35e498d.80d86","6cd3db32.44a5a4","c001a8e2.40b53"]]},{"id":"e276507b.2f3d7","type":"link in","z":"201b2be.ed99554","name":"->BLmeas","links":["cc409a9c.63f6b8"],"x":335,"y":4220,"wires":[["7f16bcf7.328014"]]},{"id":"df1b0384.f01278","type":"function","z":"201b2be.ed99554","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":4220,"wires":[["29a2cee7.59eca2"]]},{"id":"3f3137bb.1ccf38","type":"function","z":"201b2be.ed99554","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":4260,"wires":[["3531114d.23a616"]]},{"id":"20279900.227a4","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1540,"wires":[["83cfcbe7.88be9"]]},{"id":"83cfcbe7.88be9","type":"link out","z":"201b2be.ed99554","name":"STOP17.0","links":["e3f211bd.800c3","bda35261.012998","c58951a5.56b19","2031c0bf.ef9a58","48c11f9d.37dde","7b3e4ac7.65d3e4"],"x":1295,"y":1540,"wires":[]},{"id":"e3f211bd.800c3","type":"link in","z":"201b2be.ed99554","name":"->IT,BL,FAN","links":["83cfcbe7.88be9"],"x":1475,"y":3640,"wires":[["29a2cee7.59eca2","fc5878c0.34eb18","986818d1.5e2118"]]},{"id":"54a9f103.119da","type":"ui_button","z":"201b2be.ed99554","name":"02 OD realtime value","group":"29e435f5.f794ba","order":11,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3380,"wires":[[]]},{"id":"4ecf0fed.456a5","type":"function","z":"201b2be.ed99554","name":"","func":"msg.label=msg.payload;\nif (msg.payload>150){\n    msg.background=\"red\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3380,"wires":[["54a9f103.119da"]]},{"id":"78d86e74.deabf","type":"function","z":"201b2be.ed99554","name":"","func":"msg.label=msg.payload;\nif (msg.payload>300){\n    msg.background=\"#44cff1\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3420,"wires":[["1da410c2.915a07"]]},{"id":"1da410c2.915a07","type":"ui_button","z":"201b2be.ed99554","name":"03 BL realtime value","group":"29e435f5.f794ba","order":18,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3420,"wires":[[]]},{"id":"eaba2943.ec1ef8","type":"comment","z":"201b2be.ed99554","name":"Display:","info":"","x":1800,"y":3340,"wires":[]},{"id":"6cd3db32.44a5a4","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":3900,"wires":[["d5d514e0.0b394"]]},{"id":"d5d514e0.0b394","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=true;\nreturn msg;\n\n","outputs":1,"noerr":0,"x":750,"y":3940,"wires":[["e4c55337.241ee8","f2874284.ff9f88","126044f6.85306b","c6a829.8aa2cfd8"]]},{"id":"e1ba6e58.970cb","type":"function","z":"201b2be.ed99554","name":"","func":"msg.delay=flow.get(\"delaytotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3860,"wires":[["6cd3db32.44a5a4","608f5aaf.db309c","c6a829.8aa2cfd8"]]},{"id":"608f5aaf.db309c","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3880,"wires":[["f7ad3396.e72258"]]},{"id":"11c9c294.f0303d","type":"comment","z":"201b2be.ed99554","name":"growth delay","info":"","x":770,"y":3820,"wires":[]},{"id":"e93218a9.31d0b","type":"function","z":"201b2be.ed99554","name":"","func":"msg.delay=flow.get(\"tillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4740,"wires":[["9075cb5c.52d058"]]},{"id":"9075cb5c.52d058","type":"delay","z":"201b2be.ed99554","name":"part","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4740,"wires":[["8fb96373.f19998"]]},{"id":"f2874284.ff9f88","type":"function","z":"201b2be.ed99554","name":"","func":"if (flow.get(\"pillBLtotal\") === 0 || flow.get(\"tillBLtotal\") === 0){\n    return;\n}\nelse{\n    msg.payload=flow.get(\"intBL\");\n    msg.state=\"ON\";\n    return msg;\n}\n\n\n","outputs":1,"noerr":0,"x":910,"y":4600,"wires":[["e93218a9.31d0b","da87d18c.63715","1812c2d0.9d1acd","208d77fc.8db018","c97b77f6.ea8428"]]},{"id":"8fb96373.f19998","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=0;\nmsg.state=\"OFF\";\nreturn msg;\n","outputs":1,"noerr":0,"x":1010,"y":4740,"wires":[["1812c2d0.9d1acd","208d77fc.8db018","c97b77f6.ea8428"]]},{"id":"da87d18c.63715","type":"function","z":"201b2be.ed99554","name":"","func":"msg.delay=flow.get(\"pillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4700,"wires":[["65aa6c08.146bec"]]},{"id":"65aa6c08.146bec","type":"delay","z":"201b2be.ed99554","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4700,"wires":[["f2874284.ff9f88"]]},{"id":"cd5aabae.f1251","type":"function","z":"201b2be.ed99554","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":4620,"wires":[["65aa6c08.146bec","9075cb5c.52d058","bdb785a9.8419a8","c97b77f6.ea8428"]]},{"id":"6a42124b.a70c54","type":"comment","z":"201b2be.ed99554","name":"Cycle w sous cycle la: cool pr la blue LED","info":"","x":990,"y":4500,"wires":[]},{"id":"570eda3a.75f3d4","type":"link in","z":"201b2be.ed99554","name":"->BLcycle","links":["cc409a9c.63f6b8"],"x":635,"y":4620,"wires":[["cd5aabae.f1251"]]},{"id":"1812c2d0.9d1acd","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"BLstate","pt":"flow","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":4560,"wires":[[]]},{"id":"e5ae5719.4ba618","type":"inject","z":"201b2be.ed99554","name":"","topic":"","payload":"OFF","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":890,"y":4540,"wires":[["bdb785a9.8419a8"]]},{"id":"268e7d89.8b91f2","type":"function","z":"201b2be.ed99554","name":"for FAN","func":"if (flow.get(\"FANstate\")===\"ON\"){\n    msg.payload=flow.get(\"intFAN\");\n}\nelse if (flow.get(\"FANstate\")===\"OFF\"){\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":3000,"wires":[["7d28f96b.87f8"]]},{"id":"bda35261.012998","type":"link in","z":"201b2be.ed99554","name":"->PID","links":["83cfcbe7.88be9"],"x":455,"y":3140,"wires":[["831d64d9.7514a"]]},{"id":"5b1ebdf1.909b2c","type":"function","z":"201b2be.ed99554","name":"","func":"msg.label=\"Initialization\";\nmsg.background=\"#f39c12\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1640,"wires":[["f2f24fa2.50e5b8"]]},{"id":"501a8cdb.0b18c4","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":200,"y":1600,"wires":[["17b1f697.c5f3c1"]]},{"id":"fbe2b47f.1c6c3","type":"ui_button","z":"201b2be.ed99554","name":"06 Temp realtime value","group":"29e435f5.f794ba","order":39,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1970,"y":3460,"wires":[[]]},{"id":"44846c32.ac63ec","type":"function","z":"201b2be.ed99554","name":"","func":"msg.label=msg.payload;\nif (flow.get(\"PIDstate\")>0){\n    msg.background=\"#fdedec\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3460,"wires":[["fbe2b47f.1c6c3"]]},{"id":"8a79812e.9b3e2","type":"ui_button","z":"201b2be.ed99554","name":"05 BLstate","group":"29e435f5.f794ba","order":27,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1470,"y":4600,"wires":[[]]},{"id":"208d77fc.8db018","type":"function","z":"201b2be.ed99554","name":"","func":"msg.label=msg.state;\nif (msg.label===\"ON\"){\n    msg.background=\"#ebf5fb\";\n}\nelse if (msg.label===\"OFF\"){\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":4600,"wires":[["8a79812e.9b3e2"]]},{"id":"bdb785a9.8419a8","type":"function","z":"201b2be.ed99554","name":"","func":"msg.state=\"OFF\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":4540,"wires":[["1812c2d0.9d1acd","208d77fc.8db018"]]},{"id":"a7336388.cd277","type":"function","z":"201b2be.ed99554","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"pillBLtotal\")/1000-(msg.count%(flow.get(\"pillBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":620,"wires":[["4c368f57.6893e"]]},{"id":"9749a28e.76a13","type":"ui_button","z":"201b2be.ed99554","name":"04 pillBL Cycle counter","group":"29e435f5.f794ba","order":26,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3330,"y":600,"wires":[[]]},{"id":"ac48b6ad.29ecc","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=flow.get(\"pillBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":580,"wires":[["4c368f57.6893e","43f6113d.5154a8"]]},{"id":"56a15964.d47e2","type":"counter","z":"201b2be.ed99554","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":680,"wires":[["a7336388.cd277"]]},{"id":"d91fdb6f.0c0ae8","type":"function","z":"201b2be.ed99554","name":"","func":"if (flow.get(\"counterpillBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"counterpillBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":640,"wires":[["56a15964.d47e2"]]},{"id":"126044f6.85306b","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"counterpillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":4460,"wires":[[]]},{"id":"e648f1a3.5bdfc8","type":"inject","z":"201b2be.ed99554","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4480,"wires":[["1d770e1a.6989aa"]]},{"id":"1d770e1a.6989aa","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4460,"wires":[["126044f6.85306b"]]},{"id":"68db97de.70ad9","type":"link in","z":"201b2be.ed99554","name":"->Counter","links":["cc409a9c.63f6b8"],"x":415,"y":4440,"wires":[["1d770e1a.6989aa"]]},{"id":"61718483.e2734c","type":"inject","z":"201b2be.ed99554","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"3","x":190,"y":1520,"wires":[["6e975f9b.3585b8"]]},{"id":"47925383.9565d4","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":1,"width":"3","height":"1","name":"00 eVOLVER06","label":"<font size =5>eVOLVER06","format":"{{msg.payload}}","layout":"row-center","x":700,"y":60,"wires":[]},{"id":"22344faf.d57dc8","type":"link out","z":"201b2be.ed99554","name":"enabled->","links":["4dea90fc.2f6ab"],"x":955,"y":2080,"wires":[]},{"id":"2031c0bf.ef9a58","type":"link in","z":"201b2be.ed99554","name":"->GL","links":["83cfcbe7.88be9"],"x":255,"y":2120,"wires":[["9517ef4c.23977","73a3d62c.ddf7f"]]},{"id":"64ca4a44.8b2fac","type":"comment","z":"201b2be.ed99554","name":"01","info":"","x":550,"y":60,"wires":[]},{"id":"a584a175.1637e8","type":"comment","z":"201b2be.ed99554","name":"02 ODmeas","info":"","x":650,"y":180,"wires":[]},{"id":"67260d23.e0b78c","type":"comment","z":"201b2be.ed99554","name":"03 BLmeas","info":"","x":670,"y":300,"wires":[]},{"id":"8c15532d.e7eb28","type":"link in","z":"201b2be.ed99554","name":"->ARDUINO FAN","links":["af761ebb.5377f","7d28f96b.87f8"],"x":1275,"y":3820,"wires":[["3531114d.23a616"]]},{"id":"9bba53a6.82d34","type":"link in","z":"201b2be.ed99554","name":"->ARDUINO IR","links":["1c5024.1027f7dd"],"x":1695,"y":3640,"wires":[["fc5878c0.34eb18"]]},{"id":"a9243d64.b55628","type":"link in","z":"201b2be.ed99554","name":"->ARDUINO BL","links":["c97b77f6.ea8428","f630bba1.e2b0d8"],"x":1615,"y":3760,"wires":[["29a2cee7.59eca2"]]},{"id":"c97b77f6.ea8428","type":"link out","z":"201b2be.ed99554","name":"BLcycle->BL","links":["a9243d64.b55628"],"x":1235,"y":4660,"wires":[]},{"id":"7d28f96b.87f8","type":"link out","z":"201b2be.ed99554","name":"Fancontrol","links":["8c15532d.e7eb28"],"x":895,"y":3000,"wires":[]},{"id":"af761ebb.5377f","type":"link out","z":"201b2be.ed99554","name":"Fansetup","links":["8c15532d.e7eb28"],"x":1735,"y":1060,"wires":[]},{"id":"1c5024.1027f7dd","type":"link out","z":"201b2be.ed99554","name":"IRsetup","links":["9bba53a6.82d34"],"x":1115,"y":180,"wires":[]},{"id":"f630bba1.e2b0d8","type":"link out","z":"201b2be.ed99554","name":"BLcycle->BL","links":["a9243d64.b55628"],"x":1135,"y":300,"wires":[]},{"id":"4e3988c.40cb6f8","type":"link out","z":"201b2be.ed99554","name":"PIDsetup->","links":["3efb92d0.50f54e"],"x":1295,"y":880,"wires":[]},{"id":"3efb92d0.50f54e","type":"link in","z":"201b2be.ed99554","name":"->ARDUINO HEATER","links":["4e3988c.40cb6f8","adac9125.ca28a8"],"x":1215,"y":3140,"wires":[["2cf592cf.9a6aee"]]},{"id":"73a3d62c.ddf7f","type":"link out","z":"201b2be.ed99554","name":"GRlaunch->","links":["dbbc0e27.5235e8"],"x":515,"y":2160,"wires":[]},{"id":"dbbc0e27.5235e8","type":"link in","z":"201b2be.ed99554","name":"->GL","links":["73a3d62c.ddf7f"],"x":1035,"y":120,"wires":[["938dccb5.287178"]]},{"id":"8b620131.b99cc","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":800,"y":3160,"wires":[["2db8377d.f2d478"]]},{"id":"72846084.0123f8","type":"PID","z":"201b2be.ed99554","name":"","setpoint":"550","pb":"0","ti":"900","td":0,"integral_default":0.5,"smooth_factor":3,"max_interval":600,"enable":"0","disabled_op":0,"x":1010,"y":3100,"wires":[["3a6b3015.ce8098","1d7a912e.0b8887"]]},{"id":"60c35d1d.f087d4","type":"arduino in","z":"201b2be.ed99554","name":"TempSensor","pin":"0","state":"ANALOG","arduino":"5cdd9fe1.5d2a7","x":750,"y":3120,"wires":[["8b620131.b99cc","f6108b85.b2096"]]},{"id":"2cf592cf.9a6aee","type":"arduino out","z":"201b2be.ed99554","name":"Heater","pin":"4","state":"OUTPUT","arduino":"5cdd9fe1.5d2a7","x":1330,"y":3100,"wires":[]},{"id":"3a6b3015.ce8098","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"PIDstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":3060,"wires":[[]]},{"id":"b6bfb74b.ad3d1","type":"inject","z":"201b2be.ed99554","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":"0.3","x":1130,"y":3020,"wires":[["3a6b3015.ce8098"]]},{"id":"831d64d9.7514a","type":"function","z":"201b2be.ed99554","name":"","func":"if (msg.payload===true){\n    msg.enable=1;\n}\nif (msg.payload===0){\n    msg.enable=0;\n}\nif (flow.get(\"PID\")===\"OFF\"){\n    msg.enable=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3080,"wires":[["72846084.0123f8"]]},{"id":"2db8377d.f2d478","type":"function","z":"201b2be.ed99554","name":"setpoint","func":"msg.setpoint=flow.get(\"Temp\");\nreturn msg;","outputs":1,"noerr":0,"x":840,"y":3200,"wires":[["72846084.0123f8"]]},{"id":"1cf39f19.e45b49","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":940,"y":980,"wires":[["ad088880.aa0128"]]},{"id":"ad088880.aa0128","type":"function","z":"201b2be.ed99554","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    msg.payload=0;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1210,"y":960,"wires":[["763fe57e.9e9eac"]]},{"id":"1d7a912e.0b8887","type":"function","z":"201b2be.ed99554","name":"","func":"if (flow.get(\"launched\")===false){\n    return;\n}\nelse if (flow.get(\"launched\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":1170,"y":3100,"wires":[["2cf592cf.9a6aee"]]},{"id":"30cbdf90.cc57d","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"launched","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1960,"wires":[[]]},{"id":"9c149ebd.e01ac","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":800,"wires":[[]]},{"id":"b3a0dcea.d540b","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"PID","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":860,"wires":[["e8425198.268cb"]]},{"id":"b90c7949.ad3468","type":"inject","z":"201b2be.ed99554","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":250,"y":1960,"wires":[["30cbdf90.cc57d"]]},{"id":"7dfdd5e6.ee316c","type":"link in","z":"201b2be.ed99554","name":"->launched","links":["cc409a9c.63f6b8"],"x":275,"y":2000,"wires":[["30cbdf90.cc57d"]]},{"id":"22050bc1.710b9c","type":"function","z":"201b2be.ed99554","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    return msg;\n}\n","outputs":1,"noerr":0,"x":910,"y":940,"wires":[["1cf39f19.e45b49"]]},{"id":"a5e37c17.ece84","type":"inject","z":"201b2be.ed99554","name":"INITIALIZATION","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":290,"y":720,"wires":[["600c35cb.b0be1c"]]},{"id":"600c35cb.b0be1c","type":"function","z":"201b2be.ed99554","name":"initialization","func":"\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":740,"wires":[["b07a61a5.4a0438","406b0515.e527d4","595cab31.d53c2c","903a4e43.e3633","1be1f8ee.81eea7","a520b420.cabdd8","6e0dde54.002c1","4b2b7f03.d8e388","dbb788.39b54078"]]},{"id":"c5c17bb2.cc132","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=10;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":180,"wires":[["5683c09d.d4b7b8","d1857c.d3d38a88","603b191b.d52af8"]]},{"id":"d1857c.d3d38a88","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1670,"y":180,"wires":[["97f4b908.d9d718","cbebacae.7373a8","bf7d3df5.bc4b98"]]},{"id":"603b191b.d52af8","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":300,"wires":[["afd9d03.5040b3","9f56e1d6.7c0e8"]]},{"id":"9f56e1d6.7c0e8","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1710,"y":300,"wires":[["5aaa7f95.ff14a8"]]},{"id":"b0f377bf.524eb8","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":520,"wires":[["4f624a60.df9a2c","c2c6f980.78a7c8"]]},{"id":"c2c6f980.78a7c8","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=\"seconds\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":520,"wires":[["c672b31d.b5"]]},{"id":"b07a61a5.4a0438","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=1;\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":520,"wires":[["19db8924.d70fdf","ad9328ce.189118"]]},{"id":"ad9328ce.189118","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":520,"wires":[["3441f5e2.685aca","b0f377bf.524eb8"]]},{"id":"c84b9c3c.315bc","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":1140,"wires":[["11f3470e.672d49","ac588ee2.7b4fd"]]},{"id":"406b0515.e527d4","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":1140,"wires":[["ed1397f.db70be8","c84b9c3c.315bc"]]},{"id":"595cab31.d53c2c","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=550;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":840,"wires":[["4704a79.56f6058"]]},{"id":"903a4e43.e3633","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":880,"wires":[["763fe57e.9e9eac"]]},{"id":"ac588ee2.7b4fd","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":1020,"wires":[["7d1238a6.6ca9b8","f6e63c3a.3080c"]]},{"id":"f6e63c3a.3080c","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=100;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":980,"wires":[["be68dd6b.1f17d8","b32a1374.50ac68"]]},{"id":"b32a1374.50ac68","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":800,"wires":[["b3a0dcea.d540b","d9cea712.3b7d3"]]},{"id":"1be1f8ee.81eea7","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":1020,"wires":[["86e61b5b.2ca39"]]},{"id":"a520b420.cabdd8","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":420,"wires":[["44e52207.8665fc"]]},{"id":"dbb788.39b54078","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":300,"wires":[["2164acbd.522204"]]},{"id":"4b2b7f03.d8e388","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":180,"wires":[["7b631fe8.393ea","bfcb2739.a23998"]]},{"id":"6e0dde54.002c1","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":60,"wires":[["521dd96a.4161b"]]},{"id":"bfcb2739.a23998","type":"function","z":"201b2be.ed99554","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":60,"wires":[["7ab61fc5.51cbc","c5c17bb2.cc132"]]},{"id":"a236c320.fe7258","type":"link in","z":"201b2be.ed99554","name":"->initialization","links":["ddfc45b1.3642"],"x":375,"y":760,"wires":[["600c35cb.b0be1c"]]},{"id":"7d1238a6.6ca9b8","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1480,"y":1060,"wires":[["bc514001.08584"]]},{"id":"4c368f57.6893e","type":"function","z":"201b2be.ed99554","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":600,"wires":[["9749a28e.76a13"]]},{"id":"22bda760.0b8358","type":"inject","z":"201b2be.ed99554","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":640,"wires":[["d91fdb6f.0c0ae8"]]},{"id":"68ec34a7.b4499c","type":"function","z":"201b2be.ed99554","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measODtotal\")/1000-(msg.count%(flow.get(\"measODtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":300,"wires":[["32e501d.b82397e"]]},{"id":"d7939b66.c7d4d","type":"ui_button","z":"201b2be.ed99554","name":"02 ODmeas Cycle counter","group":"29e435f5.f794ba","order":10,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":280,"wires":[[]]},{"id":"cbebacae.7373a8","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=flow.get(\"measODtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":260,"wires":[["32e501d.b82397e","d7057072.f3dc38"]]},{"id":"c8258528.ea2dc","type":"counter","z":"201b2be.ed99554","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":360,"wires":[["68ec34a7.b4499c"]]},{"id":"355598cf.b55ce","type":"function","z":"201b2be.ed99554","name":"","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}if (flow.get(\"countermeasOD\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasOD\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":320,"wires":[["c8258528.ea2dc"]]},{"id":"32e501d.b82397e","type":"function","z":"201b2be.ed99554","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":280,"wires":[["d7939b66.c7d4d"]]},{"id":"68c432fb.f2b504","type":"inject","z":"201b2be.ed99554","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":320,"wires":[["355598cf.b55ce"]]},{"id":"68e8cb9f.ab8f1c","type":"function","z":"201b2be.ed99554","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measBLtotal\")/1000-(msg.count%(flow.get(\"measBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":460,"wires":[["79a47dac.7dabc4"]]},{"id":"6f788dac.0c32dc","type":"ui_button","z":"201b2be.ed99554","name":"03 BLmeas Cycle counter","group":"29e435f5.f794ba","order":17,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":440,"wires":[[]]},{"id":"d7057072.f3dc38","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=flow.get(\"measBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":420,"wires":[["79a47dac.7dabc4","ac48b6ad.29ecc"]]},{"id":"8c1da726.346d4","type":"counter","z":"201b2be.ed99554","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":520,"wires":[["68e8cb9f.ab8f1c"]]},{"id":"712a88d1.09bba","type":"function","z":"201b2be.ed99554","name":"","func":"if (flow.get(\"countermeasBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":480,"wires":[["8c1da726.346d4"]]},{"id":"79a47dac.7dabc4","type":"function","z":"201b2be.ed99554","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":440,"wires":[["6f788dac.0c32dc"]]},{"id":"ae89209c.27a41","type":"inject","z":"201b2be.ed99554","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":480,"wires":[["712a88d1.09bba"]]},{"id":"fcc284d0.31abc","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"countermeasBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1010,"y":4140,"wires":[[]]},{"id":"ff0ff5e3.ff4498","type":"inject","z":"201b2be.ed99554","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4160,"wires":[["980077a1.10f6b"]]},{"id":"980077a1.10f6b","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4140,"wires":[["fcc284d0.31abc"]]},{"id":"894c9ddf.07a51","type":"link in","z":"201b2be.ed99554","name":"->Counter","links":["cc409a9c.63f6b8"],"x":415,"y":4120,"wires":[["980077a1.10f6b"]]},{"id":"2149035e.11cfa4","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"countermeasOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3560,"wires":[[]]},{"id":"a46919c3.3d83e","type":"inject","z":"201b2be.ed99554","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":230,"y":3580,"wires":[["b3111eda.99fa68"]]},{"id":"b3111eda.99fa68","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":3560,"wires":[["2149035e.11cfa4"]]},{"id":"32570e06.74e28a","type":"link in","z":"201b2be.ed99554","name":"->Counter","links":["cc409a9c.63f6b8"],"x":255,"y":3540,"wires":[["b3111eda.99fa68"]]},{"id":"2ba9f2cf.4beeae","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":4040,"wires":[["fcc284d0.31abc"]]},{"id":"de740276.3e7b08","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":900,"wires":[["67b693da.9590d4"]]},{"id":"bde4d0b.95c68b","type":"counter","z":"201b2be.ed99554","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":980,"wires":[["588039ec.c5b698"]]},{"id":"f721a606.c116e8","type":"function","z":"201b2be.ed99554","name":"","func":"if (flow.get(\"counterlaunch\")===false){\n    return;\n}\nelse if (flow.get(\"counterlaunch\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":940,"wires":[["bde4d0b.95c68b"]]},{"id":"67b693da.9590d4","type":"function","z":"201b2be.ed99554","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3120,"y":920,"wires":[["f1f5515c.dc48b","1dbf54ca.26378b"]]},{"id":"6b8e325a.9f794c","type":"inject","z":"201b2be.ed99554","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":940,"wires":[["f721a606.c116e8"]]},{"id":"f1f5515c.dc48b","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":53,"width":"4","height":"1","name":"09 elapsed time","label":"Elapsed time: ","format":"{{msg.payload}}","layout":"row-left","x":3280,"y":940,"wires":[]},{"id":"588039ec.c5b698","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=msg.count;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":940,"wires":[["67b693da.9590d4"]]},{"id":"3698e1df.30b03e","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"counterlaunch","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":2880,"wires":[[]]},{"id":"c301db97.23397","type":"inject","z":"201b2be.ed99554","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":270,"y":2900,"wires":[["9d334506.3a8e6"]]},{"id":"9d334506.3a8e6","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":2880,"wires":[["3698e1df.30b03e"]]},{"id":"ce8cdb2d.4b2898","type":"link in","z":"201b2be.ed99554","name":"->Counter","links":["cc409a9c.63f6b8"],"x":295,"y":2860,"wires":[["9d334506.3a8e6"]]},{"id":"ac96fb17.64a6b","type":"function","z":"201b2be.ed99554","name":"","func":"if (msg.count>=flow.get(\"delaytotal\")/1000){\n    msg.payload=0;\n}\nelse {\n    msg.payload=flow.get(\"delaytotal\")/1000-(msg.count%(flow.get(\"delaytotal\")/1000));\n\n}\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":780,"wires":[["ba099441.4b7558"]]},{"id":"741a825d.619624","type":"ui_button","z":"201b2be.ed99554","name":"08 growthdelay Cycle counter","group":"29e435f5.f794ba","order":50,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3350,"y":760,"wires":[[]]},{"id":"43f6113d.5154a8","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=flow.get(\"delaytotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":740,"wires":[["ba099441.4b7558","de740276.3e7b08"]]},{"id":"2b562945.c39a56","type":"counter","z":"201b2be.ed99554","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":840,"wires":[["ac96fb17.64a6b"]]},{"id":"83238131.c92b2","type":"function","z":"201b2be.ed99554","name":"","func":"if (flow.get(\"delaytotal\")===0){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===false){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":800,"wires":[["2b562945.c39a56"]]},{"id":"ba099441.4b7558","type":"function","z":"201b2be.ed99554","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":760,"wires":[["741a825d.619624"]]},{"id":"cf404be6.3d96c8","type":"inject","z":"201b2be.ed99554","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":800,"wires":[["83238131.c92b2"]]},{"id":"f7ad3396.e72258","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"counterdelay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1040,"y":3840,"wires":[[]]},{"id":"3ba137be.97413","type":"inject","z":"201b2be.ed99554","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":430,"y":3860,"wires":[["6c827b2e.91bff4"]]},{"id":"6c827b2e.91bff4","type":"function","z":"201b2be.ed99554","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":3840,"wires":[["f7ad3396.e72258","c6a829.8aa2cfd8"]]},{"id":"10a981bb.135bc6","type":"link in","z":"201b2be.ed99554","name":"->Counter","links":["cc409a9c.63f6b8"],"x":455,"y":3820,"wires":[["6c827b2e.91bff4"]]},{"id":"300ee40f.6e16f4","type":"ui_text","z":"201b2be.ed99554","group":"29e435f5.f794ba","order":51,"width":"2","height":"1","name":"08 growth delay status","label":"","format":"{{msg.payload}}","layout":"row-center","x":1110,"y":3960,"wires":[]},{"id":"c6a829.8aa2cfd8","type":"function","z":"201b2be.ed99554","name":"","func":"if (msg.payload===false){\n    msg.payload=\"delay status\";\n}\nif (msg.payload===\"delay\"){\n    msg.payload=\"ongoing\";\n}\nelse if (msg.payload===true){\n    msg.payload=\"over\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3960,"wires":[["300ee40f.6e16f4"]]},{"id":"cc68f85c.ea1f1","type":"function","z":"201b2be.ed99554","name":"reset","func":"msg.reset=true;\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2410,"y":540,"wires":[["c8258528.ea2dc","56a15964.d47e2","2b562945.c39a56","bde4d0b.95c68b"]]},{"id":"bf7d3df5.bc4b98","type":"delay","z":"201b2be.ed99554","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":2240,"y":520,"wires":[["cc68f85c.ea1f1"]]},{"id":"1dbf54ca.26378b","type":"change","z":"201b2be.ed99554","name":"","rules":[{"t":"set","p":"elapsed","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3290,"y":900,"wires":[[]]},{"id":"98fe7e9c.6f0bc8","type":"function","z":"201b2be.ed99554","name":"elapsed","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=\"Elapsed time \"+flow.get(\"elapsed\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":1660,"wires":[["2a0210d1.a19868"]]},{"id":"2a0210d1.a19868","type":"file","z":"201b2be.ed99554","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1270,"y":1660,"wires":[[]]},{"id":"ff5c6a00.0779c8","type":"comment","z":"201b2be.ed99554","name":"BOUGZY DEPLOY","info":"","x":2590,"y":80,"wires":[]},{"id":"e1c842b7.9bc878","type":"arduino out","z":"6d64c863.e19eb","name":"GL17","pin":"3","state":"OUTPUT","arduino":"4a0a6caf.d79b4c","x":1130,"y":60,"wires":[]},{"id":"3e5f90b.437d37","type":"arduino out","z":"6d64c863.e19eb","name":"YL17","pin":"2","state":"OUTPUT","arduino":"4a0a6caf.d79b4c","x":1550,"y":60,"wires":[]},{"id":"bebd63d2.368bf","type":"ui_slider","z":"6d64c863.e19eb","name":"05 intensity:","label":"intensity:","tooltip":"","group":"4697ebe9.8dd584","order":30,"width":"7","height":"1","passthru":true,"outs":"end","topic":"","min":0,"max":"255","step":"1","x":1170,"y":420,"wires":[["f202212f.2af068","65e1d6a.d3e9728"]]},{"id":"35a757d8.fb739","type":"ui_numeric","z":"6d64c863.e19eb","name":"06 and set to 480","label":"and set to","tooltip":"","group":"4697ebe9.8dd584","order":37,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"1025","step":"1","x":1030,"y":840,"wires":[["98930e13.c248"]]},{"id":"6279c051.4b5a88","type":"ui_switch","z":"6d64c863.e19eb","name":"01 GL17","label":"","tooltip":"","group":"4697ebe9.8dd584","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"green","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"green","x":1000,"y":60,"wires":[["e1c842b7.9bc878"]]},{"id":"40896cfb.c6c164","type":"ui_switch","z":"6d64c863.e19eb","name":"01 YL17","label":"","tooltip":"","group":"4697ebe9.8dd584","order":4,"width":"1","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#e2c43c","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"#e2c43c","x":1420,"y":60,"wires":[["3e5f90b.437d37"]]},{"id":"384b2d5d.a30562","type":"ui_switch","z":"6d64c863.e19eb","name":"02 IR17","label":"","tooltip":"","group":"4697ebe9.8dd584","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"red","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1000,"y":180,"wires":[["65300dac.45a40c"]]},{"id":"7a31a639.4bf168","type":"ui_switch","z":"6d64c863.e19eb","name":"03 BL17","label":"","tooltip":"","group":"4697ebe9.8dd584","order":12,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#44cff1","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1020,"y":300,"wires":[["65e1d6a.d3e9728"]]},{"id":"f2e51c00.f9d25","type":"ui_switch","z":"6d64c863.e19eb","name":"07 FAN","label":"","tooltip":"","group":"4697ebe9.8dd584","order":40,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"toys","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1620,"y":1080,"wires":[["7c793a56.0b4f14"]]},{"id":"9e015527.677718","type":"ui_switch","z":"6d64c863.e19eb","name":"06 T01 PID","label":"","tooltip":"","group":"4697ebe9.8dd584","order":33,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"enable","style":"","onvalue":"1","onvalueType":"num","onicon":"hot_tub","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1030,"y":880,"wires":[["cb35a425.aaf678","32016a90.46045e"]]},{"id":"ac6fa7d3.3c3788","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":25,"width":"2","height":"1","name":"04 spacer","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1770,"y":520,"wires":[]},{"id":"a1ce56f4.c8f05","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":46,"width":"7","height":"1","name":"07 last spacer","label":"(produces sound: fine).","format":"{{msg.payload}}","layout":"row-spread","x":1960,"y":1020,"wires":[]},{"id":"cebff400.c01e3","type":"ui_numeric","z":"6d64c863.e19eb","name":"02 every 5","label":"every","tooltip":"","group":"4697ebe9.8dd584","order":7,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1450,"y":220,"wires":[["aed51f44.cc9d98"]]},{"id":"94695fda.ba8448","type":"ui_dropdown","z":"6d64c863.e19eb","name":"02 minutes","label":"","tooltip":"","place":"Select option","group":"4697ebe9.8dd584","order":8,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1690,"y":220,"wires":[["17dfe003.ebef18"]]},{"id":"c1df5109.11a35","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"measODtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2280,"y":320,"wires":[["ff29ca74.047ef"]]},{"id":"1898c717.b9a009","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":9,"width":"7","height":"1","name":"02 (takes 5 seconds)","label":"(takes 5 seconds).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":180,"wires":[]},{"id":"cb903e83.10763","type":"ui_numeric","z":"6d64c863.e19eb","name":"03 every 5","label":"every","tooltip":"","group":"4697ebe9.8dd584","order":14,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1490,"y":340,"wires":[["6cff42f4.7624b4"]]},{"id":"7b288210.980194","type":"ui_dropdown","z":"6d64c863.e19eb","name":"03 minutes","label":"","tooltip":"","place":"Select option","group":"4697ebe9.8dd584","order":15,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1730,"y":340,"wires":[["268701b9.7f4946"]]},{"id":"6cff42f4.7624b4","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"measBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":380,"wires":[["e5762f52.081e38"]]},{"id":"e94b0232.cd6f48","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"measBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1940,"y":380,"wires":[["e5762f52.081e38"]]},{"id":"f83386be.1d2838","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":16,"width":"7","height":"1","name":"03 (takes 5 seconds)","label":"(takes 5 secs, max illum., shifted timing).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":300,"wires":[]},{"id":"f202212f.2af068","type":"ui_numeric","z":"6d64c863.e19eb","name":"05 at 255","label":"at","tooltip":"","group":"4697ebe9.8dd584","order":29,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":"1","x":1020,"y":420,"wires":[["d80eb289.13de28","bebd63d2.368bf"]]},{"id":"d80eb289.13de28","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"intBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":460,"wires":[[]]},{"id":"40ee8dc1.205ccc","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":6,"width":"3","height":"1","name":"02 Meaure OD:","label":"Measure OD:","format":"{{msg.payload}}","layout":"row-spread","x":1280,"y":180,"wires":[]},{"id":"a6900981.aab72","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":13,"width":"3","height":"1","name":"03 Meaure BL:","label":"Measure BL:","format":"{{msg.payload}}","layout":"row-spread","x":1340,"y":300,"wires":[]},{"id":"46323cda.d25514","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":28,"width":"4","height":"1","name":"05 spacer1","label":"","format":"{{msg.payload}}","layout":"row-spread","x":710,"y":420,"wires":[]},{"id":"6535bc8a.1808bc","type":"ui_button","z":"6d64c863.e19eb","name":"05 OK","group":"4697ebe9.8dd584","order":31,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1350,"y":420,"wires":[["7a31a639.4bf168"]]},{"id":"af0007ea.c601","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":19,"width":"1","height":"1","name":"04 - -","label":"","format":"{{msg.payload}}","layout":"row-spread","x":630,"y":520,"wires":[]},{"id":"7ad1c6f.a236cb8","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":20,"width":"3","height":"1","name":"04 Illuminate BL:","label":"Illuminate BL:","format":"{{msg.payload}}","layout":"row-spread","x":670,"y":560,"wires":[]},{"id":"95355d18.6e9d3","type":"ui_numeric","z":"6d64c863.e19eb","name":"04 every 1","label":"every","tooltip":"","group":"4697ebe9.8dd584","order":21,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":850,"y":560,"wires":[["5a9e6205.d5e5cc"]]},{"id":"737ddc2c.3c9b4c","type":"ui_dropdown","z":"6d64c863.e19eb","name":"04 hour","label":"","tooltip":"","place":"Select option","group":"4697ebe9.8dd584","order":22,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1080,"y":560,"wires":[["de082266.980e4"]]},{"id":"5a9e6205.d5e5cc","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"pillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":600,"wires":[["ce4638d2.af4df8"]]},{"id":"1a7b6e4f.d22a82","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"pillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":640,"wires":[["ce4638d2.af4df8"]]},{"id":"c0792f87.4b1768","type":"ui_numeric","z":"6d64c863.e19eb","name":"04 for 5","label":"for","tooltip":"","group":"4697ebe9.8dd584","order":23,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1340,"y":560,"wires":[["7fe0109e.0b6dd8"]]},{"id":"fc858059.f64b9","type":"ui_dropdown","z":"6d64c863.e19eb","name":"04 minutes","label":"","tooltip":"","place":"Select option","group":"4697ebe9.8dd584","order":24,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1590,"y":560,"wires":[["e17ade0b.4db618"]]},{"id":"7fe0109e.0b6dd8","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"tillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":600,"wires":[["93450f61.ae818"]]},{"id":"58dae435.ff90f4","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"tillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1610,"y":640,"wires":[["93450f61.ae818"]]},{"id":"a6fa1961.ca9608","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":32,"width":"5","height":"1","name":"05 spacer2","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1530,"y":420,"wires":[]},{"id":"749ad39f.c3e9c4","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":35,"width":"2","height":"1","name":"06 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1850,"y":860,"wires":[]},{"id":"fd571df3.9e6f38","type":"ui_switch","z":"6d64c863.e19eb","name":"06 act.switch","label":"","tooltip":"","group":"4697ebe9.8dd584","order":36,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"hot_tub","oncolor":"red","offvalue":"OFF","offvalueType":"str","officon":"ac_unit","offcolor":"grey","x":1520,"y":880,"wires":[["786c763.fc9d208"]]},{"id":"b8408784.2621b8","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":38,"width":"6","height":"1","name":"06 Volts.","label":"Volts.","format":"{{msg.payload}}","layout":"row-spread","x":1220,"y":840,"wires":[]},{"id":"c24f82e7.90c248","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":34,"width":"4","height":"1","name":"06 Temperature control:","label":"Temperature control:","format":"{{msg.payload}}","layout":"row-spread","x":2050,"y":860,"wires":[]},{"id":"c752235a.59c64","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":41,"width":"4","height":"1","name":"07 Fan:","label":"Fan:","format":"{{msg.payload}}","layout":"row-spread","x":700,"y":1060,"wires":[]},{"id":"88f6141d.e6757","type":"ui_switch","z":"6d64c863.e19eb","name":"07 enable switch","label":"","tooltip":"","group":"4697ebe9.8dd584","order":43,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"toys","oncolor":"green","offvalue":"OFF","offvalueType":"str","officon":"radio_button_unchecked","offcolor":"grey","x":910,"y":1060,"wires":[["610ba904.a14568","f71ef4be.3a82b8"]]},{"id":"f71ef4be.3a82b8","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":42,"width":"2","height":"1","name":"07 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1230,"y":1060,"wires":[]},{"id":"610ba904.a14568","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"FANstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1020,"wires":[[]]},{"id":"4a43b6d7.7e28a","type":"ui_numeric","z":"6d64c863.e19eb","name":"07 and set to 100","label":"and set to","tooltip":"","group":"4697ebe9.8dd584","order":44,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"255","step":"1","x":1590,"y":1020,"wires":[["67ed4283.9abc94","7c793a56.0b4f14"]]},{"id":"67ed4283.9abc94","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"intFAN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1780,"y":1000,"wires":[[]]},{"id":"810cdbee.775668","type":"ui_button","z":"6d64c863.e19eb","name":"07 OK","group":"4697ebe9.8dd584","order":45,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1430,"y":1100,"wires":[["f2e51c00.f9d25"]]},{"id":"df435604.6d3c8","type":"ui_numeric","z":"6d64c863.e19eb","name":"08 add delay","label":"Add growing delay of","tooltip":"","group":"4697ebe9.8dd584","order":47,"width":"6","height":"1","passthru":true,"topic":"setpoint","format":"{{value}}","min":"0","max":"100","step":"1","x":870,"y":1180,"wires":[["77d48dce.244adc"]]},{"id":"63f09a02.f7ae3c","type":"ui_dropdown","z":"6d64c863.e19eb","name":"08 hour","label":"","tooltip":"","place":"Select option","group":"4697ebe9.8dd584","order":48,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1060,"y":1180,"wires":[["5d7e9948.a09398"]]},{"id":"77d48dce.244adc","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"delay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":1220,"wires":[["51d5447d.4c59b4"]]},{"id":"1fb99389.db097c","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"delayunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1090,"y":1220,"wires":[["51d5447d.4c59b4"]]},{"id":"804f2a85.4cb9a8","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":49,"width":"8","height":"1","name":"08 finalspacer","label":"(during which no BL measure will be made).","format":"{{msg.payload}}","layout":"row-spread","x":1240,"y":1140,"wires":[]},{"id":"9c819cfb.d21778","type":"ui_text_input","z":"6d64c863.e19eb","name":"09 DETAILS","label":"DETAILS:","tooltip":"","group":"4697ebe9.8dd584","order":52,"width":"16","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1110,"y":2560,"wires":[["12675e08.47ab6a"]]},{"id":"601153d3.c66124","type":"ui_text_input","z":"6d64c863.e19eb","name":"10 Nickname","label":"Nickname:","tooltip":"","group":"4697ebe9.8dd584","order":54,"width":"4","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1120,"y":2600,"wires":[["409f4ddb.d37d94"]]},{"id":"44b58c99.8a412c","type":"inject","z":"6d64c863.e19eb","name":"","topic":"","payload":"eV07_","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":830,"y":2600,"wires":[["3fd9cca8.2f9154"]]},{"id":"f1644db9.7aecb8","type":"ui_button","z":"6d64c863.e19eb","name":"10 LAUNCH EXP","group":"4697ebe9.8dd584","order":55,"width":"10","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"bool","topic":"","x":310,"y":1900,"wires":[["b3989595.ee14f","36534df2.c24782","8accceed.f176d8","47d710de.6a825","e950b901.7c2fa","a60c2d3b.4040e8","3d05fb48.63981c"]]},{"id":"fd201117.54b888","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.label=\"Running...\";\nmsg.background=\"#FFC300\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1600,"wires":[["f1644db9.7aecb8"]]},{"id":"2b3034e2.efb37c","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.label=\"LAUNCH EXPERIMENT\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1520,"wires":[["f1644db9.7aecb8"]]},{"id":"ba705177.021eb8","type":"inject","z":"6d64c863.e19eb","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":210,"y":1640,"wires":[["47d710de.6a825"]]},{"id":"a01ec272.da595","type":"ui_button","z":"6d64c863.e19eb","name":"10 RESET","group":"4697ebe9.8dd584","order":57,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"reset","payloadType":"str","topic":"","x":1610,"y":1480,"wires":[["a924e26f.7cca5","a917a335.eac9b","60a071f.756b11","7e913dc5.90380c"]]},{"id":"a924e26f.7cca5","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.label=\"Reseting...\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1520,"wires":[["a01ec272.da595","d7ac809a.d17c2"]]},{"id":"3efbc00f.e8c728","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.label=\"RESET\";\nmsg.background=\"grey\";\nreturn msg;","outputs":1,"noerr":0,"x":1750,"y":1660,"wires":[["a01ec272.da595"]]},{"id":"e3381719.2a9ba8","type":"inject","z":"6d64c863.e19eb","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1630,"y":1680,"wires":[["3efbc00f.e8c728"]]},{"id":"d7ac809a.d17c2","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1560,"wires":[["c8534b5f.60dff8"]]},{"id":"c8534b5f.60dff8","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.label=\"SUCCESS\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1600,"wires":[["a05c4168.e5424","a01ec272.da595"]]},{"id":"a05c4168.e5424","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1640,"wires":[["3efbc00f.e8c728"]]},{"id":"29661a87.a1dac6","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.label=\"Halted experiment\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1560,"wires":[["f1644db9.7aecb8"]]},{"id":"c4b4d240.925e08","type":"ui_button","z":"6d64c863.e19eb","name":"10 STOP","group":"4697ebe9.8dd584","order":56,"width":"4","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"str","topic":"","x":860,"y":1540,"wires":[["2ab22c7.afeb254"]]},{"id":"ce708138.0f954","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.label=\"Stopped.\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":1580,"wires":[["c4b4d240.925e08"]]},{"id":"2c87c344.7be264","type":"inject","z":"6d64c863.e19eb","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":710,"y":1500,"wires":[["c808a831.9d923"]]},{"id":"c808a831.9d923","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.label=\"STOP\";\nmsg.background=\"#cb4335\";\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1500,"wires":[["c4b4d240.925e08"]]},{"id":"fb640265.cd1a18","type":"comment","z":"6d64c863.e19eb","name":"Launch TODOs","info":"Turn off and disable all above switches\ndisable the launch button\nCA MARCHE PAS","x":840,"y":2080,"wires":[]},{"id":"4bb01561.22e1c4","type":"comment","z":"6d64c863.e19eb","name":"Reset TODOs","info":"Enable anew all above switches\nReset all default values in exp menu\nBlink LEDs as indicators ;)","x":1440,"y":1660,"wires":[]},{"id":"a2806f6e.aec558","type":"comment","z":"6d64c863.e19eb","name":"Stop TODOs","info":"","x":850,"y":1420,"wires":[]},{"id":"a65924cf.f9cff8","type":"simpletime","z":"6d64c863.e19eb","name":"","x":910,"y":2360,"wires":[["3cf16881.0f74","7d0e8910.82a09"]]},{"id":"3cf16881.0f74","type":"function","z":"6d64c863.e19eb","name":"20190417_172653_nickname/...","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\")+\"/\"+msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1180,"y":2360,"wires":[["2f99a91d.26825e","1955ee7c.07b53a","2bcec094.1e4698","aec8bb87.cb0ba"]]},{"id":"2bcec094.1e4698","type":"join","z":"6d64c863.e19eb","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2400,"wires":[["ab56314b.ca8778"]]},{"id":"2f99a91d.26825e","type":"join","z":"6d64c863.e19eb","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2440,"wires":[["971fad46.f10d18"]]},{"id":"1955ee7c.07b53a","type":"join","z":"6d64c863.e19eb","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2480,"wires":[["f9c6bdc6.c0011"]]},{"id":"78934701.1a6a8","type":"function","z":"6d64c863.e19eb","name":"/home/lab513/Desktop/eVOLVER_data/","func":"if (msg.payload){\n    msg.payload=\"/home/lab513/Desktop/eVOLVER_data/\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":2320,"wires":[["2bcec094.1e4698","2f99a91d.26825e","1955ee7c.07b53a","aec8bb87.cb0ba"]]},{"id":"259c6725.b523d8","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"delay","timeout":"0.2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2360,"wires":[["a65924cf.f9cff8"]]},{"id":"2c3e2eef.a1312a","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"nickname","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":2600,"wires":[[]]},{"id":"9b29e79b.7d95e8","type":"function","z":"6d64c863.e19eb","name":".IR","func":"if (msg.payload){\n    msg.payload=\".IR\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2400,"wires":[["2bcec094.1e4698"]]},{"id":"e8f741ff.ed40c","type":"function","z":"6d64c863.e19eb","name":".BL","func":"if (msg.payload){\n    msg.payload=\".BL\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2440,"wires":[["2f99a91d.26825e"]]},{"id":"9dda0290.858498","type":"function","z":"6d64c863.e19eb","name":".Temp","func":"if (msg.payload){\n    msg.payload=\".Temp\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2480,"wires":[["1955ee7c.07b53a"]]},{"id":"b3989595.ee14f","type":"function","z":"6d64c863.e19eb","name":"Creates Files:","func":"\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":2280,"wires":[["259c6725.b523d8","a1fbd937.ea5708","7eaa202c.a032","5dce2312.53d2b4","9fa8988c.3f6b6","f7bc0548.626218","db2a6e01.4e4808"]]},{"id":"5dce2312.53d2b4","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2400,"wires":[["9b29e79b.7d95e8"]]},{"id":"9fa8988c.3f6b6","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2440,"wires":[["e8f741ff.ed40c"]]},{"id":"f7bc0548.626218","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2480,"wires":[["9dda0290.858498"]]},{"id":"a1fbd937.ea5708","type":"function","z":"6d64c863.e19eb","name":"reset","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":2280,"wires":[["ab56314b.ca8778","971fad46.f10d18","f9c6bdc6.c0011","45260a15.94788c"]]},{"id":"7eaa202c.a032","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"delay","timeout":"0.1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2320,"wires":[["78934701.1a6a8"]]},{"id":"409f4ddb.d37d94","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2600,"wires":[["2c3e2eef.a1312a"]]},{"id":"ab56314b.ca8778","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"FileNameIR","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1500,"y":2400,"wires":[[]]},{"id":"971fad46.f10d18","type":"change","z":"6d64c863.e19eb","name":"FileNameBL","rules":[{"t":"set","p":"FileNameBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1470,"y":2440,"wires":[[]]},{"id":"f9c6bdc6.c0011","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"FileNameTemp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":2480,"wires":[[]]},{"id":"aec8bb87.cb0ba","type":"join","z":"6d64c863.e19eb","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2520,"wires":[["45260a15.94788c"]]},{"id":"db369c77.60f39","type":"function","z":"6d64c863.e19eb","name":".readme","func":"if (msg.payload){\n    msg.payload=\".readme\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":2520,"wires":[["aec8bb87.cb0ba"]]},{"id":"db2a6e01.4e4808","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2520,"wires":[["db369c77.60f39"]]},{"id":"45260a15.94788c","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"FileNameReadme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":2520,"wires":[[]]},{"id":"6aebafc0.e82288","type":"inject","z":"6d64c863.e19eb","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":810,"y":2560,"wires":[["ba537d4f.b01c38"]]},{"id":"12675e08.47ab6a","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2560,"wires":[["858c51a6.3f6038"]]},{"id":"858c51a6.3f6038","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"readme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1480,"y":2560,"wires":[[]]},{"id":"7d0e8910.82a09","type":"function","z":"6d64c863.e19eb","name":"displayname","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":2640,"wires":[["20950416.49eb74"]]},{"id":"20950416.49eb74","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":2,"width":"15","height":"1","name":"00 Running","label":"Running:","format":"{{msg.payload}}","layout":"row-left","x":1310,"y":2640,"wires":[]},{"id":"18e63883.1c74a7","type":"inject","z":"6d64c863.e19eb","name":"","topic":"","payload":"-","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":890,"y":2640,"wires":[["5c8438fd.a9a87"]]},{"id":"2ab22c7.afeb254","type":"function","z":"6d64c863.e19eb","name":"STOP ACTIONS:","func":"msg.payload=false;\nreturn msg;\n\n//this function allows the fact that the\n//reset button first does the stop action\n//and then resets the buttons etc","outputs":1,"noerr":0,"x":1050,"y":1560,"wires":[["29661a87.a1dac6","ce708138.0f954","da782069.bff528","c3bac45e.c94088","1b7d3e03.22c78a"]]},{"id":"a917a335.eac9b","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":300,"y":1480,"wires":[["2b3034e2.efb37c"]]},{"id":"60a071f.756b11","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":850,"y":1460,"wires":[["c808a831.9d923"]]},{"id":"d53ba9a6.7c0a3","type":"function","z":"6d64c863.e19eb","name":"disable/enable switches","func":"if (msg.payload===\"launch\"){\n    msg.enabled=false;\n}\nelse if (msg.payload===0){\n    msg.enabled=true;\n}\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":2080,"wires":[[]]},{"id":"5c8438fd.a9a87","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=\"-\";\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":2640,"wires":[["20950416.49eb74"]]},{"id":"36534df2.c24782","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":560,"y":2800,"wires":[["97c3a9e2.3ff278","f8d92409.f37418","744a7a54.4ea3cc","c9dc25ff.224f38","810cc17c.5eadb8","88895925.5f1428","d1e0834b.cb899","fd3c7ff.7092d"]]},{"id":"6fecb1cc.4ca79","type":"file","z":"6d64c863.e19eb","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3420,"wires":[[]]},{"id":"630dac12.a26d94","type":"file","z":"6d64c863.e19eb","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3380,"wires":[[]]},{"id":"c78ca5a6.cba9d8","type":"file","z":"6d64c863.e19eb","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3460,"wires":[[]]},{"id":"6995a078.f9f768","type":"switch","z":"6d64c863.e19eb","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3420,"wires":[["5d82606c.dc0cd"]]},{"id":"f8d92409.f37418","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"StoreInFile","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":3340,"wires":[[]]},{"id":"40df1dbc.a220cc","type":"comment","z":"6d64c863.e19eb","name":"Allows storage in the filenames","info":"","x":1050,"y":3340,"wires":[]},{"id":"43444daa.9a67bc","type":"arduino in","z":"6d64c863.e19eb","name":"Blue Light Sensor","pin":"2","state":"ANALOG","arduino":"851a0b68.60bc78","x":790,"y":3420,"wires":[["4abe28bf.4cc0d"]]},{"id":"e1fa4d32.89f9f","type":"arduino in","z":"6d64c863.e19eb","name":"IR Sensor","pin":"1","state":"ANALOG","arduino":"851a0b68.60bc78","x":760,"y":3380,"wires":[["40737380.6165b4"]]},{"id":"4abe28bf.4cc0d","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3420,"wires":[["6995a078.f9f768","3838ea4f.1dd18e"]]},{"id":"40737380.6165b4","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3380,"wires":[["94a04ebd.b03588","af34a856.c95e7"]]},{"id":"95decd9c.4490e8","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3460,"wires":[["71e6e29d.2dec2c","a3aceff4.1a1a5"]]},{"id":"94a04ebd.b03588","type":"switch","z":"6d64c863.e19eb","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3380,"wires":[["ce8651bd.267e38"]]},{"id":"71e6e29d.2dec2c","type":"switch","z":"6d64c863.e19eb","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3460,"wires":[["1e5dadb2.0ff40a"]]},{"id":"3d14b131.79aa26","type":"inject","z":"6d64c863.e19eb","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":330,"y":3340,"wires":[["6690a3a4.8a4774"]]},{"id":"97c3a9e2.3ff278","type":"function","z":"6d64c863.e19eb","name":"readme","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=flow.get(\"readme\")+\"\\n\"+\n    \"measOD \"+flow.get(\"measOD\").toString()+\"\\n\"+\n    \"measODunits \"+flow.get(\"measODunits\").toString()+\"\\n\"+\n    \"measODtotal \"+flow.get(\"measODtotal\").toString()+\"\\n\"+\n    \n    \"measBL \"+flow.get(\"measBL\").toString()+\"\\n\"+\n    \"measBLunits \"+flow.get(\"measBLunits\").toString()+\"\\n\"+\n    \"measBLtotal \"+flow.get(\"measBLtotal\").toString()+\"\\n\"+\n    \n    \"intBL \"+flow.get(\"intBL\").toString()+\"\\n\"+\n    \n    \"pillBL \"+flow.get(\"pillBL\").toString()+\"\\n\"+\n    \"pillBLunits \"+flow.get(\"pillBLunits\").toString()+\"\\n\"+\n    \"pillBLtotal \"+flow.get(\"pillBLtotal\").toString()+\"\\n\"+\n    \n    \"tillBL \"+flow.get(\"tillBL\").toString()+\"\\n\"+\n    \"tillBLunits \"+flow.get(\"tillBLunits\").toString()+\"\\n\"+\n    \"tillBLtotal \"+flow.get(\"tillBLtotal\").toString()+\"\\n\"+\n    \n    \"Temp \"+flow.get(\"Temp\").toString()+\"\\n\"+\n    \"PID \"+flow.get(\"PID\").toString()+\"\\n\"+\n    \n    \"FANstate \"+flow.get(\"FANstate\").toString()+\"\\n\"+\n    \"intFAN \"+flow.get(\"intFAN\").toString()+\"\\n\"+\n    \n    \"delay \"+flow.get(\"delay\").toString()+\"\\n\"+\n    \"delayunits \"+flow.get(\"delayunits\").toString()+\"\\n\"+\n    \"delaytotal \"+flow.get(\"delaytotal\").toString()+\"\\n\";\n\n//msg.myepoch=msg.myepoch.toString();\n//msg.payload=msg.payload+\";\"+msg.myepoch;\n\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":2940,"wires":[["f35f2cdd.f86438"]]},{"id":"f35f2cdd.f86438","type":"file","z":"6d64c863.e19eb","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":890,"y":2940,"wires":[[]]},{"id":"ce8651bd.267e38","type":"simpletime","z":"6d64c863.e19eb","name":"","x":1330,"y":3380,"wires":[["ada28f5.d366f7"]]},{"id":"ada28f5.d366f7","type":"function","z":"6d64c863.e19eb","name":"IR+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameIR\");\nreturn msg;","outputs":1,"noerr":0,"x":1480,"y":3380,"wires":[["630dac12.a26d94"]]},{"id":"5d82606c.dc0cd","type":"simpletime","z":"6d64c863.e19eb","name":"","x":1330,"y":3420,"wires":[["d1ed1341.2fbf88"]]},{"id":"d1ed1341.2fbf88","type":"function","z":"6d64c863.e19eb","name":"BL+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameBL\");\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":3420,"wires":[["6fecb1cc.4ca79"]]},{"id":"1e5dadb2.0ff40a","type":"simpletime","z":"6d64c863.e19eb","name":"","x":1330,"y":3460,"wires":[["ee59bef4.a61eb8"]]},{"id":"ee59bef4.a61eb8","type":"function","z":"6d64c863.e19eb","name":"Temp+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameTemp\");\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":3460,"wires":[["c78ca5a6.cba9d8"]]},{"id":"ba537d4f.b01c38","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2560,"wires":[["9c819cfb.d21778"]]},{"id":"3fd9cca8.2f9154","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=\"eV07_\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2600,"wires":[["601153d3.c66124"]]},{"id":"5fb24574.f4f2ec","type":"function","z":"6d64c863.e19eb","name":"(reset)","func":"\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":2600,"wires":[["ba537d4f.b01c38","3fd9cca8.2f9154","5c8438fd.a9a87"]]},{"id":"8accceed.f176d8","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=\"launch\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":2040,"wires":[["d53ba9a6.7c0a3"]]},{"id":"6690a3a4.8a4774","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3340,"wires":[["f8d92409.f37418"]]},{"id":"744a7a54.4ea3cc","type":"function","z":"6d64c863.e19eb","name":"255","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":750,"y":3640,"wires":[["de75add2.f94c5","8ee61878.cc066"]]},{"id":"de75add2.f94c5","type":"function","z":"6d64c863.e19eb","name":"measODtotal","func":"msg.delay=flow.get(\"measODtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":780,"y":3680,"wires":[["3ed446b6.f9821a"]]},{"id":"3ed446b6.f9821a","type":"delay","z":"6d64c863.e19eb","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":3720,"wires":[["744a7a54.4ea3cc"]]},{"id":"72c28e18.a14bc","type":"function","z":"6d64c863.e19eb","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3640,"wires":[["3ed446b6.f9821a","8ee61878.cc066"]]},{"id":"8ee61878.cc066","type":"trigger","z":"6d64c863.e19eb","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1050,"y":3640,"wires":[["32960be3.8ae484","e40c944c.8b98b","227f1918.e4afd6"]]},{"id":"32960be3.8ae484","type":"function","z":"6d64c863.e19eb","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":3640,"wires":[["a900acfe.618d88"]]},{"id":"e40c944c.8b98b","type":"arduino out","z":"6d64c863.e19eb","name":"IR17","pin":"5","state":"PWM","arduino":"851a0b68.60bc78","x":1810,"y":3680,"wires":[]},{"id":"c41005b3.a24da","type":"switch","z":"6d64c863.e19eb","name":"lance ventilo","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"gt","v":"160","vt":"num"},{"t":"btwn","v":"0","vt":"num","v2":"160","v2t":"num"}],"checkall":"false","repair":false,"outputs":3,"x":1470,"y":3820,"wires":[["c600bc7c.b3fc"],["c600bc7c.b3fc"],["3140d417.906f6c","b713505f.5ff088"]],"info":"Coz the ventilo wont start if the value is \nbelow 160.\nTo have a value below 160, we need to start w\na bigger value and THEN get down in value"},{"id":"c600bc7c.b3fc","type":"arduino out","z":"6d64c863.e19eb","name":"Fan","pin":"9","state":"PWM","arduino":"851a0b68.60bc78","x":1810,"y":3800,"wires":[]},{"id":"b713505f.5ff088","type":"function","z":"6d64c863.e19eb","name":"200","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":1630,"y":3840,"wires":[["c600bc7c.b3fc"]]},{"id":"3140d417.906f6c","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":3880,"wires":[["c600bc7c.b3fc"]]},{"id":"a900acfe.618d88","type":"arduino out","z":"6d64c863.e19eb","name":"BL17","pin":"6","state":"PWM","arduino":"851a0b68.60bc78","x":1810,"y":3740,"wires":[]},{"id":"7e913dc5.90380c","type":"link out","z":"6d64c863.e19eb","name":"RESET17->","links":["56065136.9c966","fb87171e.8c3068","fd18d64b.d9ec88","440a2d2c.698774","3742e0c8.bcab08","b9fa99c.24e2868","9b3e4119.84a748","948bae02.d8b248"],"x":1755,"y":1480,"wires":[]},{"id":"56065136.9c966","type":"link in","z":"6d64c863.e19eb","name":"->Nickname&details","links":["7e913dc5.90380c"],"x":595,"y":2560,"wires":[["5fb24574.f4f2ec"]]},{"id":"f5c2d96e.65163","type":"link in","z":"6d64c863.e19eb","name":"->StoreInFile","links":["da782069.bff528"],"x":375,"y":3300,"wires":[["6690a3a4.8a4774"]]},{"id":"392a66ab.ce92ca","type":"link in","z":"6d64c863.e19eb","name":"->ODmeas","links":["da782069.bff528"],"x":395,"y":3640,"wires":[["72c28e18.a14bc"]]},{"id":"fb87171e.8c3068","type":"link in","z":"6d64c863.e19eb","name":"->stop","links":["7e913dc5.90380c"],"x":875,"y":1620,"wires":[["2ab22c7.afeb254"]]},{"id":"17dfe003.ebef18","type":"function","z":"6d64c863.e19eb","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1740,"y":260,"wires":[["9ac31874.057f98"]]},{"id":"aed51f44.cc9d98","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"measOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":260,"wires":[["888bd27e.143238"]]},{"id":"9ac31874.057f98","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"measODunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":260,"wires":[["888bd27e.143238"]]},{"id":"888bd27e.143238","type":"function","z":"6d64c863.e19eb","name":"multiply","func":"msg.payload=flow.get(\"measOD\")*flow.get(\"measODunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2100,"y":260,"wires":[["c1df5109.11a35"]]},{"id":"268701b9.7f4946","type":"function","z":"6d64c863.e19eb","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1760,"y":380,"wires":[["e94b0232.cd6f48"]]},{"id":"e5762f52.081e38","type":"function","z":"6d64c863.e19eb","name":"multiply","func":"msg.payload=flow.get(\"measBL\")*flow.get(\"measBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2120,"y":380,"wires":[["9a1366d9.3534b"]]},{"id":"9a1366d9.3534b","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"measBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":380,"wires":[["c630d12b.b6ca9"]]},{"id":"de082266.980e4","type":"function","z":"6d64c863.e19eb","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1100,"y":600,"wires":[["1a7b6e4f.d22a82"]]},{"id":"e17ade0b.4db618","type":"function","z":"6d64c863.e19eb","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":600,"wires":[["58dae435.ff90f4"]]},{"id":"ce4638d2.af4df8","type":"function","z":"6d64c863.e19eb","name":"multiply","func":"msg.payload=flow.get(\"pillBL\")*flow.get(\"pillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1000,"y":700,"wires":[["eab5691d.7578f"]]},{"id":"eab5691d.7578f","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"pillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1170,"y":700,"wires":[["2f7cb616.1fb6aa"]]},{"id":"93450f61.ae818","type":"function","z":"6d64c863.e19eb","name":"multiply","func":"msg.payload=flow.get(\"tillBL\")*flow.get(\"tillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":700,"wires":[["3732d49f.7ba16c"]]},{"id":"3732d49f.7ba16c","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"tillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":700,"wires":[[]]},{"id":"51d5447d.4c59b4","type":"function","z":"6d64c863.e19eb","name":"multiply","func":"msg.payload=flow.get(\"delay\")*flow.get(\"delayunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":1220,"wires":[["6b28a190.69464"]]},{"id":"6b28a190.69464","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"delaytotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":1220,"wires":[["89533f77.98d08"]]},{"id":"5d7e9948.a09398","type":"function","z":"6d64c863.e19eb","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1180,"wires":[["1fb99389.db097c"]]},{"id":"da782069.bff528","type":"link out","z":"6d64c863.e19eb","name":"STOP17.false","links":["4eacab8d.a08b24","392a66ab.ce92ca","ca6d65cf.7ab868","f5c2d96e.65163","7ea310bb.d280b","22e24a79.86ccee","2453d19c.0c83ae","374c66ab.e99aea","cda0f1fa.8a5fe8","50a5e18f.79a3a"],"x":1235,"y":1580,"wires":[]},{"id":"227f1918.e4afd6","type":"function","z":"6d64c863.e19eb","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":3680,"wires":[["c41005b3.a24da"]]},{"id":"5a98791e.df5e88","type":"comment","z":"6d64c863.e19eb","name":"OD mesaurements","info":"","x":790,"y":3600,"wires":[]},{"id":"c3f3a183.181cd8","type":"function","z":"6d64c863.e19eb","name":"255","func":"if (flow.get(\"measBLtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":910,"y":4220,"wires":[["d9d3bf9a.94944","f6bffb9b.ee13b"]]},{"id":"d9d3bf9a.94944","type":"function","z":"6d64c863.e19eb","name":"measBLtotal","func":"msg.delay=flow.get(\"measBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":4280,"wires":[["5e876452.93860c"]]},{"id":"5e876452.93860c","type":"delay","z":"6d64c863.e19eb","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1050,"y":4320,"wires":[["c3f3a183.181cd8"]]},{"id":"75b4b5a4.e6999c","type":"trigger","z":"6d64c863.e19eb","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1350,"y":4240,"wires":[["41ba66b9.f488d","11080edd.47e0b9"]]},{"id":"bb7bd7b2.df6098","type":"comment","z":"6d64c863.e19eb","name":"BL mesaurements","info":"","x":910,"y":4180,"wires":[]},{"id":"f6bffb9b.ee13b","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"delay","timeout":"7","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1180,"y":4200,"wires":[["75b4b5a4.e6999c","abd53b66.e4848"]]},{"id":"74576966.80c6b8","type":"function","z":"6d64c863.e19eb","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":4220,"wires":[["5e876452.93860c","75b4b5a4.e6999c","f6bffb9b.ee13b","c6879a9d.d4e248","3140d417.906f6c"]]},{"id":"ca6d65cf.7ab868","type":"link in","z":"6d64c863.e19eb","name":"->BLmeas","links":["da782069.bff528"],"x":335,"y":4220,"wires":[["74576966.80c6b8"]]},{"id":"11080edd.47e0b9","type":"function","z":"6d64c863.e19eb","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":4220,"wires":[["a900acfe.618d88"]]},{"id":"41ba66b9.f488d","type":"function","z":"6d64c863.e19eb","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":4260,"wires":[["c41005b3.a24da"]]},{"id":"c3bac45e.c94088","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1540,"wires":[["1e5e5174.e974e7"]]},{"id":"1e5e5174.e974e7","type":"link out","z":"6d64c863.e19eb","name":"STOP17.0","links":["2e095916.d201ae","878129cf.17f9a8","c58951a5.56b19","e40402d7.24d8f8","48c11f9d.37dde","7b3e4ac7.65d3e4"],"x":1295,"y":1540,"wires":[]},{"id":"2e095916.d201ae","type":"link in","z":"6d64c863.e19eb","name":"->IT,BL,FAN","links":["1e5e5174.e974e7"],"x":1475,"y":3640,"wires":[["a900acfe.618d88","e40c944c.8b98b","c600bc7c.b3fc"]]},{"id":"4a2f05a2.7af4f4","type":"ui_button","z":"6d64c863.e19eb","name":"02 OD realtime value","group":"4697ebe9.8dd584","order":11,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3380,"wires":[[]]},{"id":"af34a856.c95e7","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.label=msg.payload;\nif (msg.payload>150){\n    msg.background=\"red\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3380,"wires":[["4a2f05a2.7af4f4"]]},{"id":"3838ea4f.1dd18e","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.label=msg.payload;\nif (msg.payload>300){\n    msg.background=\"#44cff1\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3420,"wires":[["adc4c96e.2249e8"]]},{"id":"adc4c96e.2249e8","type":"ui_button","z":"6d64c863.e19eb","name":"03 BL realtime value","group":"4697ebe9.8dd584","order":18,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3420,"wires":[[]]},{"id":"acb6f3d0.9c099","type":"comment","z":"6d64c863.e19eb","name":"Display:","info":"","x":1800,"y":3340,"wires":[]},{"id":"c6879a9d.d4e248","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":3900,"wires":[["222f14ff.a86e4c"]]},{"id":"222f14ff.a86e4c","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=true;\nreturn msg;\n\n","outputs":1,"noerr":0,"x":750,"y":3940,"wires":[["c3f3a183.181cd8","b752cea1.81fcd","47d65527.b93d2c","177de850.697e18"]]},{"id":"c9dc25ff.224f38","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.delay=flow.get(\"delaytotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3860,"wires":[["c6879a9d.d4e248","2883f989.8ed5be","177de850.697e18"]]},{"id":"2883f989.8ed5be","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3880,"wires":[["4fbab06d.b099c"]]},{"id":"6378e04d.8aef2","type":"comment","z":"6d64c863.e19eb","name":"growth delay","info":"","x":770,"y":3820,"wires":[]},{"id":"715a2586.0abf24","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.delay=flow.get(\"tillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4740,"wires":[["e4331c3f.b5e3c"]]},{"id":"e4331c3f.b5e3c","type":"delay","z":"6d64c863.e19eb","name":"part","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4740,"wires":[["32aa91c1.442a4e"]]},{"id":"b752cea1.81fcd","type":"function","z":"6d64c863.e19eb","name":"","func":"if (flow.get(\"pillBLtotal\") === 0 || flow.get(\"tillBLtotal\") === 0){\n    return;\n}\nelse{\n    msg.payload=flow.get(\"intBL\");\n    msg.state=\"ON\";\n    return msg;\n}\n\n\n","outputs":1,"noerr":0,"x":910,"y":4600,"wires":[["715a2586.0abf24","c9de2d35.099898","a65d31ec.fbb17","df4458cf.055f7","e118f434.4282d8"]]},{"id":"32aa91c1.442a4e","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=0;\nmsg.state=\"OFF\";\nreturn msg;\n","outputs":1,"noerr":0,"x":1010,"y":4740,"wires":[["a65d31ec.fbb17","df4458cf.055f7","e118f434.4282d8"]]},{"id":"c9de2d35.099898","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.delay=flow.get(\"pillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4700,"wires":[["b713741b.2b7e9"]]},{"id":"b713741b.2b7e9","type":"delay","z":"6d64c863.e19eb","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4700,"wires":[["b752cea1.81fcd"]]},{"id":"84348a0a.e3884","type":"function","z":"6d64c863.e19eb","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":4620,"wires":[["b713741b.2b7e9","e4331c3f.b5e3c","1383398f.3fd5a6","e118f434.4282d8"]]},{"id":"d6ee80e5.ac153","type":"comment","z":"6d64c863.e19eb","name":"Cycle w sous cycle la: cool pr la blue LED","info":"","x":990,"y":4500,"wires":[]},{"id":"4eacab8d.a08b24","type":"link in","z":"6d64c863.e19eb","name":"->BLcycle","links":["da782069.bff528"],"x":635,"y":4620,"wires":[["84348a0a.e3884"]]},{"id":"a65d31ec.fbb17","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"BLstate","pt":"flow","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":4560,"wires":[[]]},{"id":"239f19a9.2abf36","type":"inject","z":"6d64c863.e19eb","name":"","topic":"","payload":"OFF","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":890,"y":4540,"wires":[["1383398f.3fd5a6"]]},{"id":"810cc17c.5eadb8","type":"function","z":"6d64c863.e19eb","name":"for FAN","func":"if (flow.get(\"FANstate\")===\"ON\"){\n    msg.payload=flow.get(\"intFAN\");\n}\nelse if (flow.get(\"FANstate\")===\"OFF\"){\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":3000,"wires":[["77cf913b.1892"]]},{"id":"878129cf.17f9a8","type":"link in","z":"6d64c863.e19eb","name":"->PID","links":["1e5e5174.e974e7"],"x":455,"y":3140,"wires":[["88895925.5f1428"]]},{"id":"47d710de.6a825","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.label=\"Initialization\";\nmsg.background=\"#f39c12\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1640,"wires":[["f1644db9.7aecb8"]]},{"id":"e950b901.7c2fa","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":200,"y":1600,"wires":[["fd201117.54b888"]]},{"id":"f38478e.0ac6e88","type":"ui_button","z":"6d64c863.e19eb","name":"06 Temp realtime value","group":"4697ebe9.8dd584","order":39,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1970,"y":3460,"wires":[[]]},{"id":"a3aceff4.1a1a5","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.label=msg.payload;\nif (flow.get(\"PIDstate\")>0){\n    msg.background=\"#fdedec\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3460,"wires":[["f38478e.0ac6e88"]]},{"id":"7c9985a7.a65d04","type":"ui_button","z":"6d64c863.e19eb","name":"05 BLstate","group":"4697ebe9.8dd584","order":27,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1470,"y":4600,"wires":[[]]},{"id":"df4458cf.055f7","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.label=msg.state;\nif (msg.label===\"ON\"){\n    msg.background=\"#ebf5fb\";\n}\nelse if (msg.label===\"OFF\"){\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":4600,"wires":[["7c9985a7.a65d04"]]},{"id":"1383398f.3fd5a6","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.state=\"OFF\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":4540,"wires":[["a65d31ec.fbb17","df4458cf.055f7"]]},{"id":"7ccc216.b32936","type":"function","z":"6d64c863.e19eb","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"pillBLtotal\")/1000-(msg.count%(flow.get(\"pillBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":620,"wires":[["843d7715.cfc688"]]},{"id":"3e85566b.8d6ffa","type":"ui_button","z":"6d64c863.e19eb","name":"04 pillBL Cycle counter","group":"4697ebe9.8dd584","order":26,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3330,"y":600,"wires":[[]]},{"id":"2f7cb616.1fb6aa","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=flow.get(\"pillBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":580,"wires":[["843d7715.cfc688","89533f77.98d08"]]},{"id":"1d8cc082.eb9caf","type":"counter","z":"6d64c863.e19eb","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":680,"wires":[["7ccc216.b32936"]]},{"id":"2a04aee9.0bec4a","type":"function","z":"6d64c863.e19eb","name":"","func":"if (flow.get(\"counterpillBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"counterpillBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":640,"wires":[["1d8cc082.eb9caf"]]},{"id":"47d65527.b93d2c","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"counterpillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":4460,"wires":[[]]},{"id":"2a9c61a9.ce0fd6","type":"inject","z":"6d64c863.e19eb","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4480,"wires":[["75f440f2.0d588"]]},{"id":"75f440f2.0d588","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4460,"wires":[["47d65527.b93d2c"]]},{"id":"7ea310bb.d280b","type":"link in","z":"6d64c863.e19eb","name":"->Counter","links":["da782069.bff528"],"x":415,"y":4440,"wires":[["75f440f2.0d588"]]},{"id":"83e0f3c4.0ffdb","type":"inject","z":"6d64c863.e19eb","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"3","x":190,"y":1520,"wires":[["2b3034e2.efb37c"]]},{"id":"a561f8e7.7e049","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":1,"width":"3","height":"1","name":"00 eVOLVER07","label":"<font size =5>eVOLVER07","format":"{{msg.payload}}","layout":"row-center","x":700,"y":60,"wires":[]},{"id":"febd716a.b773b8","type":"link out","z":"6d64c863.e19eb","name":"enabled->","links":["4dea90fc.2f6ab"],"x":955,"y":2080,"wires":[]},{"id":"e40402d7.24d8f8","type":"link in","z":"6d64c863.e19eb","name":"->GL","links":["1e5e5174.e974e7"],"x":255,"y":2120,"wires":[["d53ba9a6.7c0a3","a60c2d3b.4040e8"]]},{"id":"17efb063.90b25","type":"comment","z":"6d64c863.e19eb","name":"01","info":"","x":550,"y":60,"wires":[]},{"id":"b70f6b55.d5f728","type":"comment","z":"6d64c863.e19eb","name":"02 ODmeas","info":"","x":650,"y":180,"wires":[]},{"id":"ed39f0d2.2de98","type":"comment","z":"6d64c863.e19eb","name":"03 BLmeas","info":"","x":670,"y":300,"wires":[]},{"id":"cd9bebe5.e61c1","type":"link in","z":"6d64c863.e19eb","name":"->ARDUINO FAN","links":["7c793a56.0b4f14","77cf913b.1892"],"x":1275,"y":3820,"wires":[["c41005b3.a24da"]]},{"id":"76a575c6.ebab0c","type":"link in","z":"6d64c863.e19eb","name":"->ARDUINO IR","links":["65300dac.45a40c"],"x":1695,"y":3640,"wires":[["e40c944c.8b98b"]]},{"id":"c4a10bc8.bd88d8","type":"link in","z":"6d64c863.e19eb","name":"->ARDUINO BL","links":["e118f434.4282d8","65e1d6a.d3e9728"],"x":1615,"y":3760,"wires":[["a900acfe.618d88"]]},{"id":"e118f434.4282d8","type":"link out","z":"6d64c863.e19eb","name":"BLcycle->BL","links":["c4a10bc8.bd88d8"],"x":1235,"y":4660,"wires":[]},{"id":"77cf913b.1892","type":"link out","z":"6d64c863.e19eb","name":"Fancontrol","links":["cd9bebe5.e61c1"],"x":895,"y":3000,"wires":[]},{"id":"7c793a56.0b4f14","type":"link out","z":"6d64c863.e19eb","name":"Fansetup","links":["cd9bebe5.e61c1"],"x":1735,"y":1060,"wires":[]},{"id":"65300dac.45a40c","type":"link out","z":"6d64c863.e19eb","name":"IRsetup","links":["76a575c6.ebab0c"],"x":1115,"y":180,"wires":[]},{"id":"65e1d6a.d3e9728","type":"link out","z":"6d64c863.e19eb","name":"BLcycle->BL","links":["c4a10bc8.bd88d8"],"x":1135,"y":300,"wires":[]},{"id":"cb35a425.aaf678","type":"link out","z":"6d64c863.e19eb","name":"PIDsetup->","links":["7dd86e49.6de28"],"x":1295,"y":880,"wires":[]},{"id":"7dd86e49.6de28","type":"link in","z":"6d64c863.e19eb","name":"->ARDUINO HEATER","links":["cb35a425.aaf678","adac9125.ca28a8"],"x":1215,"y":3140,"wires":[["1e903fa.e8bec4"]]},{"id":"a60c2d3b.4040e8","type":"link out","z":"6d64c863.e19eb","name":"GRlaunch->","links":["47d4d95c.39d91"],"x":515,"y":2160,"wires":[]},{"id":"47d4d95c.39d91","type":"link in","z":"6d64c863.e19eb","name":"->GL","links":["a60c2d3b.4040e8"],"x":1035,"y":120,"wires":[["e1c842b7.9bc878"]]},{"id":"15f6249b.ff8ad3","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":800,"y":3160,"wires":[["c2a3b232.5d73e8"]]},{"id":"374e107a.08ec1","type":"PID","z":"6d64c863.e19eb","name":"","setpoint":"550","pb":"0","ti":"900","td":0,"integral_default":0.5,"smooth_factor":3,"max_interval":600,"enable":"0","disabled_op":0,"x":1010,"y":3100,"wires":[["20b138e4.b9c91","7492161b.c86158"]]},{"id":"66cbd50c.8e6b64","type":"arduino in","z":"6d64c863.e19eb","name":"TempSensor","pin":"0","state":"ANALOG","arduino":"851a0b68.60bc78","x":750,"y":3120,"wires":[["15f6249b.ff8ad3","95decd9c.4490e8"]]},{"id":"1e903fa.e8bec4","type":"arduino out","z":"6d64c863.e19eb","name":"Heater","pin":"4","state":"OUTPUT","arduino":"851a0b68.60bc78","x":1330,"y":3100,"wires":[]},{"id":"20b138e4.b9c91","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"PIDstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":3060,"wires":[[]]},{"id":"1dbd5332.12a9a5","type":"inject","z":"6d64c863.e19eb","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":"0.3","x":1130,"y":3020,"wires":[["20b138e4.b9c91"]]},{"id":"88895925.5f1428","type":"function","z":"6d64c863.e19eb","name":"","func":"if (msg.payload===true){\n    msg.enable=1;\n}\nif (msg.payload===0){\n    msg.enable=0;\n}\nif (flow.get(\"PID\")===\"OFF\"){\n    msg.enable=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3080,"wires":[["374e107a.08ec1"]]},{"id":"c2a3b232.5d73e8","type":"function","z":"6d64c863.e19eb","name":"setpoint","func":"msg.setpoint=flow.get(\"Temp\");\nreturn msg;","outputs":1,"noerr":0,"x":840,"y":3200,"wires":[["374e107a.08ec1"]]},{"id":"297e30c8.601a6","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":940,"y":980,"wires":[["ff98ac6e.2b52d"]]},{"id":"ff98ac6e.2b52d","type":"function","z":"6d64c863.e19eb","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    msg.payload=0;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1210,"y":960,"wires":[["9e015527.677718"]]},{"id":"7492161b.c86158","type":"function","z":"6d64c863.e19eb","name":"","func":"if (flow.get(\"launched\")===false){\n    return;\n}\nelse if (flow.get(\"launched\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":1170,"y":3100,"wires":[["1e903fa.e8bec4"]]},{"id":"3d05fb48.63981c","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"launched","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1960,"wires":[[]]},{"id":"98930e13.c248","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":800,"wires":[[]]},{"id":"786c763.fc9d208","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"PID","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":860,"wires":[["749ad39f.c3e9c4"]]},{"id":"780da4f1.0d65ac","type":"inject","z":"6d64c863.e19eb","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":250,"y":1960,"wires":[["3d05fb48.63981c"]]},{"id":"22e24a79.86ccee","type":"link in","z":"6d64c863.e19eb","name":"->launched","links":["da782069.bff528"],"x":275,"y":2000,"wires":[["3d05fb48.63981c"]]},{"id":"32016a90.46045e","type":"function","z":"6d64c863.e19eb","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    return msg;\n}\n","outputs":1,"noerr":0,"x":910,"y":940,"wires":[["297e30c8.601a6"]]},{"id":"55ccc7ee.e16128","type":"inject","z":"6d64c863.e19eb","name":"INITIALIZATION","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":290,"y":720,"wires":[["edda5514.11c22"]]},{"id":"edda5514.11c22","type":"function","z":"6d64c863.e19eb","name":"initialization","func":"\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":740,"wires":[["925fcc30.759bb","9d0bc14b.570a5","aef2a837.d1faa","35161706.adb918","35cc95aa.3d463a","6b002418.ffdcd4","56514596.ef411c","8105f29c.5cd4a8","99e6c45.be78bb8"]]},{"id":"a1e59673.c49bd","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=10;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":180,"wires":[["cebff400.c01e3","2c461baa.85289c","42148a69.d3fc2c"]]},{"id":"2c461baa.85289c","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1670,"y":180,"wires":[["94695fda.ba8448","ff29ca74.047ef","b9097f87.0c235"]]},{"id":"42148a69.d3fc2c","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":300,"wires":[["cb903e83.10763","4c89655d.fd98cc"]]},{"id":"4c89655d.fd98cc","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1710,"y":300,"wires":[["7b288210.980194"]]},{"id":"3da5b1e7.117f16","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":520,"wires":[["c0792f87.4b1768","c27bbb4b.179c48"]]},{"id":"c27bbb4b.179c48","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=\"seconds\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":520,"wires":[["fc858059.f64b9"]]},{"id":"925fcc30.759bb","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=1;\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":520,"wires":[["95355d18.6e9d3","2c708c28.d0dbac"]]},{"id":"2c708c28.d0dbac","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":520,"wires":[["737ddc2c.3c9b4c","3da5b1e7.117f16"]]},{"id":"b40f788c.c60ec8","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":1140,"wires":[["63f09a02.f7ae3c","f2a71076.e7e078"]]},{"id":"9d0bc14b.570a5","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":1140,"wires":[["df435604.6d3c8","b40f788c.c60ec8"]]},{"id":"aef2a837.d1faa","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=550;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":840,"wires":[["35a757d8.fb739"]]},{"id":"35161706.adb918","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":880,"wires":[["9e015527.677718"]]},{"id":"f2a71076.e7e078","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":1020,"wires":[["56fec2cb.2f38ac","44f042c3.d03bfc"]]},{"id":"44f042c3.d03bfc","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=100;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":980,"wires":[["4a43b6d7.7e28a","1d30ec61.c6fdd4"]]},{"id":"1d30ec61.c6fdd4","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":800,"wires":[["786c763.fc9d208","fd571df3.9e6f38"]]},{"id":"35cc95aa.3d463a","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":1020,"wires":[["88f6141d.e6757"]]},{"id":"6b002418.ffdcd4","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":420,"wires":[["f202212f.2af068"]]},{"id":"99e6c45.be78bb8","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":300,"wires":[["7a31a639.4bf168"]]},{"id":"8105f29c.5cd4a8","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":180,"wires":[["384b2d5d.a30562","719e33f.cc37fcc"]]},{"id":"56514596.ef411c","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":60,"wires":[["6279c051.4b5a88"]]},{"id":"719e33f.cc37fcc","type":"function","z":"6d64c863.e19eb","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":60,"wires":[["40896cfb.c6c164","a1e59673.c49bd"]]},{"id":"fd18d64b.d9ec88","type":"link in","z":"6d64c863.e19eb","name":"->initialization","links":["7e913dc5.90380c"],"x":375,"y":760,"wires":[["edda5514.11c22"]]},{"id":"56fec2cb.2f38ac","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1480,"y":1060,"wires":[["f2e51c00.f9d25"]]},{"id":"843d7715.cfc688","type":"function","z":"6d64c863.e19eb","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":600,"wires":[["3e85566b.8d6ffa"]]},{"id":"c2e4b84b.e8cc5","type":"inject","z":"6d64c863.e19eb","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":640,"wires":[["2a04aee9.0bec4a"]]},{"id":"368685c7.0ae72a","type":"function","z":"6d64c863.e19eb","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measODtotal\")/1000-(msg.count%(flow.get(\"measODtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":300,"wires":[["fbd3317e.55867"]]},{"id":"18dbbbc7.0dd8e4","type":"ui_button","z":"6d64c863.e19eb","name":"02 ODmeas Cycle counter","group":"4697ebe9.8dd584","order":10,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":280,"wires":[[]]},{"id":"ff29ca74.047ef","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=flow.get(\"measODtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":260,"wires":[["fbd3317e.55867","c630d12b.b6ca9"]]},{"id":"498e26a.8e15058","type":"counter","z":"6d64c863.e19eb","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":360,"wires":[["368685c7.0ae72a"]]},{"id":"bee32ff2.a86178","type":"function","z":"6d64c863.e19eb","name":"","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}if (flow.get(\"countermeasOD\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasOD\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":320,"wires":[["498e26a.8e15058"]]},{"id":"fbd3317e.55867","type":"function","z":"6d64c863.e19eb","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":280,"wires":[["18dbbbc7.0dd8e4"]]},{"id":"475b5519.8e69e4","type":"inject","z":"6d64c863.e19eb","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":320,"wires":[["bee32ff2.a86178"]]},{"id":"198f550.0b84cab","type":"function","z":"6d64c863.e19eb","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measBLtotal\")/1000-(msg.count%(flow.get(\"measBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":460,"wires":[["dbab67d7.d65ea"]]},{"id":"2decd4b2.228dac","type":"ui_button","z":"6d64c863.e19eb","name":"03 BLmeas Cycle counter","group":"4697ebe9.8dd584","order":17,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":440,"wires":[[]]},{"id":"c630d12b.b6ca9","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=flow.get(\"measBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":420,"wires":[["dbab67d7.d65ea","2f7cb616.1fb6aa"]]},{"id":"f1b5a84f.46ed98","type":"counter","z":"6d64c863.e19eb","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":520,"wires":[["198f550.0b84cab"]]},{"id":"b35296a1.2007d8","type":"function","z":"6d64c863.e19eb","name":"","func":"if (flow.get(\"countermeasBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":480,"wires":[["f1b5a84f.46ed98"]]},{"id":"dbab67d7.d65ea","type":"function","z":"6d64c863.e19eb","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":440,"wires":[["2decd4b2.228dac"]]},{"id":"988e8c57.dc4e28","type":"inject","z":"6d64c863.e19eb","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":480,"wires":[["b35296a1.2007d8"]]},{"id":"d0a0a2d8.ed0da","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"countermeasBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1010,"y":4140,"wires":[[]]},{"id":"6c1108d0.2166a8","type":"inject","z":"6d64c863.e19eb","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4160,"wires":[["289adfee.7977c"]]},{"id":"289adfee.7977c","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4140,"wires":[["d0a0a2d8.ed0da"]]},{"id":"2453d19c.0c83ae","type":"link in","z":"6d64c863.e19eb","name":"->Counter","links":["da782069.bff528"],"x":415,"y":4120,"wires":[["289adfee.7977c"]]},{"id":"d1e0834b.cb899","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"countermeasOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3560,"wires":[[]]},{"id":"fc162089.51fb5","type":"inject","z":"6d64c863.e19eb","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":230,"y":3580,"wires":[["7e4f73e8.11eb2c"]]},{"id":"7e4f73e8.11eb2c","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":3560,"wires":[["d1e0834b.cb899"]]},{"id":"374c66ab.e99aea","type":"link in","z":"6d64c863.e19eb","name":"->Counter","links":["da782069.bff528"],"x":255,"y":3540,"wires":[["7e4f73e8.11eb2c"]]},{"id":"abd53b66.e4848","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":4040,"wires":[["d0a0a2d8.ed0da"]]},{"id":"99afc7f7.43cdd","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":900,"wires":[["ea3c8d5f.93e11"]]},{"id":"80dbc903.635818","type":"counter","z":"6d64c863.e19eb","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":980,"wires":[["7ebf31b9.09a428"]]},{"id":"ed6b8a47.270ad8","type":"function","z":"6d64c863.e19eb","name":"","func":"if (flow.get(\"counterlaunch\")===false){\n    return;\n}\nelse if (flow.get(\"counterlaunch\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":940,"wires":[["80dbc903.635818"]]},{"id":"ea3c8d5f.93e11","type":"function","z":"6d64c863.e19eb","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3120,"y":920,"wires":[["8a796fdd.9c699","12c1f1c5.b2a8a6"]]},{"id":"e2906632.1c3a48","type":"inject","z":"6d64c863.e19eb","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":940,"wires":[["ed6b8a47.270ad8"]]},{"id":"8a796fdd.9c699","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":53,"width":"4","height":"1","name":"09 elapsed time","label":"Elapsed time: ","format":"{{msg.payload}}","layout":"row-left","x":3280,"y":940,"wires":[]},{"id":"7ebf31b9.09a428","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=msg.count;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":940,"wires":[["ea3c8d5f.93e11"]]},{"id":"fd3c7ff.7092d","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"counterlaunch","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":2880,"wires":[[]]},{"id":"b874416c.34ddd8","type":"inject","z":"6d64c863.e19eb","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":270,"y":2900,"wires":[["ab1644b4.592c78"]]},{"id":"ab1644b4.592c78","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":2880,"wires":[["fd3c7ff.7092d"]]},{"id":"cda0f1fa.8a5fe8","type":"link in","z":"6d64c863.e19eb","name":"->Counter","links":["da782069.bff528"],"x":295,"y":2860,"wires":[["ab1644b4.592c78"]]},{"id":"5a366b75.6bf134","type":"function","z":"6d64c863.e19eb","name":"","func":"if (msg.count>=flow.get(\"delaytotal\")/1000){\n    msg.payload=0;\n}\nelse {\n    msg.payload=flow.get(\"delaytotal\")/1000-(msg.count%(flow.get(\"delaytotal\")/1000));\n\n}\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":780,"wires":[["353ff404.f51f64"]]},{"id":"8b2312aa.f4a6d","type":"ui_button","z":"6d64c863.e19eb","name":"08 growthdelay Cycle counter","group":"4697ebe9.8dd584","order":50,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3350,"y":760,"wires":[[]]},{"id":"89533f77.98d08","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=flow.get(\"delaytotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":740,"wires":[["353ff404.f51f64","99afc7f7.43cdd"]]},{"id":"b6a16dcf.b661d","type":"counter","z":"6d64c863.e19eb","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":840,"wires":[["5a366b75.6bf134"]]},{"id":"f1ac504d.a902d8","type":"function","z":"6d64c863.e19eb","name":"","func":"if (flow.get(\"delaytotal\")===0){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===false){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":800,"wires":[["b6a16dcf.b661d"]]},{"id":"353ff404.f51f64","type":"function","z":"6d64c863.e19eb","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":760,"wires":[["8b2312aa.f4a6d"]]},{"id":"7b718e9e.68ef38","type":"inject","z":"6d64c863.e19eb","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":800,"wires":[["f1ac504d.a902d8"]]},{"id":"4fbab06d.b099c","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"counterdelay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1040,"y":3840,"wires":[[]]},{"id":"27a1846d.b32a8c","type":"inject","z":"6d64c863.e19eb","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":430,"y":3860,"wires":[["9138f4a7.9e63a"]]},{"id":"9138f4a7.9e63a","type":"function","z":"6d64c863.e19eb","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":3840,"wires":[["4fbab06d.b099c","177de850.697e18"]]},{"id":"50a5e18f.79a3a","type":"link in","z":"6d64c863.e19eb","name":"->Counter","links":["da782069.bff528"],"x":455,"y":3820,"wires":[["9138f4a7.9e63a"]]},{"id":"ee445b8.632b928","type":"ui_text","z":"6d64c863.e19eb","group":"4697ebe9.8dd584","order":51,"width":"2","height":"1","name":"08 growth delay status","label":"","format":"{{msg.payload}}","layout":"row-center","x":1110,"y":3960,"wires":[]},{"id":"177de850.697e18","type":"function","z":"6d64c863.e19eb","name":"","func":"if (msg.payload===false){\n    msg.payload=\"delay status\";\n}\nif (msg.payload===\"delay\"){\n    msg.payload=\"ongoing\";\n}\nelse if (msg.payload===true){\n    msg.payload=\"over\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3960,"wires":[["ee445b8.632b928"]]},{"id":"268a6304.69cdbc","type":"function","z":"6d64c863.e19eb","name":"reset","func":"msg.reset=true;\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2410,"y":540,"wires":[["498e26a.8e15058","1d8cc082.eb9caf","b6a16dcf.b661d","80dbc903.635818"]]},{"id":"b9097f87.0c235","type":"delay","z":"6d64c863.e19eb","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":2240,"y":520,"wires":[["268a6304.69cdbc"]]},{"id":"12c1f1c5.b2a8a6","type":"change","z":"6d64c863.e19eb","name":"","rules":[{"t":"set","p":"elapsed","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3290,"y":900,"wires":[[]]},{"id":"1b7d3e03.22c78a","type":"function","z":"6d64c863.e19eb","name":"elapsed","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=\"Elapsed time \"+flow.get(\"elapsed\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":1660,"wires":[["e72b30b8.3b781"]]},{"id":"e72b30b8.3b781","type":"file","z":"6d64c863.e19eb","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1270,"y":1660,"wires":[[]]},{"id":"c868a63d.e71b18","type":"comment","z":"6d64c863.e19eb","name":"BOUGZY DEPLOY","info":"","x":2590,"y":80,"wires":[]},{"id":"a6a6bb7e.f9d778","type":"arduino out","z":"1602201.072f66","name":"GL17","pin":"3","state":"OUTPUT","arduino":"a823be3e.85f85","x":1130,"y":60,"wires":[]},{"id":"ff9b0eec.55077","type":"arduino out","z":"1602201.072f66","name":"YL17","pin":"2","state":"OUTPUT","arduino":"a823be3e.85f85","x":1550,"y":60,"wires":[]},{"id":"9a667b31.d16a2","type":"ui_slider","z":"1602201.072f66","name":"05 intensity:","label":"intensity:","tooltip":"","group":"884c551b.71bce8","order":30,"width":"7","height":"1","passthru":true,"outs":"end","topic":"","min":0,"max":"255","step":"1","x":1170,"y":420,"wires":[["20ed52eb.91d6fe","b2097ecf.2ffb88"]]},{"id":"edfd574a.df24f8","type":"ui_numeric","z":"1602201.072f66","name":"06 and set to 480","label":"and set to","tooltip":"","group":"884c551b.71bce8","order":37,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"1025","step":"1","x":1030,"y":840,"wires":[["d2d2a5dc.1b13d8"]]},{"id":"b98f96cc.708e58","type":"ui_switch","z":"1602201.072f66","name":"01 GL17","label":"","tooltip":"","group":"884c551b.71bce8","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"green","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"green","x":1000,"y":60,"wires":[["a6a6bb7e.f9d778"]]},{"id":"6f76fdad.c421b4","type":"ui_switch","z":"1602201.072f66","name":"01 YL17","label":"","tooltip":"","group":"884c551b.71bce8","order":4,"width":"1","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#e2c43c","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"#e2c43c","x":1420,"y":60,"wires":[["ff9b0eec.55077"]]},{"id":"2fdb81f1.036b56","type":"ui_switch","z":"1602201.072f66","name":"02 IR17","label":"","tooltip":"","group":"884c551b.71bce8","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"red","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1000,"y":180,"wires":[["dc643804.86ffa8"]]},{"id":"6a9b38cf.064678","type":"ui_switch","z":"1602201.072f66","name":"03 BL17","label":"","tooltip":"","group":"884c551b.71bce8","order":12,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#44cff1","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1020,"y":300,"wires":[["b2097ecf.2ffb88"]]},{"id":"3354d724.ce36a","type":"ui_switch","z":"1602201.072f66","name":"07 FAN","label":"","tooltip":"","group":"884c551b.71bce8","order":40,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"toys","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1620,"y":1080,"wires":[["61a3010f.96c9a8"]]},{"id":"40919457.5f9894","type":"ui_switch","z":"1602201.072f66","name":"06 T01 PID","label":"","tooltip":"","group":"884c551b.71bce8","order":33,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"enable","style":"","onvalue":"1","onvalueType":"num","onicon":"hot_tub","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1030,"y":880,"wires":[["d19f4e04.db5f58","a3395824.dd1098"]]},{"id":"7d2b8916.c64208","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":25,"width":"2","height":"1","name":"04 spacer","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1770,"y":520,"wires":[]},{"id":"166adc13.eb591c","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":46,"width":"7","height":"1","name":"07 last spacer","label":"(produces sound: fine).","format":"{{msg.payload}}","layout":"row-spread","x":1960,"y":1020,"wires":[]},{"id":"1cd0fc8c.a4fc9b","type":"ui_numeric","z":"1602201.072f66","name":"02 every 5","label":"every","tooltip":"","group":"884c551b.71bce8","order":7,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1450,"y":220,"wires":[["520d4838.757628"]]},{"id":"fe07feb4.5a3d1","type":"ui_dropdown","z":"1602201.072f66","name":"02 minutes","label":"","tooltip":"","place":"Select option","group":"884c551b.71bce8","order":8,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1690,"y":220,"wires":[["e4577afc.a95618"]]},{"id":"9bf44e1c.652ba","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"measODtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2280,"y":320,"wires":[["2af9f939.f4e96e"]]},{"id":"158f1c6f.4484ac","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":9,"width":"7","height":"1","name":"02 (takes 5 seconds)","label":"(takes 5 seconds).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":180,"wires":[]},{"id":"736a7a4a.0a4974","type":"ui_numeric","z":"1602201.072f66","name":"03 every 5","label":"every","tooltip":"","group":"884c551b.71bce8","order":14,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1490,"y":340,"wires":[["fa1f4a9a.cda188"]]},{"id":"8534a1f5.580018","type":"ui_dropdown","z":"1602201.072f66","name":"03 minutes","label":"","tooltip":"","place":"Select option","group":"884c551b.71bce8","order":15,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1730,"y":340,"wires":[["4c9f19da.63186"]]},{"id":"fa1f4a9a.cda188","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"measBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":380,"wires":[["2274411e.6e55d6"]]},{"id":"7e0be129.8fef88","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"measBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1940,"y":380,"wires":[["2274411e.6e55d6"]]},{"id":"354c3e8d.2a140a","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":16,"width":"7","height":"1","name":"03 (takes 5 seconds)","label":"(takes 5 secs, max illum., shifted timing).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":300,"wires":[]},{"id":"20ed52eb.91d6fe","type":"ui_numeric","z":"1602201.072f66","name":"05 at 255","label":"at","tooltip":"","group":"884c551b.71bce8","order":29,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":"1","x":1020,"y":420,"wires":[["3207e920.4e864e","9a667b31.d16a2"]]},{"id":"3207e920.4e864e","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"intBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":460,"wires":[[]]},{"id":"880837fa.3c249","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":6,"width":"3","height":"1","name":"02 Meaure OD:","label":"Measure OD:","format":"{{msg.payload}}","layout":"row-spread","x":1280,"y":180,"wires":[]},{"id":"a55fcd4c.35141","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":13,"width":"3","height":"1","name":"03 Meaure BL:","label":"Measure BL:","format":"{{msg.payload}}","layout":"row-spread","x":1340,"y":300,"wires":[]},{"id":"185b0750.ef2841","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":28,"width":"4","height":"1","name":"05 spacer1","label":"","format":"{{msg.payload}}","layout":"row-spread","x":710,"y":420,"wires":[]},{"id":"1c6e9969.dcab37","type":"ui_button","z":"1602201.072f66","name":"05 OK","group":"884c551b.71bce8","order":31,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1350,"y":420,"wires":[["6a9b38cf.064678"]]},{"id":"9bd75d0e.e5c3d8","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":19,"width":"1","height":"1","name":"04 - -","label":"","format":"{{msg.payload}}","layout":"row-spread","x":630,"y":520,"wires":[]},{"id":"c3d69b65.574c1","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":20,"width":"3","height":"1","name":"04 Illuminate BL:","label":"Illuminate BL:","format":"{{msg.payload}}","layout":"row-spread","x":670,"y":560,"wires":[]},{"id":"f374fa0.1a20288","type":"ui_numeric","z":"1602201.072f66","name":"04 every 1","label":"every","tooltip":"","group":"884c551b.71bce8","order":21,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":850,"y":560,"wires":[["9724cb0f.a9ac6"]]},{"id":"767483b2.a0a3d4","type":"ui_dropdown","z":"1602201.072f66","name":"04 hour","label":"","tooltip":"","place":"Select option","group":"884c551b.71bce8","order":22,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1080,"y":560,"wires":[["30156594.35b902"]]},{"id":"9724cb0f.a9ac6","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"pillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":600,"wires":[["d3bf2612.ddfe68"]]},{"id":"f6cc0e96.5ff178","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"pillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":640,"wires":[["d3bf2612.ddfe68"]]},{"id":"c686df5e.bdae88","type":"ui_numeric","z":"1602201.072f66","name":"04 for 5","label":"for","tooltip":"","group":"884c551b.71bce8","order":23,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1340,"y":560,"wires":[["eb5e3230.7cfe28"]]},{"id":"23ad1486.61dd0c","type":"ui_dropdown","z":"1602201.072f66","name":"04 minutes","label":"","tooltip":"","place":"Select option","group":"884c551b.71bce8","order":24,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1590,"y":560,"wires":[["fa21a847.6a3ee"]]},{"id":"eb5e3230.7cfe28","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"tillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":600,"wires":[["3416bd95.ffb62a"]]},{"id":"93a13a4.8af15c8","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"tillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1610,"y":640,"wires":[["3416bd95.ffb62a"]]},{"id":"14e25f1f.6affe1","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":32,"width":"5","height":"1","name":"05 spacer2","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1530,"y":420,"wires":[]},{"id":"1b3b9f27.9e1d71","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":35,"width":"2","height":"1","name":"06 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1850,"y":860,"wires":[]},{"id":"3648046f.260804","type":"ui_switch","z":"1602201.072f66","name":"06 act.switch","label":"","tooltip":"","group":"884c551b.71bce8","order":36,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"hot_tub","oncolor":"red","offvalue":"OFF","offvalueType":"str","officon":"ac_unit","offcolor":"grey","x":1520,"y":880,"wires":[["ba499063.5885b8"]]},{"id":"e9c05d7.7423e2","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":38,"width":"6","height":"1","name":"06 Volts.","label":"Volts.","format":"{{msg.payload}}","layout":"row-spread","x":1220,"y":840,"wires":[]},{"id":"80306b2e.550d9","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":34,"width":"4","height":"1","name":"06 Temperature control:","label":"Temperature control:","format":"{{msg.payload}}","layout":"row-spread","x":2050,"y":860,"wires":[]},{"id":"86ed5a11.7496","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":41,"width":"4","height":"1","name":"07 Fan:","label":"Fan:","format":"{{msg.payload}}","layout":"row-spread","x":700,"y":1060,"wires":[]},{"id":"a056de75.e320b","type":"ui_switch","z":"1602201.072f66","name":"07 enable switch","label":"","tooltip":"","group":"884c551b.71bce8","order":43,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"toys","oncolor":"green","offvalue":"OFF","offvalueType":"str","officon":"radio_button_unchecked","offcolor":"grey","x":910,"y":1060,"wires":[["2a0e9062.5c0458","d558c28.1b77f4"]]},{"id":"d558c28.1b77f4","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":42,"width":"2","height":"1","name":"07 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1230,"y":1060,"wires":[]},{"id":"2a0e9062.5c0458","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"FANstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1020,"wires":[[]]},{"id":"d761c114.858ed8","type":"ui_numeric","z":"1602201.072f66","name":"07 and set to 100","label":"and set to","tooltip":"","group":"884c551b.71bce8","order":44,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"255","step":"1","x":1590,"y":1020,"wires":[["e0164f05.a16af","61a3010f.96c9a8"]]},{"id":"e0164f05.a16af","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"intFAN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1780,"y":1000,"wires":[[]]},{"id":"c33fb888.a6a818","type":"ui_button","z":"1602201.072f66","name":"07 OK","group":"884c551b.71bce8","order":45,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1430,"y":1100,"wires":[["3354d724.ce36a"]]},{"id":"5dacb28f.f5d954","type":"ui_numeric","z":"1602201.072f66","name":"08 add delay","label":"Add growing delay of","tooltip":"","group":"884c551b.71bce8","order":47,"width":"6","height":"1","passthru":true,"topic":"setpoint","format":"{{value}}","min":"0","max":"100","step":"1","x":870,"y":1180,"wires":[["c13b4d07.aaf7f8"]]},{"id":"a41c4e64.dcfd28","type":"ui_dropdown","z":"1602201.072f66","name":"08 hour","label":"","tooltip":"","place":"Select option","group":"884c551b.71bce8","order":48,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1060,"y":1180,"wires":[["14aa4918.d90faf"]]},{"id":"c13b4d07.aaf7f8","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"delay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":1220,"wires":[["3eb20317.6676e4"]]},{"id":"6d416430.bdf65c","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"delayunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1090,"y":1220,"wires":[["3eb20317.6676e4"]]},{"id":"2f31c3da.a9c3f4","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":49,"width":"8","height":"1","name":"08 finalspacer","label":"(during which no BL measure will be made).","format":"{{msg.payload}}","layout":"row-spread","x":1240,"y":1140,"wires":[]},{"id":"ebfe46ee.29f6a8","type":"ui_text_input","z":"1602201.072f66","name":"09 DETAILS","label":"DETAILS:","tooltip":"","group":"884c551b.71bce8","order":52,"width":"16","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1110,"y":2560,"wires":[["d10f2af1.7f86d8"]]},{"id":"caac8cca.c768b8","type":"ui_text_input","z":"1602201.072f66","name":"10 Nickname","label":"Nickname:","tooltip":"","group":"884c551b.71bce8","order":54,"width":"4","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1120,"y":2600,"wires":[["88307ab1.958c98"]]},{"id":"75490171.8b8f9","type":"inject","z":"1602201.072f66","name":"","topic":"","payload":"eV08_","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":830,"y":2600,"wires":[["9f3aaf6c.9edb78"]]},{"id":"92417bd1.ceef98","type":"ui_button","z":"1602201.072f66","name":"10 LAUNCH EXP","group":"884c551b.71bce8","order":55,"width":"10","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"bool","topic":"","x":310,"y":1900,"wires":[["1fefef9a.89966","eefdcc30.ca1a4","f2ca73a8.2f2af","95421d57.2bc59","4a67cbbd.e40d4c","714c7a73.e15d5c","a87a32a5.84a48"]]},{"id":"5a6ec531.6d28e4","type":"function","z":"1602201.072f66","name":"","func":"msg.label=\"Running...\";\nmsg.background=\"#FFC300\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1600,"wires":[["92417bd1.ceef98"]]},{"id":"d4f041c2.f7f748","type":"function","z":"1602201.072f66","name":"","func":"msg.label=\"LAUNCH EXPERIMENT\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1520,"wires":[["92417bd1.ceef98"]]},{"id":"171f880e.364a3","type":"inject","z":"1602201.072f66","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":210,"y":1640,"wires":[["95421d57.2bc59"]]},{"id":"85970465.e8667","type":"ui_button","z":"1602201.072f66","name":"10 RESET","group":"884c551b.71bce8","order":57,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"reset","payloadType":"str","topic":"","x":1610,"y":1480,"wires":[["77762b88.a530ec","5cbe652a.cd9c9c","5185b3d7.7021c4","eac63b74.bd1508"]]},{"id":"77762b88.a530ec","type":"function","z":"1602201.072f66","name":"","func":"msg.label=\"Reseting...\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1520,"wires":[["85970465.e8667","68223f82.ea992"]]},{"id":"c0d8d5cb.5e3398","type":"function","z":"1602201.072f66","name":"","func":"msg.label=\"RESET\";\nmsg.background=\"grey\";\nreturn msg;","outputs":1,"noerr":0,"x":1750,"y":1660,"wires":[["85970465.e8667"]]},{"id":"4c949c2.a26d464","type":"inject","z":"1602201.072f66","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1630,"y":1680,"wires":[["c0d8d5cb.5e3398"]]},{"id":"68223f82.ea992","type":"delay","z":"1602201.072f66","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1560,"wires":[["c4355f2f.b47a58"]]},{"id":"c4355f2f.b47a58","type":"function","z":"1602201.072f66","name":"","func":"msg.label=\"SUCCESS\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1600,"wires":[["1c627285.882055","85970465.e8667"]]},{"id":"1c627285.882055","type":"delay","z":"1602201.072f66","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1640,"wires":[["c0d8d5cb.5e3398"]]},{"id":"d1ab50e7.f6bba8","type":"function","z":"1602201.072f66","name":"","func":"msg.label=\"Halted experiment\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1560,"wires":[["92417bd1.ceef98"]]},{"id":"f15270e6.bc38b8","type":"ui_button","z":"1602201.072f66","name":"10 STOP","group":"884c551b.71bce8","order":56,"width":"4","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"str","topic":"","x":860,"y":1540,"wires":[["9ccd7f23.5901a"]]},{"id":"8d7a1efe.491b9","type":"function","z":"1602201.072f66","name":"","func":"msg.label=\"Stopped.\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":1580,"wires":[["f15270e6.bc38b8"]]},{"id":"11a40bbf.5c1714","type":"inject","z":"1602201.072f66","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":710,"y":1500,"wires":[["2e912b0.fca1f56"]]},{"id":"2e912b0.fca1f56","type":"function","z":"1602201.072f66","name":"","func":"msg.label=\"STOP\";\nmsg.background=\"#cb4335\";\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1500,"wires":[["f15270e6.bc38b8"]]},{"id":"121690a3.3c5497","type":"comment","z":"1602201.072f66","name":"Launch TODOs","info":"Turn off and disable all above switches\ndisable the launch button\nCA MARCHE PAS","x":840,"y":2080,"wires":[]},{"id":"a5b3ba49.87a66","type":"comment","z":"1602201.072f66","name":"Reset TODOs","info":"Enable anew all above switches\nReset all default values in exp menu\nBlink LEDs as indicators ;)","x":1440,"y":1660,"wires":[]},{"id":"40c35d9.dba65a4","type":"comment","z":"1602201.072f66","name":"Stop TODOs","info":"","x":850,"y":1420,"wires":[]},{"id":"30e1d63a.b79c62","type":"simpletime","z":"1602201.072f66","name":"","x":910,"y":2360,"wires":[["1e804b78.332fad","90819afd.a4dd7"]]},{"id":"1e804b78.332fad","type":"function","z":"1602201.072f66","name":"20190417_172653_nickname/...","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\")+\"/\"+msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1180,"y":2360,"wires":[["2d0f3825.dd01f","ddbced08.c15d48","11cd497a.72e42f","f8ed4b45.4170f"]]},{"id":"11cd497a.72e42f","type":"join","z":"1602201.072f66","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2400,"wires":[["14391ef7.6b73e9"]]},{"id":"2d0f3825.dd01f","type":"join","z":"1602201.072f66","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2440,"wires":[["21abfd06.809292"]]},{"id":"ddbced08.c15d48","type":"join","z":"1602201.072f66","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2480,"wires":[["8921846f.9e2fa8"]]},{"id":"a074366d.159a9","type":"function","z":"1602201.072f66","name":"/home/lab513/Desktop/eVOLVER_data/","func":"if (msg.payload){\n    msg.payload=\"/home/lab513/Desktop/eVOLVER_data/\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":2320,"wires":[["11cd497a.72e42f","2d0f3825.dd01f","ddbced08.c15d48","f8ed4b45.4170f"]]},{"id":"3d9fb422.1e563c","type":"delay","z":"1602201.072f66","name":"","pauseType":"delay","timeout":"0.2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2360,"wires":[["30e1d63a.b79c62"]]},{"id":"e291b3d8.c154a8","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"nickname","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":2600,"wires":[[]]},{"id":"97a8e7a9.36e93","type":"function","z":"1602201.072f66","name":".IR","func":"if (msg.payload){\n    msg.payload=\".IR\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2400,"wires":[["11cd497a.72e42f"]]},{"id":"194d3cbc.bbcb23","type":"function","z":"1602201.072f66","name":".BL","func":"if (msg.payload){\n    msg.payload=\".BL\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2440,"wires":[["2d0f3825.dd01f"]]},{"id":"ca120c22.3c522","type":"function","z":"1602201.072f66","name":".Temp","func":"if (msg.payload){\n    msg.payload=\".Temp\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2480,"wires":[["ddbced08.c15d48"]]},{"id":"1fefef9a.89966","type":"function","z":"1602201.072f66","name":"Creates Files:","func":"\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":2280,"wires":[["3d9fb422.1e563c","3936aeae.0aef8a","80e8ef9.c846f9","47616e85.0298f8","d060ae38.bd574","66e00e6c.0c69d8","de2afde3.609018"]]},{"id":"47616e85.0298f8","type":"delay","z":"1602201.072f66","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2400,"wires":[["97a8e7a9.36e93"]]},{"id":"d060ae38.bd574","type":"delay","z":"1602201.072f66","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2440,"wires":[["194d3cbc.bbcb23"]]},{"id":"66e00e6c.0c69d8","type":"delay","z":"1602201.072f66","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2480,"wires":[["ca120c22.3c522"]]},{"id":"3936aeae.0aef8a","type":"function","z":"1602201.072f66","name":"reset","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":2280,"wires":[["14391ef7.6b73e9","21abfd06.809292","8921846f.9e2fa8","65ef3aef.4ae0fc"]]},{"id":"80e8ef9.c846f9","type":"delay","z":"1602201.072f66","name":"","pauseType":"delay","timeout":"0.1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2320,"wires":[["a074366d.159a9"]]},{"id":"88307ab1.958c98","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2600,"wires":[["e291b3d8.c154a8"]]},{"id":"14391ef7.6b73e9","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"FileNameIR","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1500,"y":2400,"wires":[[]]},{"id":"21abfd06.809292","type":"change","z":"1602201.072f66","name":"FileNameBL","rules":[{"t":"set","p":"FileNameBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1470,"y":2440,"wires":[[]]},{"id":"8921846f.9e2fa8","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"FileNameTemp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":2480,"wires":[[]]},{"id":"f8ed4b45.4170f","type":"join","z":"1602201.072f66","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2520,"wires":[["65ef3aef.4ae0fc"]]},{"id":"37b6c781.b61d68","type":"function","z":"1602201.072f66","name":".readme","func":"if (msg.payload){\n    msg.payload=\".readme\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":2520,"wires":[["f8ed4b45.4170f"]]},{"id":"de2afde3.609018","type":"delay","z":"1602201.072f66","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2520,"wires":[["37b6c781.b61d68"]]},{"id":"65ef3aef.4ae0fc","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"FileNameReadme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":2520,"wires":[[]]},{"id":"9c05b75b.72465","type":"inject","z":"1602201.072f66","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":810,"y":2560,"wires":[["aabcc3d0.c589f"]]},{"id":"d10f2af1.7f86d8","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2560,"wires":[["e9d4e288.ede92"]]},{"id":"e9d4e288.ede92","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"readme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1480,"y":2560,"wires":[[]]},{"id":"90819afd.a4dd7","type":"function","z":"1602201.072f66","name":"displayname","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":2640,"wires":[["e3471761.193e1"]]},{"id":"e3471761.193e1","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":2,"width":"15","height":"1","name":"00 Running","label":"Running:","format":"{{msg.payload}}","layout":"row-left","x":1310,"y":2640,"wires":[]},{"id":"cf8c8f20.9906a","type":"inject","z":"1602201.072f66","name":"","topic":"","payload":"-","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":890,"y":2640,"wires":[["a552e6f9.30a0e8"]]},{"id":"9ccd7f23.5901a","type":"function","z":"1602201.072f66","name":"STOP ACTIONS:","func":"msg.payload=false;\nreturn msg;\n\n//this function allows the fact that the\n//reset button first does the stop action\n//and then resets the buttons etc","outputs":1,"noerr":0,"x":1050,"y":1560,"wires":[["d1ab50e7.f6bba8","8d7a1efe.491b9","ac4b4ab0.4b9c08","126d7e52.abfbe2","ce52cf1e.bd355"]]},{"id":"5cbe652a.cd9c9c","type":"delay","z":"1602201.072f66","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":300,"y":1480,"wires":[["d4f041c2.f7f748"]]},{"id":"5185b3d7.7021c4","type":"delay","z":"1602201.072f66","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":850,"y":1460,"wires":[["2e912b0.fca1f56"]]},{"id":"a0b91a30.919828","type":"function","z":"1602201.072f66","name":"disable/enable switches","func":"if (msg.payload===\"launch\"){\n    msg.enabled=false;\n}\nelse if (msg.payload===0){\n    msg.enabled=true;\n}\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":2080,"wires":[[]]},{"id":"a552e6f9.30a0e8","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=\"-\";\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":2640,"wires":[["e3471761.193e1"]]},{"id":"eefdcc30.ca1a4","type":"delay","z":"1602201.072f66","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":560,"y":2800,"wires":[["8dd5ed4a.0ca86","2cbcd590.cfefda","7bb66672.07eae8","6ccf0647.9de668","35770315.35361c","3f329ccb.d8c15c","4d62b8bd.861268","2ac07d6a.dde8c2"]]},{"id":"55cbbb8.8dcb844","type":"file","z":"1602201.072f66","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3420,"wires":[[]]},{"id":"fe330703.0038","type":"file","z":"1602201.072f66","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3380,"wires":[[]]},{"id":"20600ee2.cb528a","type":"file","z":"1602201.072f66","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3460,"wires":[[]]},{"id":"dd28f5e4.4fb12","type":"switch","z":"1602201.072f66","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3420,"wires":[["e28c7dc8.4a08b8"]]},{"id":"2cbcd590.cfefda","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"StoreInFile","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":3340,"wires":[[]]},{"id":"6066de4b.2e9788","type":"comment","z":"1602201.072f66","name":"Allows storage in the filenames","info":"","x":1050,"y":3340,"wires":[]},{"id":"2b3685d9.6b9982","type":"arduino in","z":"1602201.072f66","name":"Blue Light Sensor","pin":"2","state":"ANALOG","arduino":"49bde5be.616064","x":790,"y":3420,"wires":[["998911d0.7045d8"]]},{"id":"eff8bbd7.892e5","type":"arduino in","z":"1602201.072f66","name":"IR Sensor","pin":"1","state":"ANALOG","arduino":"49bde5be.616064","x":760,"y":3380,"wires":[["c675830.8992b8"]]},{"id":"998911d0.7045d8","type":"delay","z":"1602201.072f66","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3420,"wires":[["dd28f5e4.4fb12","8c5c04ba.a54a"]]},{"id":"c675830.8992b8","type":"delay","z":"1602201.072f66","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3380,"wires":[["c75e32a4.5bdc2","832b7ffc.895008"]]},{"id":"cbece940.0caf6","type":"delay","z":"1602201.072f66","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3460,"wires":[["989668f6.e6eef8","a4a5cfbd.dd1678"]]},{"id":"c75e32a4.5bdc2","type":"switch","z":"1602201.072f66","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3380,"wires":[["4bbe0ae9.7424ac"]]},{"id":"989668f6.e6eef8","type":"switch","z":"1602201.072f66","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3460,"wires":[["8e86c279.70a928"]]},{"id":"a56030d0.b206e","type":"inject","z":"1602201.072f66","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":330,"y":3340,"wires":[["b8ec49fd.6d3d28"]]},{"id":"8dd5ed4a.0ca86","type":"function","z":"1602201.072f66","name":"readme","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=flow.get(\"readme\")+\"\\n\"+\n    \"measOD \"+flow.get(\"measOD\").toString()+\"\\n\"+\n    \"measODunits \"+flow.get(\"measODunits\").toString()+\"\\n\"+\n    \"measODtotal \"+flow.get(\"measODtotal\").toString()+\"\\n\"+\n    \n    \"measBL \"+flow.get(\"measBL\").toString()+\"\\n\"+\n    \"measBLunits \"+flow.get(\"measBLunits\").toString()+\"\\n\"+\n    \"measBLtotal \"+flow.get(\"measBLtotal\").toString()+\"\\n\"+\n    \n    \"intBL \"+flow.get(\"intBL\").toString()+\"\\n\"+\n    \n    \"pillBL \"+flow.get(\"pillBL\").toString()+\"\\n\"+\n    \"pillBLunits \"+flow.get(\"pillBLunits\").toString()+\"\\n\"+\n    \"pillBLtotal \"+flow.get(\"pillBLtotal\").toString()+\"\\n\"+\n    \n    \"tillBL \"+flow.get(\"tillBL\").toString()+\"\\n\"+\n    \"tillBLunits \"+flow.get(\"tillBLunits\").toString()+\"\\n\"+\n    \"tillBLtotal \"+flow.get(\"tillBLtotal\").toString()+\"\\n\"+\n    \n    \"Temp \"+flow.get(\"Temp\").toString()+\"\\n\"+\n    \"PID \"+flow.get(\"PID\").toString()+\"\\n\"+\n    \n    \"FANstate \"+flow.get(\"FANstate\").toString()+\"\\n\"+\n    \"intFAN \"+flow.get(\"intFAN\").toString()+\"\\n\"+\n    \n    \"delay \"+flow.get(\"delay\").toString()+\"\\n\"+\n    \"delayunits \"+flow.get(\"delayunits\").toString()+\"\\n\"+\n    \"delaytotal \"+flow.get(\"delaytotal\").toString()+\"\\n\";\n\n//msg.myepoch=msg.myepoch.toString();\n//msg.payload=msg.payload+\";\"+msg.myepoch;\n\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":2940,"wires":[["7f789828.403ec"]]},{"id":"7f789828.403ec","type":"file","z":"1602201.072f66","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":890,"y":2940,"wires":[[]]},{"id":"4bbe0ae9.7424ac","type":"simpletime","z":"1602201.072f66","name":"","x":1330,"y":3380,"wires":[["e043a666.22a0d"]]},{"id":"e043a666.22a0d","type":"function","z":"1602201.072f66","name":"IR+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameIR\");\nreturn msg;","outputs":1,"noerr":0,"x":1480,"y":3380,"wires":[["fe330703.0038"]]},{"id":"e28c7dc8.4a08b8","type":"simpletime","z":"1602201.072f66","name":"","x":1330,"y":3420,"wires":[["13322be9.2bcd94"]]},{"id":"13322be9.2bcd94","type":"function","z":"1602201.072f66","name":"BL+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameBL\");\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":3420,"wires":[["55cbbb8.8dcb844"]]},{"id":"8e86c279.70a928","type":"simpletime","z":"1602201.072f66","name":"","x":1330,"y":3460,"wires":[["722854b5.4aba44"]]},{"id":"722854b5.4aba44","type":"function","z":"1602201.072f66","name":"Temp+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameTemp\");\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":3460,"wires":[["20600ee2.cb528a"]]},{"id":"aabcc3d0.c589f","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2560,"wires":[["ebfe46ee.29f6a8"]]},{"id":"9f3aaf6c.9edb78","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=\"eV08_\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2600,"wires":[["caac8cca.c768b8"]]},{"id":"1de9aac8.dfb53d","type":"function","z":"1602201.072f66","name":"(reset)","func":"\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":2600,"wires":[["aabcc3d0.c589f","9f3aaf6c.9edb78","a552e6f9.30a0e8"]]},{"id":"f2ca73a8.2f2af","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=\"launch\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":2040,"wires":[["a0b91a30.919828"]]},{"id":"b8ec49fd.6d3d28","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3340,"wires":[["2cbcd590.cfefda"]]},{"id":"7bb66672.07eae8","type":"function","z":"1602201.072f66","name":"255","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":750,"y":3640,"wires":[["bf175173.c853b","790255c4.fe2a04"]]},{"id":"bf175173.c853b","type":"function","z":"1602201.072f66","name":"measODtotal","func":"msg.delay=flow.get(\"measODtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":780,"y":3680,"wires":[["78b68ffc.296a9"]]},{"id":"78b68ffc.296a9","type":"delay","z":"1602201.072f66","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":3720,"wires":[["7bb66672.07eae8"]]},{"id":"f21a2e28.2c81c","type":"function","z":"1602201.072f66","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3640,"wires":[["78b68ffc.296a9","790255c4.fe2a04"]]},{"id":"790255c4.fe2a04","type":"trigger","z":"1602201.072f66","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1050,"y":3640,"wires":[["73c305b4.1447b4","564c7298.699d54","22798770.6dcc38"]]},{"id":"73c305b4.1447b4","type":"function","z":"1602201.072f66","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":3640,"wires":[["7eb977eb.d8ae28"]]},{"id":"564c7298.699d54","type":"arduino out","z":"1602201.072f66","name":"IR17","pin":"5","state":"PWM","arduino":"49bde5be.616064","x":1810,"y":3680,"wires":[]},{"id":"82663aa9.c1581","type":"switch","z":"1602201.072f66","name":"lance ventilo","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"gt","v":"160","vt":"num"},{"t":"btwn","v":"0","vt":"num","v2":"160","v2t":"num"}],"checkall":"false","repair":false,"outputs":3,"x":1470,"y":3820,"wires":[["e0f5d526.fa68"],["e0f5d526.fa68"],["bdfe87a7.80b598","49b657e8.860228"]],"info":"Coz the ventilo wont start if the value is \nbelow 160.\nTo have a value below 160, we need to start w\na bigger value and THEN get down in value"},{"id":"e0f5d526.fa68","type":"arduino out","z":"1602201.072f66","name":"Fan","pin":"9","state":"PWM","arduino":"49bde5be.616064","x":1810,"y":3800,"wires":[]},{"id":"49b657e8.860228","type":"function","z":"1602201.072f66","name":"200","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":1630,"y":3840,"wires":[["e0f5d526.fa68"]]},{"id":"bdfe87a7.80b598","type":"delay","z":"1602201.072f66","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":3880,"wires":[["e0f5d526.fa68"]]},{"id":"7eb977eb.d8ae28","type":"arduino out","z":"1602201.072f66","name":"BL17","pin":"6","state":"PWM","arduino":"49bde5be.616064","x":1810,"y":3740,"wires":[]},{"id":"eac63b74.bd1508","type":"link out","z":"1602201.072f66","name":"RESET17->","links":["7297d731.71567","adf09ae.df1cde8","95c85e3a.dcd498","440a2d2c.698774","3742e0c8.bcab08","b9fa99c.24e2868","9b3e4119.84a748","948bae02.d8b248"],"x":1755,"y":1480,"wires":[]},{"id":"7297d731.71567","type":"link in","z":"1602201.072f66","name":"->Nickname&details","links":["eac63b74.bd1508"],"x":595,"y":2560,"wires":[["1de9aac8.dfb53d"]]},{"id":"419f7f1d.c3d31","type":"link in","z":"1602201.072f66","name":"->StoreInFile","links":["ac4b4ab0.4b9c08"],"x":375,"y":3300,"wires":[["b8ec49fd.6d3d28"]]},{"id":"c77946dc.ebaef","type":"link in","z":"1602201.072f66","name":"->ODmeas","links":["ac4b4ab0.4b9c08"],"x":395,"y":3640,"wires":[["f21a2e28.2c81c"]]},{"id":"adf09ae.df1cde8","type":"link in","z":"1602201.072f66","name":"->stop","links":["eac63b74.bd1508"],"x":875,"y":1620,"wires":[["9ccd7f23.5901a"]]},{"id":"e4577afc.a95618","type":"function","z":"1602201.072f66","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1740,"y":260,"wires":[["f072d504.dd231"]]},{"id":"520d4838.757628","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"measOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":260,"wires":[["c1b60f4f.b81cd8"]]},{"id":"f072d504.dd231","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"measODunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":260,"wires":[["c1b60f4f.b81cd8"]]},{"id":"c1b60f4f.b81cd8","type":"function","z":"1602201.072f66","name":"multiply","func":"msg.payload=flow.get(\"measOD\")*flow.get(\"measODunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2100,"y":260,"wires":[["9bf44e1c.652ba"]]},{"id":"4c9f19da.63186","type":"function","z":"1602201.072f66","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1760,"y":380,"wires":[["7e0be129.8fef88"]]},{"id":"2274411e.6e55d6","type":"function","z":"1602201.072f66","name":"multiply","func":"msg.payload=flow.get(\"measBL\")*flow.get(\"measBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2120,"y":380,"wires":[["c3676ca0.2d8e5"]]},{"id":"c3676ca0.2d8e5","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"measBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":380,"wires":[["73b93f40.d71cd"]]},{"id":"30156594.35b902","type":"function","z":"1602201.072f66","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1100,"y":600,"wires":[["f6cc0e96.5ff178"]]},{"id":"fa21a847.6a3ee","type":"function","z":"1602201.072f66","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":600,"wires":[["93a13a4.8af15c8"]]},{"id":"d3bf2612.ddfe68","type":"function","z":"1602201.072f66","name":"multiply","func":"msg.payload=flow.get(\"pillBL\")*flow.get(\"pillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1000,"y":700,"wires":[["fcb2732b.cb1188"]]},{"id":"fcb2732b.cb1188","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"pillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1170,"y":700,"wires":[["640acf76.b39398"]]},{"id":"3416bd95.ffb62a","type":"function","z":"1602201.072f66","name":"multiply","func":"msg.payload=flow.get(\"tillBL\")*flow.get(\"tillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":700,"wires":[["c0d5333f.3b1e18"]]},{"id":"c0d5333f.3b1e18","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"tillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":700,"wires":[[]]},{"id":"3eb20317.6676e4","type":"function","z":"1602201.072f66","name":"multiply","func":"msg.payload=flow.get(\"delay\")*flow.get(\"delayunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":1220,"wires":[["de135cad.f35e9"]]},{"id":"de135cad.f35e9","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"delaytotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":1220,"wires":[["71f9b34b.4074f4"]]},{"id":"14aa4918.d90faf","type":"function","z":"1602201.072f66","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1180,"wires":[["6d416430.bdf65c"]]},{"id":"ac4b4ab0.4b9c08","type":"link out","z":"1602201.072f66","name":"STOP17.false","links":["e119b08c.d43d3","c77946dc.ebaef","a769421a.9d78c8","419f7f1d.c3d31","b53e2444.558ff8","8cf5be3.f80f6c","4928bf14.d69b08","420160bc.1af0d8","d8f33273.a948c","e494989b.83ff9"],"x":1235,"y":1580,"wires":[]},{"id":"22798770.6dcc38","type":"function","z":"1602201.072f66","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":3680,"wires":[["82663aa9.c1581"]]},{"id":"cd8398f7.e00b7","type":"comment","z":"1602201.072f66","name":"OD mesaurements","info":"","x":790,"y":3600,"wires":[]},{"id":"f1fe452a.e3bb48","type":"function","z":"1602201.072f66","name":"255","func":"if (flow.get(\"measBLtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":910,"y":4220,"wires":[["9db9869e.a81c3","63bdb8cd.9c7c68"]]},{"id":"9db9869e.a81c3","type":"function","z":"1602201.072f66","name":"measBLtotal","func":"msg.delay=flow.get(\"measBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":4280,"wires":[["16af65dd.589f52"]]},{"id":"16af65dd.589f52","type":"delay","z":"1602201.072f66","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1050,"y":4320,"wires":[["f1fe452a.e3bb48"]]},{"id":"2c81a460.317394","type":"trigger","z":"1602201.072f66","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1350,"y":4240,"wires":[["58d9198e.339a7","2e0431d8.58c44e"]]},{"id":"4059f0da.8429c","type":"comment","z":"1602201.072f66","name":"BL mesaurements","info":"","x":910,"y":4180,"wires":[]},{"id":"63bdb8cd.9c7c68","type":"delay","z":"1602201.072f66","name":"","pauseType":"delay","timeout":"7","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1180,"y":4200,"wires":[["2c81a460.317394","8eb71bd1.5952e"]]},{"id":"6f6f61f1.05e4","type":"function","z":"1602201.072f66","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":4220,"wires":[["16af65dd.589f52","2c81a460.317394","63bdb8cd.9c7c68","521749b1.9c885","bdfe87a7.80b598"]]},{"id":"a769421a.9d78c8","type":"link in","z":"1602201.072f66","name":"->BLmeas","links":["ac4b4ab0.4b9c08"],"x":335,"y":4220,"wires":[["6f6f61f1.05e4"]]},{"id":"2e0431d8.58c44e","type":"function","z":"1602201.072f66","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":4220,"wires":[["7eb977eb.d8ae28"]]},{"id":"58d9198e.339a7","type":"function","z":"1602201.072f66","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":4260,"wires":[["82663aa9.c1581"]]},{"id":"126d7e52.abfbe2","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1540,"wires":[["7cd1f13f.00e27"]]},{"id":"7cd1f13f.00e27","type":"link out","z":"1602201.072f66","name":"STOP17.0","links":["4ec7c333.bd8aec","3208f049.ad10f8","c58951a5.56b19","4f617efb.1054b","48c11f9d.37dde","7b3e4ac7.65d3e4"],"x":1295,"y":1540,"wires":[]},{"id":"4ec7c333.bd8aec","type":"link in","z":"1602201.072f66","name":"->IT,BL,FAN","links":["7cd1f13f.00e27"],"x":1475,"y":3640,"wires":[["7eb977eb.d8ae28","564c7298.699d54","e0f5d526.fa68"]]},{"id":"3345df7c.871d4","type":"ui_button","z":"1602201.072f66","name":"02 OD realtime value","group":"884c551b.71bce8","order":11,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3380,"wires":[[]]},{"id":"832b7ffc.895008","type":"function","z":"1602201.072f66","name":"","func":"msg.label=msg.payload;\nif (msg.payload>150){\n    msg.background=\"red\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3380,"wires":[["3345df7c.871d4"]]},{"id":"8c5c04ba.a54a","type":"function","z":"1602201.072f66","name":"","func":"msg.label=msg.payload;\nif (msg.payload>300){\n    msg.background=\"#44cff1\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3420,"wires":[["af81409.445424"]]},{"id":"af81409.445424","type":"ui_button","z":"1602201.072f66","name":"03 BL realtime value","group":"884c551b.71bce8","order":18,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3420,"wires":[[]]},{"id":"617f1f16.6ebf48","type":"comment","z":"1602201.072f66","name":"Display:","info":"","x":1800,"y":3340,"wires":[]},{"id":"521749b1.9c885","type":"delay","z":"1602201.072f66","name":"","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":3900,"wires":[["6736adc0.ac1634"]]},{"id":"6736adc0.ac1634","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=true;\nreturn msg;\n\n","outputs":1,"noerr":0,"x":750,"y":3940,"wires":[["f1fe452a.e3bb48","dd717b82.9452c","6dcdebce.c7fa34","7182cb4c.6e9fac"]]},{"id":"6ccf0647.9de668","type":"function","z":"1602201.072f66","name":"","func":"msg.delay=flow.get(\"delaytotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3860,"wires":[["521749b1.9c885","e85cad4e.c572f","7182cb4c.6e9fac"]]},{"id":"e85cad4e.c572f","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3880,"wires":[["4251bb50.ace14c"]]},{"id":"16cbaea3.a2ea69","type":"comment","z":"1602201.072f66","name":"growth delay","info":"","x":770,"y":3820,"wires":[]},{"id":"d3615344.268b28","type":"function","z":"1602201.072f66","name":"","func":"msg.delay=flow.get(\"tillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4740,"wires":[["e137f38.f77fc1"]]},{"id":"e137f38.f77fc1","type":"delay","z":"1602201.072f66","name":"part","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4740,"wires":[["e8d7b7a0.fbe61"]]},{"id":"dd717b82.9452c","type":"function","z":"1602201.072f66","name":"","func":"if (flow.get(\"pillBLtotal\") === 0 || flow.get(\"tillBLtotal\") === 0){\n    return;\n}\nelse{\n    msg.payload=flow.get(\"intBL\");\n    msg.state=\"ON\";\n    return msg;\n}\n\n\n","outputs":1,"noerr":0,"x":910,"y":4600,"wires":[["d3615344.268b28","d7fb9e32.fe19d","d0f47c69.44e51","4b9f9ee.194bce","fea99847.6c9898"]]},{"id":"e8d7b7a0.fbe61","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=0;\nmsg.state=\"OFF\";\nreturn msg;\n","outputs":1,"noerr":0,"x":1010,"y":4740,"wires":[["d0f47c69.44e51","4b9f9ee.194bce","fea99847.6c9898"]]},{"id":"d7fb9e32.fe19d","type":"function","z":"1602201.072f66","name":"","func":"msg.delay=flow.get(\"pillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4700,"wires":[["e167a6c0.e513a8"]]},{"id":"e167a6c0.e513a8","type":"delay","z":"1602201.072f66","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4700,"wires":[["dd717b82.9452c"]]},{"id":"afe5debe.1d2c9","type":"function","z":"1602201.072f66","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":4620,"wires":[["e167a6c0.e513a8","e137f38.f77fc1","eef3a487.861a68","fea99847.6c9898"]]},{"id":"2fc6933b.7401d4","type":"comment","z":"1602201.072f66","name":"Cycle w sous cycle la: cool pr la blue LED","info":"","x":990,"y":4500,"wires":[]},{"id":"e119b08c.d43d3","type":"link in","z":"1602201.072f66","name":"->BLcycle","links":["ac4b4ab0.4b9c08"],"x":635,"y":4620,"wires":[["afe5debe.1d2c9"]]},{"id":"d0f47c69.44e51","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"BLstate","pt":"flow","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":4560,"wires":[[]]},{"id":"c8680e6b.eb0578","type":"inject","z":"1602201.072f66","name":"","topic":"","payload":"OFF","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":890,"y":4540,"wires":[["eef3a487.861a68"]]},{"id":"35770315.35361c","type":"function","z":"1602201.072f66","name":"for FAN","func":"if (flow.get(\"FANstate\")===\"ON\"){\n    msg.payload=flow.get(\"intFAN\");\n}\nelse if (flow.get(\"FANstate\")===\"OFF\"){\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":3000,"wires":[["86add002.2c2638"]]},{"id":"3208f049.ad10f8","type":"link in","z":"1602201.072f66","name":"->PID","links":["7cd1f13f.00e27"],"x":455,"y":3140,"wires":[["3f329ccb.d8c15c"]]},{"id":"95421d57.2bc59","type":"function","z":"1602201.072f66","name":"","func":"msg.label=\"Initialization\";\nmsg.background=\"#f39c12\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1640,"wires":[["92417bd1.ceef98"]]},{"id":"4a67cbbd.e40d4c","type":"delay","z":"1602201.072f66","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":200,"y":1600,"wires":[["5a6ec531.6d28e4"]]},{"id":"9b1eb73d.a53fb8","type":"ui_button","z":"1602201.072f66","name":"06 Temp realtime value","group":"884c551b.71bce8","order":39,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1970,"y":3460,"wires":[[]]},{"id":"a4a5cfbd.dd1678","type":"function","z":"1602201.072f66","name":"","func":"msg.label=msg.payload;\nif (flow.get(\"PIDstate\")>0){\n    msg.background=\"#fdedec\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3460,"wires":[["9b1eb73d.a53fb8"]]},{"id":"869ef11a.c33228","type":"ui_button","z":"1602201.072f66","name":"05 BLstate","group":"884c551b.71bce8","order":27,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1470,"y":4600,"wires":[[]]},{"id":"4b9f9ee.194bce","type":"function","z":"1602201.072f66","name":"","func":"msg.label=msg.state;\nif (msg.label===\"ON\"){\n    msg.background=\"#ebf5fb\";\n}\nelse if (msg.label===\"OFF\"){\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":4600,"wires":[["869ef11a.c33228"]]},{"id":"eef3a487.861a68","type":"function","z":"1602201.072f66","name":"","func":"msg.state=\"OFF\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":4540,"wires":[["d0f47c69.44e51","4b9f9ee.194bce"]]},{"id":"e30d9218.2261f8","type":"function","z":"1602201.072f66","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"pillBLtotal\")/1000-(msg.count%(flow.get(\"pillBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":620,"wires":[["b32a60c.4e86b2"]]},{"id":"31cc2a46.d36eae","type":"ui_button","z":"1602201.072f66","name":"04 pillBL Cycle counter","group":"884c551b.71bce8","order":26,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3330,"y":600,"wires":[[]]},{"id":"640acf76.b39398","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=flow.get(\"pillBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":580,"wires":[["b32a60c.4e86b2","71f9b34b.4074f4"]]},{"id":"474cb206.ae944c","type":"counter","z":"1602201.072f66","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":680,"wires":[["e30d9218.2261f8"]]},{"id":"a87eb466.d5c8d","type":"function","z":"1602201.072f66","name":"","func":"if (flow.get(\"counterpillBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"counterpillBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":640,"wires":[["474cb206.ae944c"]]},{"id":"6dcdebce.c7fa34","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"counterpillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":4460,"wires":[[]]},{"id":"d997b26d.914aa8","type":"inject","z":"1602201.072f66","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4480,"wires":[["54acf976.dd9ed"]]},{"id":"54acf976.dd9ed","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4460,"wires":[["6dcdebce.c7fa34"]]},{"id":"b53e2444.558ff8","type":"link in","z":"1602201.072f66","name":"->Counter","links":["ac4b4ab0.4b9c08"],"x":415,"y":4440,"wires":[["54acf976.dd9ed"]]},{"id":"1ed2c4d2.d8e6d3","type":"inject","z":"1602201.072f66","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"3","x":190,"y":1520,"wires":[["d4f041c2.f7f748"]]},{"id":"7e3c203b.e7f258","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":1,"width":"3","height":"1","name":"00 eVOLVER08","label":"<font size =5>eVOLVER08","format":"{{msg.payload}}","layout":"row-center","x":700,"y":60,"wires":[]},{"id":"ed384086.a13b7","type":"link out","z":"1602201.072f66","name":"enabled->","links":["4dea90fc.2f6ab"],"x":955,"y":2080,"wires":[]},{"id":"4f617efb.1054b","type":"link in","z":"1602201.072f66","name":"->GL","links":["7cd1f13f.00e27"],"x":255,"y":2120,"wires":[["a0b91a30.919828","714c7a73.e15d5c"]]},{"id":"1d043681.2852d9","type":"comment","z":"1602201.072f66","name":"01","info":"","x":550,"y":60,"wires":[]},{"id":"12e59d30.607fd3","type":"comment","z":"1602201.072f66","name":"02 ODmeas","info":"","x":650,"y":180,"wires":[]},{"id":"34bbed10.292362","type":"comment","z":"1602201.072f66","name":"03 BLmeas","info":"","x":670,"y":300,"wires":[]},{"id":"784a0908.206a68","type":"link in","z":"1602201.072f66","name":"->ARDUINO FAN","links":["61a3010f.96c9a8","86add002.2c2638"],"x":1275,"y":3820,"wires":[["82663aa9.c1581"]]},{"id":"ac429018.3b55e8","type":"link in","z":"1602201.072f66","name":"->ARDUINO IR","links":["dc643804.86ffa8"],"x":1695,"y":3640,"wires":[["564c7298.699d54"]]},{"id":"b70afb7d.2e7b","type":"link in","z":"1602201.072f66","name":"->ARDUINO BL","links":["fea99847.6c9898","b2097ecf.2ffb88"],"x":1615,"y":3760,"wires":[["7eb977eb.d8ae28"]]},{"id":"fea99847.6c9898","type":"link out","z":"1602201.072f66","name":"BLcycle->BL","links":["b70afb7d.2e7b"],"x":1235,"y":4660,"wires":[]},{"id":"86add002.2c2638","type":"link out","z":"1602201.072f66","name":"Fancontrol","links":["784a0908.206a68"],"x":895,"y":3000,"wires":[]},{"id":"61a3010f.96c9a8","type":"link out","z":"1602201.072f66","name":"Fansetup","links":["784a0908.206a68"],"x":1735,"y":1060,"wires":[]},{"id":"dc643804.86ffa8","type":"link out","z":"1602201.072f66","name":"IRsetup","links":["ac429018.3b55e8"],"x":1115,"y":180,"wires":[]},{"id":"b2097ecf.2ffb88","type":"link out","z":"1602201.072f66","name":"BLcycle->BL","links":["b70afb7d.2e7b"],"x":1135,"y":300,"wires":[]},{"id":"d19f4e04.db5f58","type":"link out","z":"1602201.072f66","name":"PIDsetup->","links":["38666e1c.0824a2"],"x":1295,"y":880,"wires":[]},{"id":"38666e1c.0824a2","type":"link in","z":"1602201.072f66","name":"->ARDUINO HEATER","links":["d19f4e04.db5f58","adac9125.ca28a8"],"x":1215,"y":3140,"wires":[["ec9ed936.85721"]]},{"id":"714c7a73.e15d5c","type":"link out","z":"1602201.072f66","name":"GRlaunch->","links":["4a1bf247.dcd6d4"],"x":515,"y":2160,"wires":[]},{"id":"4a1bf247.dcd6d4","type":"link in","z":"1602201.072f66","name":"->GL","links":["714c7a73.e15d5c"],"x":1035,"y":120,"wires":[["a6a6bb7e.f9d778"]]},{"id":"132db8c6.78614f","type":"delay","z":"1602201.072f66","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":800,"y":3160,"wires":[["b6356742.6c1c28"]]},{"id":"a95f9ec6.12e19","type":"PID","z":"1602201.072f66","name":"","setpoint":"550","pb":"0","ti":"900","td":0,"integral_default":0.5,"smooth_factor":3,"max_interval":600,"enable":"0","disabled_op":0,"x":1010,"y":3100,"wires":[["c57a458f.b807c8","1d38b350.93fff5"]]},{"id":"f75b4cab.61dc","type":"arduino in","z":"1602201.072f66","name":"TempSensor","pin":"0","state":"ANALOG","arduino":"49bde5be.616064","x":750,"y":3120,"wires":[["132db8c6.78614f","cbece940.0caf6"]]},{"id":"ec9ed936.85721","type":"arduino out","z":"1602201.072f66","name":"Heater","pin":"4","state":"OUTPUT","arduino":"49bde5be.616064","x":1330,"y":3100,"wires":[]},{"id":"c57a458f.b807c8","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"PIDstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":3060,"wires":[[]]},{"id":"2e680fae.3cf288","type":"inject","z":"1602201.072f66","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":"0.3","x":1130,"y":3020,"wires":[["c57a458f.b807c8"]]},{"id":"3f329ccb.d8c15c","type":"function","z":"1602201.072f66","name":"","func":"if (msg.payload===true){\n    msg.enable=1;\n}\nif (msg.payload===0){\n    msg.enable=0;\n}\nif (flow.get(\"PID\")===\"OFF\"){\n    msg.enable=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3080,"wires":[["a95f9ec6.12e19"]]},{"id":"b6356742.6c1c28","type":"function","z":"1602201.072f66","name":"setpoint","func":"msg.setpoint=flow.get(\"Temp\");\nreturn msg;","outputs":1,"noerr":0,"x":840,"y":3200,"wires":[["a95f9ec6.12e19"]]},{"id":"9ddc297d.91002","type":"delay","z":"1602201.072f66","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":940,"y":980,"wires":[["862821e8.cda2f"]]},{"id":"862821e8.cda2f","type":"function","z":"1602201.072f66","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    msg.payload=0;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1210,"y":960,"wires":[["40919457.5f9894"]]},{"id":"1d38b350.93fff5","type":"function","z":"1602201.072f66","name":"","func":"if (flow.get(\"launched\")===false){\n    return;\n}\nelse if (flow.get(\"launched\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":1170,"y":3100,"wires":[["ec9ed936.85721"]]},{"id":"a87a32a5.84a48","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"launched","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1960,"wires":[[]]},{"id":"d2d2a5dc.1b13d8","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":800,"wires":[[]]},{"id":"ba499063.5885b8","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"PID","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":860,"wires":[["1b3b9f27.9e1d71"]]},{"id":"11d7dca6.3bf45b","type":"inject","z":"1602201.072f66","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":250,"y":1960,"wires":[["a87a32a5.84a48"]]},{"id":"8cf5be3.f80f6c","type":"link in","z":"1602201.072f66","name":"->launched","links":["ac4b4ab0.4b9c08"],"x":275,"y":2000,"wires":[["a87a32a5.84a48"]]},{"id":"a3395824.dd1098","type":"function","z":"1602201.072f66","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    return msg;\n}\n","outputs":1,"noerr":0,"x":910,"y":940,"wires":[["9ddc297d.91002"]]},{"id":"6a1c5977.1d91d8","type":"inject","z":"1602201.072f66","name":"INITIALIZATION","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":290,"y":720,"wires":[["d8b79f01.76fcd8"]]},{"id":"d8b79f01.76fcd8","type":"function","z":"1602201.072f66","name":"initialization","func":"\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":740,"wires":[["4c5555ac.d1c9b4","7a7a18e3.1f0d98","e64f4745.42bc98","fc6bb17b.514d38","1c4a830a.9ebe55","f2356040.beb0b8","7ebc3153.98ce48","405f44ff.e49b84","51088ce0.324974"]]},{"id":"3b19767.025100a","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=10;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":180,"wires":[["1cd0fc8c.a4fc9b","abe540c0.e1eae","7e69b0aa.2e15e"]]},{"id":"abe540c0.e1eae","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1670,"y":180,"wires":[["fe07feb4.5a3d1","2af9f939.f4e96e","c0d8de6.e3d592"]]},{"id":"7e69b0aa.2e15e","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":300,"wires":[["736a7a4a.0a4974","31bd2ac6.adb6ee"]]},{"id":"31bd2ac6.adb6ee","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1710,"y":300,"wires":[["8534a1f5.580018"]]},{"id":"21009440.8c1144","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":520,"wires":[["c686df5e.bdae88","8b6e9d0e.f982b"]]},{"id":"8b6e9d0e.f982b","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=\"seconds\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":520,"wires":[["23ad1486.61dd0c"]]},{"id":"4c5555ac.d1c9b4","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=1;\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":520,"wires":[["f374fa0.1a20288","4a67f718.6a8718"]]},{"id":"4a67f718.6a8718","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":520,"wires":[["767483b2.a0a3d4","21009440.8c1144"]]},{"id":"352bdb44.b26dac","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":1140,"wires":[["a41c4e64.dcfd28","7af5bd4d.f4a82c"]]},{"id":"7a7a18e3.1f0d98","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":1140,"wires":[["5dacb28f.f5d954","352bdb44.b26dac"]]},{"id":"e64f4745.42bc98","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=550;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":840,"wires":[["edfd574a.df24f8"]]},{"id":"fc6bb17b.514d38","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":880,"wires":[["40919457.5f9894"]]},{"id":"7af5bd4d.f4a82c","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":1020,"wires":[["93bea00d.703eb8","c0410882.06eae"]]},{"id":"c0410882.06eae","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=100;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":980,"wires":[["d761c114.858ed8","9bdd48a1.36238"]]},{"id":"9bdd48a1.36238","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":800,"wires":[["ba499063.5885b8","3648046f.260804"]]},{"id":"1c4a830a.9ebe55","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":1020,"wires":[["a056de75.e320b"]]},{"id":"f2356040.beb0b8","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":420,"wires":[["20ed52eb.91d6fe"]]},{"id":"51088ce0.324974","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":300,"wires":[["6a9b38cf.064678"]]},{"id":"405f44ff.e49b84","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":180,"wires":[["2fdb81f1.036b56","bf76617f.46d838"]]},{"id":"7ebc3153.98ce48","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":60,"wires":[["b98f96cc.708e58"]]},{"id":"bf76617f.46d838","type":"function","z":"1602201.072f66","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":60,"wires":[["6f76fdad.c421b4","3b19767.025100a"]]},{"id":"95c85e3a.dcd498","type":"link in","z":"1602201.072f66","name":"->initialization","links":["eac63b74.bd1508"],"x":375,"y":760,"wires":[["d8b79f01.76fcd8"]]},{"id":"93bea00d.703eb8","type":"delay","z":"1602201.072f66","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1480,"y":1060,"wires":[["3354d724.ce36a"]]},{"id":"b32a60c.4e86b2","type":"function","z":"1602201.072f66","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":600,"wires":[["31cc2a46.d36eae"]]},{"id":"7f8b508c.35bba","type":"inject","z":"1602201.072f66","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":640,"wires":[["a87eb466.d5c8d"]]},{"id":"6ae0b5dc.ff469c","type":"function","z":"1602201.072f66","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measODtotal\")/1000-(msg.count%(flow.get(\"measODtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":300,"wires":[["3109648.bbe3f9c"]]},{"id":"25db3fc1.1ffa8","type":"ui_button","z":"1602201.072f66","name":"02 ODmeas Cycle counter","group":"884c551b.71bce8","order":10,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":280,"wires":[[]]},{"id":"2af9f939.f4e96e","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=flow.get(\"measODtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":260,"wires":[["3109648.bbe3f9c","73b93f40.d71cd"]]},{"id":"63cbc920.097288","type":"counter","z":"1602201.072f66","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":360,"wires":[["6ae0b5dc.ff469c"]]},{"id":"d50aadf4.5fc47","type":"function","z":"1602201.072f66","name":"","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}if (flow.get(\"countermeasOD\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasOD\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":320,"wires":[["63cbc920.097288"]]},{"id":"3109648.bbe3f9c","type":"function","z":"1602201.072f66","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":280,"wires":[["25db3fc1.1ffa8"]]},{"id":"48509ae8.fe58e4","type":"inject","z":"1602201.072f66","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":320,"wires":[["d50aadf4.5fc47"]]},{"id":"a0dadc5e.ece258","type":"function","z":"1602201.072f66","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measBLtotal\")/1000-(msg.count%(flow.get(\"measBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":460,"wires":[["91b75660.33b9f"]]},{"id":"e51b6ba8.ac5518","type":"ui_button","z":"1602201.072f66","name":"03 BLmeas Cycle counter","group":"884c551b.71bce8","order":17,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":440,"wires":[[]]},{"id":"73b93f40.d71cd","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=flow.get(\"measBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":420,"wires":[["91b75660.33b9f","640acf76.b39398"]]},{"id":"a4906576.7956f","type":"counter","z":"1602201.072f66","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":520,"wires":[["a0dadc5e.ece258"]]},{"id":"10f124d6.b68f6b","type":"function","z":"1602201.072f66","name":"","func":"if (flow.get(\"countermeasBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":480,"wires":[["a4906576.7956f"]]},{"id":"91b75660.33b9f","type":"function","z":"1602201.072f66","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":440,"wires":[["e51b6ba8.ac5518"]]},{"id":"53e032e9.9e15a4","type":"inject","z":"1602201.072f66","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":480,"wires":[["10f124d6.b68f6b"]]},{"id":"d443186f.6a6a58","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"countermeasBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1010,"y":4140,"wires":[[]]},{"id":"f4dafb11.519538","type":"inject","z":"1602201.072f66","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4160,"wires":[["d5b8bbb9.25655"]]},{"id":"d5b8bbb9.25655","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4140,"wires":[["d443186f.6a6a58"]]},{"id":"4928bf14.d69b08","type":"link in","z":"1602201.072f66","name":"->Counter","links":["ac4b4ab0.4b9c08"],"x":415,"y":4120,"wires":[["d5b8bbb9.25655"]]},{"id":"4d62b8bd.861268","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"countermeasOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3560,"wires":[[]]},{"id":"1838fc9d.b3890b","type":"inject","z":"1602201.072f66","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":230,"y":3580,"wires":[["2b0e890d.9919f6"]]},{"id":"2b0e890d.9919f6","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":3560,"wires":[["4d62b8bd.861268"]]},{"id":"420160bc.1af0d8","type":"link in","z":"1602201.072f66","name":"->Counter","links":["ac4b4ab0.4b9c08"],"x":255,"y":3540,"wires":[["2b0e890d.9919f6"]]},{"id":"8eb71bd1.5952e","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":4040,"wires":[["d443186f.6a6a58"]]},{"id":"ad02a2e0.3c305","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":900,"wires":[["f19404ed.8b8f5"]]},{"id":"35a2e55e.0f8852","type":"counter","z":"1602201.072f66","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":980,"wires":[["13f0b0d2.637caf"]]},{"id":"175c62db.5f38b5","type":"function","z":"1602201.072f66","name":"","func":"if (flow.get(\"counterlaunch\")===false){\n    return;\n}\nelse if (flow.get(\"counterlaunch\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":940,"wires":[["35a2e55e.0f8852"]]},{"id":"f19404ed.8b8f5","type":"function","z":"1602201.072f66","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3120,"y":920,"wires":[["f23dc42f.85a7","ceeac765.03075"]]},{"id":"6db8a0af.428c48","type":"inject","z":"1602201.072f66","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":940,"wires":[["175c62db.5f38b5"]]},{"id":"f23dc42f.85a7","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":53,"width":"4","height":"1","name":"09 elapsed time","label":"Elapsed time: ","format":"{{msg.payload}}","layout":"row-left","x":3280,"y":940,"wires":[]},{"id":"13f0b0d2.637caf","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=msg.count;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":940,"wires":[["f19404ed.8b8f5"]]},{"id":"2ac07d6a.dde8c2","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"counterlaunch","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":2880,"wires":[[]]},{"id":"8bfaa6cd.4253b8","type":"inject","z":"1602201.072f66","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":270,"y":2900,"wires":[["9b89f40a.ae9018"]]},{"id":"9b89f40a.ae9018","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":2880,"wires":[["2ac07d6a.dde8c2"]]},{"id":"d8f33273.a948c","type":"link in","z":"1602201.072f66","name":"->Counter","links":["ac4b4ab0.4b9c08"],"x":295,"y":2860,"wires":[["9b89f40a.ae9018"]]},{"id":"2a8ad81e.7ac5e8","type":"function","z":"1602201.072f66","name":"","func":"if (msg.count>=flow.get(\"delaytotal\")/1000){\n    msg.payload=0;\n}\nelse {\n    msg.payload=flow.get(\"delaytotal\")/1000-(msg.count%(flow.get(\"delaytotal\")/1000));\n\n}\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":780,"wires":[["369f07a3.2a0a08"]]},{"id":"8b9a9522.2a891","type":"ui_button","z":"1602201.072f66","name":"08 growthdelay Cycle counter","group":"884c551b.71bce8","order":50,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3350,"y":760,"wires":[[]]},{"id":"71f9b34b.4074f4","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=flow.get(\"delaytotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":740,"wires":[["369f07a3.2a0a08","ad02a2e0.3c305"]]},{"id":"34741adb.0de816","type":"counter","z":"1602201.072f66","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":840,"wires":[["2a8ad81e.7ac5e8"]]},{"id":"1afcb1c8.dff476","type":"function","z":"1602201.072f66","name":"","func":"if (flow.get(\"delaytotal\")===0){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===false){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":800,"wires":[["34741adb.0de816"]]},{"id":"369f07a3.2a0a08","type":"function","z":"1602201.072f66","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":760,"wires":[["8b9a9522.2a891"]]},{"id":"a95b12f4.cfc38","type":"inject","z":"1602201.072f66","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":800,"wires":[["1afcb1c8.dff476"]]},{"id":"4251bb50.ace14c","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"counterdelay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1040,"y":3840,"wires":[[]]},{"id":"1c4b9ddd.0cf882","type":"inject","z":"1602201.072f66","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":430,"y":3860,"wires":[["f452d964.46cb6"]]},{"id":"f452d964.46cb6","type":"function","z":"1602201.072f66","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":3840,"wires":[["4251bb50.ace14c","7182cb4c.6e9fac"]]},{"id":"e494989b.83ff9","type":"link in","z":"1602201.072f66","name":"->Counter","links":["ac4b4ab0.4b9c08"],"x":455,"y":3820,"wires":[["f452d964.46cb6"]]},{"id":"2013db24.dd6a14","type":"ui_text","z":"1602201.072f66","group":"884c551b.71bce8","order":51,"width":"2","height":"1","name":"08 growth delay status","label":"","format":"{{msg.payload}}","layout":"row-center","x":1110,"y":3960,"wires":[]},{"id":"7182cb4c.6e9fac","type":"function","z":"1602201.072f66","name":"","func":"if (msg.payload===false){\n    msg.payload=\"delay status\";\n}\nif (msg.payload===\"delay\"){\n    msg.payload=\"ongoing\";\n}\nelse if (msg.payload===true){\n    msg.payload=\"over\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3960,"wires":[["2013db24.dd6a14"]]},{"id":"e1f84e88.f5d9b","type":"function","z":"1602201.072f66","name":"reset","func":"msg.reset=true;\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2410,"y":540,"wires":[["63cbc920.097288","474cb206.ae944c","34741adb.0de816","35a2e55e.0f8852"]]},{"id":"c0d8de6.e3d592","type":"delay","z":"1602201.072f66","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":2240,"y":520,"wires":[["e1f84e88.f5d9b"]]},{"id":"ceeac765.03075","type":"change","z":"1602201.072f66","name":"","rules":[{"t":"set","p":"elapsed","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3290,"y":900,"wires":[[]]},{"id":"ce52cf1e.bd355","type":"function","z":"1602201.072f66","name":"elapsed","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=\"Elapsed time \"+flow.get(\"elapsed\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":1660,"wires":[["4ac2da3c.ba5ec4"]]},{"id":"4ac2da3c.ba5ec4","type":"file","z":"1602201.072f66","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1270,"y":1660,"wires":[[]]},{"id":"ed0ad552.20a8a","type":"comment","z":"1602201.072f66","name":"BOUGZY DEPLOY","info":"","x":2590,"y":80,"wires":[]},{"id":"846ffb20.32ce78","type":"arduino out","z":"9bc24a99.023758","name":"GL17","pin":"3","state":"OUTPUT","arduino":"f80c1b15.f01b9","x":1130,"y":60,"wires":[]},{"id":"b02fc920.479fa8","type":"arduino out","z":"9bc24a99.023758","name":"YL17","pin":"2","state":"OUTPUT","arduino":"f80c1b15.f01b9","x":1550,"y":60,"wires":[]},{"id":"bac41c37.3f8a18","type":"ui_slider","z":"9bc24a99.023758","name":"05 intensity:","label":"intensity:","tooltip":"","group":"dd4d9a20.f63d98","order":30,"width":"7","height":"1","passthru":true,"outs":"end","topic":"","min":0,"max":"255","step":"1","x":1170,"y":420,"wires":[["b7aaef5d.0a7d8","28c63adb.0f7d7e"]]},{"id":"7ab93e58.903d58","type":"ui_numeric","z":"9bc24a99.023758","name":"06 and set to 480","label":"and set to","tooltip":"","group":"dd4d9a20.f63d98","order":37,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"1025","step":"1","x":1030,"y":840,"wires":[["9db080d9.2758"]]},{"id":"9d2110dd.2a9368","type":"ui_switch","z":"9bc24a99.023758","name":"01 GL17","label":"","tooltip":"","group":"dd4d9a20.f63d98","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"green","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"green","x":1000,"y":60,"wires":[["846ffb20.32ce78"]]},{"id":"2c9a474a.f41bd8","type":"ui_switch","z":"9bc24a99.023758","name":"01 YL17","label":"","tooltip":"","group":"dd4d9a20.f63d98","order":4,"width":"1","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#e2c43c","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"#e2c43c","x":1420,"y":60,"wires":[["b02fc920.479fa8"]]},{"id":"ba492c59.3c55f","type":"ui_switch","z":"9bc24a99.023758","name":"02 IR17","label":"","tooltip":"","group":"dd4d9a20.f63d98","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"red","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1000,"y":180,"wires":[["3cf549ae.0432de"]]},{"id":"f2ab1cc3.e0a25","type":"ui_switch","z":"9bc24a99.023758","name":"03 BL17","label":"","tooltip":"","group":"dd4d9a20.f63d98","order":12,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#44cff1","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1020,"y":300,"wires":[["28c63adb.0f7d7e"]]},{"id":"54a3a80e.18f36","type":"ui_switch","z":"9bc24a99.023758","name":"07 FAN","label":"","tooltip":"","group":"dd4d9a20.f63d98","order":40,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"toys","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1620,"y":1080,"wires":[["720d823.5b2f97c"]]},{"id":"8133c38e.086248","type":"ui_switch","z":"9bc24a99.023758","name":"06 T01 PID","label":"","tooltip":"","group":"dd4d9a20.f63d98","order":33,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"enable","style":"","onvalue":"1","onvalueType":"num","onicon":"hot_tub","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1030,"y":880,"wires":[["c4b66be6.0102b","cd2edeb1.049088"]]},{"id":"2324b4ae.d440cc","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":25,"width":"2","height":"1","name":"04 spacer","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1770,"y":520,"wires":[]},{"id":"8ba884e6.980a78","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":46,"width":"7","height":"1","name":"07 last spacer","label":"(produces sound: fine).","format":"{{msg.payload}}","layout":"row-spread","x":1960,"y":1020,"wires":[]},{"id":"104c7975.66d77f","type":"ui_numeric","z":"9bc24a99.023758","name":"02 every 5","label":"every","tooltip":"","group":"dd4d9a20.f63d98","order":7,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1450,"y":220,"wires":[["9444ef1.3a1e71"]]},{"id":"3093c727.ba04a","type":"ui_dropdown","z":"9bc24a99.023758","name":"02 minutes","label":"","tooltip":"","place":"Select option","group":"dd4d9a20.f63d98","order":8,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1690,"y":220,"wires":[["11b5c0e1.651db7"]]},{"id":"c6b0392b.4d3d8","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"measODtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2280,"y":320,"wires":[["436c45a2.d22c34"]]},{"id":"317e11c7.57b01e","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":9,"width":"7","height":"1","name":"02 (takes 5 seconds)","label":"(takes 5 seconds).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":180,"wires":[]},{"id":"f52f8056.57aa","type":"ui_numeric","z":"9bc24a99.023758","name":"03 every 5","label":"every","tooltip":"","group":"dd4d9a20.f63d98","order":14,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1490,"y":340,"wires":[["8d88d45e.14149"]]},{"id":"a78700a8.1477b8","type":"ui_dropdown","z":"9bc24a99.023758","name":"03 minutes","label":"","tooltip":"","place":"Select option","group":"dd4d9a20.f63d98","order":15,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1730,"y":340,"wires":[["81443a2e.67f85"]]},{"id":"8d88d45e.14149","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"measBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":380,"wires":[["1f6f017d.4f87a7"]]},{"id":"9afa00d8.a9a6d8","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"measBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1940,"y":380,"wires":[["1f6f017d.4f87a7"]]},{"id":"bdbf9dff.12f7c8","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":16,"width":"7","height":"1","name":"03 (takes 5 seconds)","label":"(takes 5 secs, max illum., shifted timing).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":300,"wires":[]},{"id":"b7aaef5d.0a7d8","type":"ui_numeric","z":"9bc24a99.023758","name":"05 at 255","label":"at","tooltip":"","group":"dd4d9a20.f63d98","order":29,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":"1","x":1020,"y":420,"wires":[["fc421d1b.581f78","bac41c37.3f8a18"]]},{"id":"fc421d1b.581f78","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"intBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":460,"wires":[[]]},{"id":"8d987c95.edaeb","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":6,"width":"3","height":"1","name":"02 Meaure OD:","label":"Measure OD:","format":"{{msg.payload}}","layout":"row-spread","x":1280,"y":180,"wires":[]},{"id":"2550613f.99a3b6","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":13,"width":"3","height":"1","name":"03 Meaure BL:","label":"Measure BL:","format":"{{msg.payload}}","layout":"row-spread","x":1340,"y":300,"wires":[]},{"id":"bdb641cd.661348","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":28,"width":"4","height":"1","name":"05 spacer1","label":"","format":"{{msg.payload}}","layout":"row-spread","x":710,"y":420,"wires":[]},{"id":"fa987fa3.75761","type":"ui_button","z":"9bc24a99.023758","name":"05 OK","group":"dd4d9a20.f63d98","order":31,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1350,"y":420,"wires":[["f2ab1cc3.e0a25"]]},{"id":"5eea94fa.826cec","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":19,"width":"1","height":"1","name":"04 - -","label":"","format":"{{msg.payload}}","layout":"row-spread","x":630,"y":520,"wires":[]},{"id":"94b58fe6.f6bb68","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":20,"width":"3","height":"1","name":"04 Illuminate BL:","label":"Illuminate BL:","format":"{{msg.payload}}","layout":"row-spread","x":670,"y":560,"wires":[]},{"id":"b002f48e.8c1598","type":"ui_numeric","z":"9bc24a99.023758","name":"04 every 1","label":"every","tooltip":"","group":"dd4d9a20.f63d98","order":21,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":850,"y":560,"wires":[["22802a80.602af6"]]},{"id":"76016c1.06d8094","type":"ui_dropdown","z":"9bc24a99.023758","name":"04 hour","label":"","tooltip":"","place":"Select option","group":"dd4d9a20.f63d98","order":22,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1080,"y":560,"wires":[["e6d5a837.a31a38"]]},{"id":"22802a80.602af6","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"pillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":600,"wires":[["a6d68bdd.e6cb9"]]},{"id":"f7d08b82.9d361","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"pillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":640,"wires":[["a6d68bdd.e6cb9"]]},{"id":"1731740a.78fe44","type":"ui_numeric","z":"9bc24a99.023758","name":"04 for 5","label":"for","tooltip":"","group":"dd4d9a20.f63d98","order":23,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1340,"y":560,"wires":[["85d36255.cca718"]]},{"id":"62c8a296.ebcccc","type":"ui_dropdown","z":"9bc24a99.023758","name":"04 minutes","label":"","tooltip":"","place":"Select option","group":"dd4d9a20.f63d98","order":24,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1590,"y":560,"wires":[["73583942.922e38"]]},{"id":"85d36255.cca718","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"tillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":600,"wires":[["9c026f24.82e278"]]},{"id":"cf7caa76.165ac","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"tillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1610,"y":640,"wires":[["9c026f24.82e278"]]},{"id":"816d1734.6cd7e","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":32,"width":"5","height":"1","name":"05 spacer2","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1530,"y":420,"wires":[]},{"id":"77473b41.3e67cc","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":35,"width":"2","height":"1","name":"06 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1850,"y":860,"wires":[]},{"id":"7cf67920.5e991","type":"ui_switch","z":"9bc24a99.023758","name":"06 act.switch","label":"","tooltip":"","group":"dd4d9a20.f63d98","order":36,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"hot_tub","oncolor":"red","offvalue":"OFF","offvalueType":"str","officon":"ac_unit","offcolor":"grey","x":1520,"y":880,"wires":[["d33a6658.3d9598"]]},{"id":"6810fa56.158ba4","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":38,"width":"6","height":"1","name":"06 Volts.","label":"Volts.","format":"{{msg.payload}}","layout":"row-spread","x":1220,"y":840,"wires":[]},{"id":"7e632bfd.fe9d34","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":34,"width":"4","height":"1","name":"06 Temperature control:","label":"Temperature control:","format":"{{msg.payload}}","layout":"row-spread","x":2050,"y":860,"wires":[]},{"id":"ee6915a8.843778","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":41,"width":"4","height":"1","name":"07 Fan:","label":"Fan:","format":"{{msg.payload}}","layout":"row-spread","x":700,"y":1060,"wires":[]},{"id":"6debe539.381acc","type":"ui_switch","z":"9bc24a99.023758","name":"07 enable switch","label":"","tooltip":"","group":"dd4d9a20.f63d98","order":43,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"toys","oncolor":"green","offvalue":"OFF","offvalueType":"str","officon":"radio_button_unchecked","offcolor":"grey","x":910,"y":1060,"wires":[["d105042a.b9aed","a41117c7.1b802"]]},{"id":"a41117c7.1b802","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":42,"width":"2","height":"1","name":"07 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1230,"y":1060,"wires":[]},{"id":"d105042a.b9aed","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"FANstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1020,"wires":[[]]},{"id":"cda87f66.cb8cc8","type":"ui_numeric","z":"9bc24a99.023758","name":"07 and set to 100","label":"and set to","tooltip":"","group":"dd4d9a20.f63d98","order":44,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"255","step":"1","x":1590,"y":1020,"wires":[["7fd5b87.abf7948","720d823.5b2f97c"]]},{"id":"7fd5b87.abf7948","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"intFAN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1780,"y":1000,"wires":[[]]},{"id":"a5e182c0.798da","type":"ui_button","z":"9bc24a99.023758","name":"07 OK","group":"dd4d9a20.f63d98","order":45,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1430,"y":1100,"wires":[["54a3a80e.18f36"]]},{"id":"dff6c6fd.32224","type":"ui_numeric","z":"9bc24a99.023758","name":"08 add delay","label":"Add growing delay of","tooltip":"","group":"dd4d9a20.f63d98","order":47,"width":"6","height":"1","passthru":true,"topic":"setpoint","format":"{{value}}","min":"0","max":"100","step":"1","x":870,"y":1180,"wires":[["3876dd5d.24e722"]]},{"id":"9956eb2c.46283","type":"ui_dropdown","z":"9bc24a99.023758","name":"08 hour","label":"","tooltip":"","place":"Select option","group":"dd4d9a20.f63d98","order":48,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1060,"y":1180,"wires":[["fa236e17.14b7d8"]]},{"id":"3876dd5d.24e722","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"delay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":1220,"wires":[["6aa0517b.dfda58"]]},{"id":"7a1e0b1d.551474","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"delayunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1090,"y":1220,"wires":[["6aa0517b.dfda58"]]},{"id":"6eb5a0b1.63ef48","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":49,"width":"8","height":"1","name":"08 finalspacer","label":"(during which no BL measure will be made).","format":"{{msg.payload}}","layout":"row-spread","x":1240,"y":1140,"wires":[]},{"id":"46e483b3.635b74","type":"ui_text_input","z":"9bc24a99.023758","name":"09 DETAILS","label":"DETAILS:","tooltip":"","group":"dd4d9a20.f63d98","order":52,"width":"16","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1110,"y":2560,"wires":[["42e4d42e.faf594"]]},{"id":"b1049bba.009748","type":"ui_text_input","z":"9bc24a99.023758","name":"10 Nickname","label":"Nickname:","tooltip":"","group":"dd4d9a20.f63d98","order":54,"width":"4","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1120,"y":2600,"wires":[["c138531f.72457"]]},{"id":"f07e2818.2431a8","type":"inject","z":"9bc24a99.023758","name":"","topic":"","payload":"eV09_","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":830,"y":2600,"wires":[["9663ebde.ad4bf"]]},{"id":"62cf2fd1.3ae488","type":"ui_button","z":"9bc24a99.023758","name":"10 LAUNCH EXP","group":"dd4d9a20.f63d98","order":55,"width":"10","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"bool","topic":"","x":310,"y":1900,"wires":[["9c3e4bc1.accfd","83a8215e.d52f48","d6be5e69.b5902","4928421c.4f1254","60c6635e.aa9484","5c1e3869.acd15","2ce47fa7.1eccf"]]},{"id":"5d3755c2.cf9a14","type":"function","z":"9bc24a99.023758","name":"","func":"msg.label=\"Running...\";\nmsg.background=\"#FFC300\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1600,"wires":[["62cf2fd1.3ae488"]]},{"id":"d14ed934.ee9d78","type":"function","z":"9bc24a99.023758","name":"","func":"msg.label=\"LAUNCH EXPERIMENT\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1520,"wires":[["62cf2fd1.3ae488"]]},{"id":"54db05cc.3c373c","type":"inject","z":"9bc24a99.023758","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":210,"y":1640,"wires":[["4928421c.4f1254"]]},{"id":"995798d0.8ffd08","type":"ui_button","z":"9bc24a99.023758","name":"10 RESET","group":"dd4d9a20.f63d98","order":57,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"reset","payloadType":"str","topic":"","x":1610,"y":1480,"wires":[["1effd545.89e863","68042a11.ffe9cc","31df8c48.27f67c","4b470e05.ab4bf8"]]},{"id":"1effd545.89e863","type":"function","z":"9bc24a99.023758","name":"","func":"msg.label=\"Reseting...\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1520,"wires":[["995798d0.8ffd08","c695baa5.5a205"]]},{"id":"de5e9a89.a5a3e8","type":"function","z":"9bc24a99.023758","name":"","func":"msg.label=\"RESET\";\nmsg.background=\"grey\";\nreturn msg;","outputs":1,"noerr":0,"x":1750,"y":1660,"wires":[["995798d0.8ffd08"]]},{"id":"db9af16f.d439d","type":"inject","z":"9bc24a99.023758","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1630,"y":1680,"wires":[["de5e9a89.a5a3e8"]]},{"id":"c695baa5.5a205","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1560,"wires":[["b25c4116.abf808"]]},{"id":"b25c4116.abf808","type":"function","z":"9bc24a99.023758","name":"","func":"msg.label=\"SUCCESS\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1600,"wires":[["3d1641b9.be819e","995798d0.8ffd08"]]},{"id":"3d1641b9.be819e","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1640,"wires":[["de5e9a89.a5a3e8"]]},{"id":"8a78a5bd.f902d","type":"function","z":"9bc24a99.023758","name":"","func":"msg.label=\"Halted experiment\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1560,"wires":[["62cf2fd1.3ae488"]]},{"id":"6e4b112d.2e9a7","type":"ui_button","z":"9bc24a99.023758","name":"10 STOP","group":"dd4d9a20.f63d98","order":56,"width":"4","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"str","topic":"","x":860,"y":1540,"wires":[["283c8ba2.e6d3f4"]]},{"id":"c464a6f4.946958","type":"function","z":"9bc24a99.023758","name":"","func":"msg.label=\"Stopped.\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":1580,"wires":[["6e4b112d.2e9a7"]]},{"id":"4ddcc8a8.19d3d","type":"inject","z":"9bc24a99.023758","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":710,"y":1500,"wires":[["3389f53.c96f20a"]]},{"id":"3389f53.c96f20a","type":"function","z":"9bc24a99.023758","name":"","func":"msg.label=\"STOP\";\nmsg.background=\"#cb4335\";\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1500,"wires":[["6e4b112d.2e9a7"]]},{"id":"620dee52.ab9d78","type":"comment","z":"9bc24a99.023758","name":"Launch TODOs","info":"Turn off and disable all above switches\ndisable the launch button\nCA MARCHE PAS","x":840,"y":2080,"wires":[]},{"id":"b3206282.dbd988","type":"comment","z":"9bc24a99.023758","name":"Reset TODOs","info":"Enable anew all above switches\nReset all default values in exp menu\nBlink LEDs as indicators ;)","x":1440,"y":1660,"wires":[]},{"id":"80397a02.53672","type":"comment","z":"9bc24a99.023758","name":"Stop TODOs","info":"","x":850,"y":1420,"wires":[]},{"id":"87cdb2f6.fea438","type":"simpletime","z":"9bc24a99.023758","name":"","x":910,"y":2360,"wires":[["102e75cc.7550f2","deb1587b.80edf8"]]},{"id":"102e75cc.7550f2","type":"function","z":"9bc24a99.023758","name":"20190417_172653_nickname/...","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\")+\"/\"+msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1180,"y":2360,"wires":[["2a5e38b.6d6c5c8","7b2f8fad.3c51b","6dca101.0b13f7","bd7d1f62.5576a8"]]},{"id":"6dca101.0b13f7","type":"join","z":"9bc24a99.023758","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2400,"wires":[["848616fe.197df"]]},{"id":"2a5e38b.6d6c5c8","type":"join","z":"9bc24a99.023758","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2440,"wires":[["54f8a93b.7c0b38"]]},{"id":"7b2f8fad.3c51b","type":"join","z":"9bc24a99.023758","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2480,"wires":[["4ff078d9.2da5e8"]]},{"id":"c0a27393.49216","type":"function","z":"9bc24a99.023758","name":"/home/lab513/Desktop/eVOLVER_data/","func":"if (msg.payload){\n    msg.payload=\"/home/lab513/Desktop/eVOLVER_data/\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":2320,"wires":[["6dca101.0b13f7","2a5e38b.6d6c5c8","7b2f8fad.3c51b","bd7d1f62.5576a8"]]},{"id":"eeb46fcf.d2c2e8","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"delay","timeout":"0.2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2360,"wires":[["87cdb2f6.fea438"]]},{"id":"661db29d.ef54b4","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"nickname","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":2600,"wires":[[]]},{"id":"9fd0da1a.0a0ee","type":"function","z":"9bc24a99.023758","name":".IR","func":"if (msg.payload){\n    msg.payload=\".IR\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2400,"wires":[["6dca101.0b13f7"]]},{"id":"ea79e29c.88514","type":"function","z":"9bc24a99.023758","name":".BL","func":"if (msg.payload){\n    msg.payload=\".BL\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2440,"wires":[["2a5e38b.6d6c5c8"]]},{"id":"3b9bae73.d2c992","type":"function","z":"9bc24a99.023758","name":".Temp","func":"if (msg.payload){\n    msg.payload=\".Temp\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2480,"wires":[["7b2f8fad.3c51b"]]},{"id":"9c3e4bc1.accfd","type":"function","z":"9bc24a99.023758","name":"Creates Files:","func":"\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":2280,"wires":[["eeb46fcf.d2c2e8","2df64f05.39a9c8","70fcd89a.278e4","a899c1d7.c52eb","ec8317d8.552c3","2f4ca2df.ff51c6","770039c3.af329"]]},{"id":"a899c1d7.c52eb","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2400,"wires":[["9fd0da1a.0a0ee"]]},{"id":"ec8317d8.552c3","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2440,"wires":[["ea79e29c.88514"]]},{"id":"2f4ca2df.ff51c6","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2480,"wires":[["3b9bae73.d2c992"]]},{"id":"2df64f05.39a9c8","type":"function","z":"9bc24a99.023758","name":"reset","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":2280,"wires":[["848616fe.197df","54f8a93b.7c0b38","4ff078d9.2da5e8","7367cf2c.2bc7a8"]]},{"id":"70fcd89a.278e4","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"delay","timeout":"0.1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2320,"wires":[["c0a27393.49216"]]},{"id":"c138531f.72457","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2600,"wires":[["661db29d.ef54b4"]]},{"id":"848616fe.197df","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"FileNameIR","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1500,"y":2400,"wires":[[]]},{"id":"54f8a93b.7c0b38","type":"change","z":"9bc24a99.023758","name":"FileNameBL","rules":[{"t":"set","p":"FileNameBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1470,"y":2440,"wires":[[]]},{"id":"4ff078d9.2da5e8","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"FileNameTemp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":2480,"wires":[[]]},{"id":"bd7d1f62.5576a8","type":"join","z":"9bc24a99.023758","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2520,"wires":[["7367cf2c.2bc7a8"]]},{"id":"42db805.c8ab6","type":"function","z":"9bc24a99.023758","name":".readme","func":"if (msg.payload){\n    msg.payload=\".readme\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":2520,"wires":[["bd7d1f62.5576a8"]]},{"id":"770039c3.af329","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2520,"wires":[["42db805.c8ab6"]]},{"id":"7367cf2c.2bc7a8","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"FileNameReadme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":2520,"wires":[[]]},{"id":"5efa7ab7.07ac14","type":"inject","z":"9bc24a99.023758","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":810,"y":2560,"wires":[["b4ec5b70.3c11c"]]},{"id":"42e4d42e.faf594","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2560,"wires":[["97b7e97.1d7af98"]]},{"id":"97b7e97.1d7af98","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"readme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1480,"y":2560,"wires":[[]]},{"id":"deb1587b.80edf8","type":"function","z":"9bc24a99.023758","name":"displayname","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":2640,"wires":[["8b0ef673.2468"]]},{"id":"8b0ef673.2468","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":2,"width":"15","height":"1","name":"00 Running","label":"Running:","format":"{{msg.payload}}","layout":"row-left","x":1310,"y":2640,"wires":[]},{"id":"6d646f2b.044fe8","type":"inject","z":"9bc24a99.023758","name":"","topic":"","payload":"-","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":890,"y":2640,"wires":[["cafda5e5.f82c88"]]},{"id":"283c8ba2.e6d3f4","type":"function","z":"9bc24a99.023758","name":"STOP ACTIONS:","func":"msg.payload=false;\nreturn msg;\n\n//this function allows the fact that the\n//reset button first does the stop action\n//and then resets the buttons etc","outputs":1,"noerr":0,"x":1050,"y":1560,"wires":[["8a78a5bd.f902d","c464a6f4.946958","564e0466.6f9afc","af19ee9.a1e739","b47415a.a402e68"]]},{"id":"68042a11.ffe9cc","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":300,"y":1480,"wires":[["d14ed934.ee9d78"]]},{"id":"31df8c48.27f67c","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":850,"y":1460,"wires":[["3389f53.c96f20a"]]},{"id":"dfe6714d.9f5d4","type":"function","z":"9bc24a99.023758","name":"disable/enable switches","func":"if (msg.payload===\"launch\"){\n    msg.enabled=false;\n}\nelse if (msg.payload===0){\n    msg.enabled=true;\n}\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":2080,"wires":[[]]},{"id":"cafda5e5.f82c88","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=\"-\";\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":2640,"wires":[["8b0ef673.2468"]]},{"id":"83a8215e.d52f48","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":560,"y":2800,"wires":[["357ac2f1.4b1bd6","356ca725.8a086","e860da8.37a7fa8","48080b8b.cadadc","3da37e89.e08fe2","6dad66bb.8c0b9","a5adcf74.3721","b47e4d8b.75abc"]]},{"id":"aad69ad5.66312","type":"file","z":"9bc24a99.023758","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3420,"wires":[[]]},{"id":"d9066982.db34a","type":"file","z":"9bc24a99.023758","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3380,"wires":[[]]},{"id":"911af18e.534818","type":"file","z":"9bc24a99.023758","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3460,"wires":[[]]},{"id":"77b3e8b1.db28a","type":"switch","z":"9bc24a99.023758","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3420,"wires":[["69c22ff8.a15b7"]]},{"id":"356ca725.8a086","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"StoreInFile","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":3340,"wires":[[]]},{"id":"65decb8.cbcf634","type":"comment","z":"9bc24a99.023758","name":"Allows storage in the filenames","info":"","x":1050,"y":3340,"wires":[]},{"id":"44f5d01b.368278","type":"arduino in","z":"9bc24a99.023758","name":"Blue Light Sensor","pin":"2","state":"ANALOG","arduino":"9d3e08ea.adda9","x":790,"y":3420,"wires":[["937494e9.044668"]]},{"id":"ec3a54a4.7e877","type":"arduino in","z":"9bc24a99.023758","name":"IR Sensor","pin":"1","state":"ANALOG","arduino":"9d3e08ea.adda9","x":760,"y":3380,"wires":[["7709a1b1.d4fb6"]]},{"id":"937494e9.044668","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3420,"wires":[["77b3e8b1.db28a","c5dff90.f41c988"]]},{"id":"7709a1b1.d4fb6","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3380,"wires":[["2fe4ef62.2186","edb92913.c36608"]]},{"id":"7f75cf70.eca33","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3460,"wires":[["1a504e6e.3b3422","f96f42c5.baad58"]]},{"id":"2fe4ef62.2186","type":"switch","z":"9bc24a99.023758","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3380,"wires":[["2224eca0.7a1f7c"]]},{"id":"1a504e6e.3b3422","type":"switch","z":"9bc24a99.023758","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3460,"wires":[["8d0c941d.a8d99"]]},{"id":"85cbe0c1.ff90d","type":"inject","z":"9bc24a99.023758","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":330,"y":3340,"wires":[["e5f76c6.0f8c81"]]},{"id":"357ac2f1.4b1bd6","type":"function","z":"9bc24a99.023758","name":"readme","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=flow.get(\"readme\")+\"\\n\"+\n    \"measOD \"+flow.get(\"measOD\").toString()+\"\\n\"+\n    \"measODunits \"+flow.get(\"measODunits\").toString()+\"\\n\"+\n    \"measODtotal \"+flow.get(\"measODtotal\").toString()+\"\\n\"+\n    \n    \"measBL \"+flow.get(\"measBL\").toString()+\"\\n\"+\n    \"measBLunits \"+flow.get(\"measBLunits\").toString()+\"\\n\"+\n    \"measBLtotal \"+flow.get(\"measBLtotal\").toString()+\"\\n\"+\n    \n    \"intBL \"+flow.get(\"intBL\").toString()+\"\\n\"+\n    \n    \"pillBL \"+flow.get(\"pillBL\").toString()+\"\\n\"+\n    \"pillBLunits \"+flow.get(\"pillBLunits\").toString()+\"\\n\"+\n    \"pillBLtotal \"+flow.get(\"pillBLtotal\").toString()+\"\\n\"+\n    \n    \"tillBL \"+flow.get(\"tillBL\").toString()+\"\\n\"+\n    \"tillBLunits \"+flow.get(\"tillBLunits\").toString()+\"\\n\"+\n    \"tillBLtotal \"+flow.get(\"tillBLtotal\").toString()+\"\\n\"+\n    \n    \"Temp \"+flow.get(\"Temp\").toString()+\"\\n\"+\n    \"PID \"+flow.get(\"PID\").toString()+\"\\n\"+\n    \n    \"FANstate \"+flow.get(\"FANstate\").toString()+\"\\n\"+\n    \"intFAN \"+flow.get(\"intFAN\").toString()+\"\\n\"+\n    \n    \"delay \"+flow.get(\"delay\").toString()+\"\\n\"+\n    \"delayunits \"+flow.get(\"delayunits\").toString()+\"\\n\"+\n    \"delaytotal \"+flow.get(\"delaytotal\").toString()+\"\\n\";\n\n//msg.myepoch=msg.myepoch.toString();\n//msg.payload=msg.payload+\";\"+msg.myepoch;\n\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":2940,"wires":[["cfbb6355.f9dd28"]]},{"id":"cfbb6355.f9dd28","type":"file","z":"9bc24a99.023758","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":890,"y":2940,"wires":[[]]},{"id":"2224eca0.7a1f7c","type":"simpletime","z":"9bc24a99.023758","name":"","x":1330,"y":3380,"wires":[["df41415d.addd08"]]},{"id":"df41415d.addd08","type":"function","z":"9bc24a99.023758","name":"IR+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameIR\");\nreturn msg;","outputs":1,"noerr":0,"x":1480,"y":3380,"wires":[["d9066982.db34a"]]},{"id":"69c22ff8.a15b7","type":"simpletime","z":"9bc24a99.023758","name":"","x":1330,"y":3420,"wires":[["f4ae728d.f019d8"]]},{"id":"f4ae728d.f019d8","type":"function","z":"9bc24a99.023758","name":"BL+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameBL\");\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":3420,"wires":[["aad69ad5.66312"]]},{"id":"8d0c941d.a8d99","type":"simpletime","z":"9bc24a99.023758","name":"","x":1330,"y":3460,"wires":[["506a2bae.150004"]]},{"id":"506a2bae.150004","type":"function","z":"9bc24a99.023758","name":"Temp+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameTemp\");\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":3460,"wires":[["911af18e.534818"]]},{"id":"b4ec5b70.3c11c","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2560,"wires":[["46e483b3.635b74"]]},{"id":"9663ebde.ad4bf","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=\"eV09_\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2600,"wires":[["b1049bba.009748"]]},{"id":"1c711ea6.cdfbd1","type":"function","z":"9bc24a99.023758","name":"(reset)","func":"\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":2600,"wires":[["b4ec5b70.3c11c","9663ebde.ad4bf","cafda5e5.f82c88"]]},{"id":"d6be5e69.b5902","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=\"launch\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":2040,"wires":[["dfe6714d.9f5d4"]]},{"id":"e5f76c6.0f8c81","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3340,"wires":[["356ca725.8a086"]]},{"id":"e860da8.37a7fa8","type":"function","z":"9bc24a99.023758","name":"255","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":750,"y":3640,"wires":[["a0345642.e5e998","73a532f6.303a64"]]},{"id":"a0345642.e5e998","type":"function","z":"9bc24a99.023758","name":"measODtotal","func":"msg.delay=flow.get(\"measODtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":780,"y":3680,"wires":[["803b2e6c.393008"]]},{"id":"803b2e6c.393008","type":"delay","z":"9bc24a99.023758","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":3720,"wires":[["e860da8.37a7fa8"]]},{"id":"be08b7be.058f48","type":"function","z":"9bc24a99.023758","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3640,"wires":[["803b2e6c.393008","73a532f6.303a64"]]},{"id":"73a532f6.303a64","type":"trigger","z":"9bc24a99.023758","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1050,"y":3640,"wires":[["d88fda49.38953","eadf5274.dcad98","48054254.cba644"]]},{"id":"d88fda49.38953","type":"function","z":"9bc24a99.023758","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":3640,"wires":[["6de454ea.b1da3c"]]},{"id":"eadf5274.dcad98","type":"arduino out","z":"9bc24a99.023758","name":"IR17","pin":"5","state":"PWM","arduino":"9d3e08ea.adda9","x":1810,"y":3680,"wires":[]},{"id":"bd57403a.9c7448","type":"switch","z":"9bc24a99.023758","name":"lance ventilo","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"gt","v":"160","vt":"num"},{"t":"btwn","v":"0","vt":"num","v2":"160","v2t":"num"}],"checkall":"false","repair":false,"outputs":3,"x":1470,"y":3820,"wires":[["9e0cc8b.a4abb38"],["9e0cc8b.a4abb38"],["a47630ff.7176e8","eb09bd8f.41379"]],"info":"Coz the ventilo wont start if the value is \nbelow 160.\nTo have a value below 160, we need to start w\na bigger value and THEN get down in value"},{"id":"9e0cc8b.a4abb38","type":"arduino out","z":"9bc24a99.023758","name":"Fan","pin":"9","state":"PWM","arduino":"9d3e08ea.adda9","x":1810,"y":3800,"wires":[]},{"id":"eb09bd8f.41379","type":"function","z":"9bc24a99.023758","name":"200","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":1630,"y":3840,"wires":[["9e0cc8b.a4abb38"]]},{"id":"a47630ff.7176e8","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":3880,"wires":[["9e0cc8b.a4abb38"]]},{"id":"6de454ea.b1da3c","type":"arduino out","z":"9bc24a99.023758","name":"BL17","pin":"6","state":"PWM","arduino":"9d3e08ea.adda9","x":1810,"y":3740,"wires":[]},{"id":"4b470e05.ab4bf8","type":"link out","z":"9bc24a99.023758","name":"RESET17->","links":["11952ac1.78a1dd","2a66d039.1cdd48","af145d95.f3801","440a2d2c.698774","3742e0c8.bcab08","b9fa99c.24e2868","9b3e4119.84a748","948bae02.d8b248"],"x":1755,"y":1480,"wires":[]},{"id":"11952ac1.78a1dd","type":"link in","z":"9bc24a99.023758","name":"->Nickname&details","links":["4b470e05.ab4bf8"],"x":595,"y":2560,"wires":[["1c711ea6.cdfbd1"]]},{"id":"c01b9d4a.1c11b","type":"link in","z":"9bc24a99.023758","name":"->StoreInFile","links":["564e0466.6f9afc"],"x":375,"y":3300,"wires":[["e5f76c6.0f8c81"]]},{"id":"4dab3c67.2d0d34","type":"link in","z":"9bc24a99.023758","name":"->ODmeas","links":["564e0466.6f9afc"],"x":395,"y":3640,"wires":[["be08b7be.058f48"]]},{"id":"2a66d039.1cdd48","type":"link in","z":"9bc24a99.023758","name":"->stop","links":["4b470e05.ab4bf8"],"x":875,"y":1620,"wires":[["283c8ba2.e6d3f4"]]},{"id":"11b5c0e1.651db7","type":"function","z":"9bc24a99.023758","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1740,"y":260,"wires":[["87ce95dd.887ea8"]]},{"id":"9444ef1.3a1e71","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"measOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":260,"wires":[["1890ae90.dca2e1"]]},{"id":"87ce95dd.887ea8","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"measODunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":260,"wires":[["1890ae90.dca2e1"]]},{"id":"1890ae90.dca2e1","type":"function","z":"9bc24a99.023758","name":"multiply","func":"msg.payload=flow.get(\"measOD\")*flow.get(\"measODunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2100,"y":260,"wires":[["c6b0392b.4d3d8"]]},{"id":"81443a2e.67f85","type":"function","z":"9bc24a99.023758","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1760,"y":380,"wires":[["9afa00d8.a9a6d8"]]},{"id":"1f6f017d.4f87a7","type":"function","z":"9bc24a99.023758","name":"multiply","func":"msg.payload=flow.get(\"measBL\")*flow.get(\"measBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2120,"y":380,"wires":[["4a1374f0.719824"]]},{"id":"4a1374f0.719824","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"measBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":380,"wires":[["ae6d128b.b79cc8"]]},{"id":"e6d5a837.a31a38","type":"function","z":"9bc24a99.023758","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1100,"y":600,"wires":[["f7d08b82.9d361"]]},{"id":"73583942.922e38","type":"function","z":"9bc24a99.023758","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":600,"wires":[["cf7caa76.165ac"]]},{"id":"a6d68bdd.e6cb9","type":"function","z":"9bc24a99.023758","name":"multiply","func":"msg.payload=flow.get(\"pillBL\")*flow.get(\"pillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1000,"y":700,"wires":[["526c72e0.7bd5fc"]]},{"id":"526c72e0.7bd5fc","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"pillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1170,"y":700,"wires":[["6edce335.a4e37c"]]},{"id":"9c026f24.82e278","type":"function","z":"9bc24a99.023758","name":"multiply","func":"msg.payload=flow.get(\"tillBL\")*flow.get(\"tillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":700,"wires":[["d8869f3d.206628"]]},{"id":"d8869f3d.206628","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"tillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":700,"wires":[[]]},{"id":"6aa0517b.dfda58","type":"function","z":"9bc24a99.023758","name":"multiply","func":"msg.payload=flow.get(\"delay\")*flow.get(\"delayunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":1220,"wires":[["a0473209.0e44d8"]]},{"id":"a0473209.0e44d8","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"delaytotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":1220,"wires":[["60d54a35.904774"]]},{"id":"fa236e17.14b7d8","type":"function","z":"9bc24a99.023758","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1180,"wires":[["7a1e0b1d.551474"]]},{"id":"564e0466.6f9afc","type":"link out","z":"9bc24a99.023758","name":"STOP17.false","links":["eedde23b.9d9a5","4dab3c67.2d0d34","833e5cc4.2a6e48","c01b9d4a.1c11b","fe88bb90.06343","1e2628c1.3f0ed7","1f0bb8ec.f00287","3da826d7.d2696a","fefde0a2.4ea65","5e8338a2.532ea8"],"x":1235,"y":1580,"wires":[]},{"id":"48054254.cba644","type":"function","z":"9bc24a99.023758","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":3680,"wires":[["bd57403a.9c7448"]]},{"id":"1cdb83a8.b0a2fc","type":"comment","z":"9bc24a99.023758","name":"OD mesaurements","info":"","x":790,"y":3600,"wires":[]},{"id":"eaf72eb3.59b17","type":"function","z":"9bc24a99.023758","name":"255","func":"if (flow.get(\"measBLtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":910,"y":4220,"wires":[["a2213159.35dff8","a1c19a6c.bc80c8"]]},{"id":"a2213159.35dff8","type":"function","z":"9bc24a99.023758","name":"measBLtotal","func":"msg.delay=flow.get(\"measBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":4280,"wires":[["9e1ec4a3.35e278"]]},{"id":"9e1ec4a3.35e278","type":"delay","z":"9bc24a99.023758","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1050,"y":4320,"wires":[["eaf72eb3.59b17"]]},{"id":"aa30eae6.62365","type":"trigger","z":"9bc24a99.023758","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1350,"y":4240,"wires":[["b3beca30.3aead","57495da0.bcda54"]]},{"id":"bc916ef4.329e88","type":"comment","z":"9bc24a99.023758","name":"BL mesaurements","info":"","x":910,"y":4180,"wires":[]},{"id":"a1c19a6c.bc80c8","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"delay","timeout":"7","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1180,"y":4200,"wires":[["aa30eae6.62365","f2e968ca.6bcda8"]]},{"id":"9f458308.7d0b28","type":"function","z":"9bc24a99.023758","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":4220,"wires":[["9e1ec4a3.35e278","aa30eae6.62365","a1c19a6c.bc80c8","3e1a8154.919fde","a47630ff.7176e8"]]},{"id":"833e5cc4.2a6e48","type":"link in","z":"9bc24a99.023758","name":"->BLmeas","links":["564e0466.6f9afc"],"x":335,"y":4220,"wires":[["9f458308.7d0b28"]]},{"id":"57495da0.bcda54","type":"function","z":"9bc24a99.023758","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":4220,"wires":[["6de454ea.b1da3c"]]},{"id":"b3beca30.3aead","type":"function","z":"9bc24a99.023758","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":4260,"wires":[["bd57403a.9c7448"]]},{"id":"af19ee9.a1e739","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1540,"wires":[["5f219281.b5e41c"]]},{"id":"5f219281.b5e41c","type":"link out","z":"9bc24a99.023758","name":"STOP17.0","links":["9ea896e8.bc7338","c9ab3bc1.97e15","c58951a5.56b19","c4ecb4a7.b176f","48c11f9d.37dde","7b3e4ac7.65d3e4"],"x":1295,"y":1540,"wires":[]},{"id":"9ea896e8.bc7338","type":"link in","z":"9bc24a99.023758","name":"->IT,BL,FAN","links":["5f219281.b5e41c"],"x":1475,"y":3640,"wires":[["6de454ea.b1da3c","eadf5274.dcad98","9e0cc8b.a4abb38"]]},{"id":"ff47fc41.99dbd","type":"ui_button","z":"9bc24a99.023758","name":"02 OD realtime value","group":"dd4d9a20.f63d98","order":11,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3380,"wires":[[]]},{"id":"edb92913.c36608","type":"function","z":"9bc24a99.023758","name":"","func":"msg.label=msg.payload;\nif (msg.payload>150){\n    msg.background=\"red\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3380,"wires":[["ff47fc41.99dbd"]]},{"id":"c5dff90.f41c988","type":"function","z":"9bc24a99.023758","name":"","func":"msg.label=msg.payload;\nif (msg.payload>300){\n    msg.background=\"#44cff1\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3420,"wires":[["a5d7ee01.a52f18"]]},{"id":"a5d7ee01.a52f18","type":"ui_button","z":"9bc24a99.023758","name":"03 BL realtime value","group":"dd4d9a20.f63d98","order":18,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3420,"wires":[[]]},{"id":"e4c8904f.7099d","type":"comment","z":"9bc24a99.023758","name":"Display:","info":"","x":1800,"y":3340,"wires":[]},{"id":"3e1a8154.919fde","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":3900,"wires":[["ac68a0ca.ecbb3"]]},{"id":"ac68a0ca.ecbb3","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=true;\nreturn msg;\n\n","outputs":1,"noerr":0,"x":750,"y":3940,"wires":[["eaf72eb3.59b17","b8e11ff.adab6e","550bc1c5.afce28","489bff2.812e1"]]},{"id":"48080b8b.cadadc","type":"function","z":"9bc24a99.023758","name":"","func":"msg.delay=flow.get(\"delaytotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3860,"wires":[["3e1a8154.919fde","f808212c.38f2e","489bff2.812e1"]]},{"id":"f808212c.38f2e","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3880,"wires":[["181053fa.afa40c"]]},{"id":"ebf6d176.d1fbe8","type":"comment","z":"9bc24a99.023758","name":"growth delay","info":"","x":770,"y":3820,"wires":[]},{"id":"8996d77e.ee8df8","type":"function","z":"9bc24a99.023758","name":"","func":"msg.delay=flow.get(\"tillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4740,"wires":[["d74de29a.abf7f8"]]},{"id":"d74de29a.abf7f8","type":"delay","z":"9bc24a99.023758","name":"part","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4740,"wires":[["b8ac9c8.8cc94e"]]},{"id":"b8e11ff.adab6e","type":"function","z":"9bc24a99.023758","name":"","func":"if (flow.get(\"pillBLtotal\") === 0 || flow.get(\"tillBLtotal\") === 0){\n    return;\n}\nelse{\n    msg.payload=flow.get(\"intBL\");\n    msg.state=\"ON\";\n    return msg;\n}\n\n\n","outputs":1,"noerr":0,"x":910,"y":4600,"wires":[["8996d77e.ee8df8","3682db0.e343a26","63f3dfa3.c2677","31f6bff1.2baa28","908e40c5.bcc18"]]},{"id":"b8ac9c8.8cc94e","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=0;\nmsg.state=\"OFF\";\nreturn msg;\n","outputs":1,"noerr":0,"x":1010,"y":4740,"wires":[["63f3dfa3.c2677","31f6bff1.2baa28","908e40c5.bcc18"]]},{"id":"3682db0.e343a26","type":"function","z":"9bc24a99.023758","name":"","func":"msg.delay=flow.get(\"pillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4700,"wires":[["16b66475.29d1fc"]]},{"id":"16b66475.29d1fc","type":"delay","z":"9bc24a99.023758","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4700,"wires":[["b8e11ff.adab6e"]]},{"id":"2ed36c8c.1a8a24","type":"function","z":"9bc24a99.023758","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":4620,"wires":[["16b66475.29d1fc","d74de29a.abf7f8","abb6bfad.9d7d98","908e40c5.bcc18"]]},{"id":"d6c88db1.de8bd","type":"comment","z":"9bc24a99.023758","name":"Cycle w sous cycle la: cool pr la blue LED","info":"","x":990,"y":4500,"wires":[]},{"id":"eedde23b.9d9a5","type":"link in","z":"9bc24a99.023758","name":"->BLcycle","links":["564e0466.6f9afc"],"x":635,"y":4620,"wires":[["2ed36c8c.1a8a24"]]},{"id":"63f3dfa3.c2677","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"BLstate","pt":"flow","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":4560,"wires":[[]]},{"id":"93aa3ed8.de582","type":"inject","z":"9bc24a99.023758","name":"","topic":"","payload":"OFF","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":890,"y":4540,"wires":[["abb6bfad.9d7d98"]]},{"id":"3da37e89.e08fe2","type":"function","z":"9bc24a99.023758","name":"for FAN","func":"if (flow.get(\"FANstate\")===\"ON\"){\n    msg.payload=flow.get(\"intFAN\");\n}\nelse if (flow.get(\"FANstate\")===\"OFF\"){\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":3000,"wires":[["f85ed662.2e8de8"]]},{"id":"c9ab3bc1.97e15","type":"link in","z":"9bc24a99.023758","name":"->PID","links":["5f219281.b5e41c"],"x":455,"y":3140,"wires":[["6dad66bb.8c0b9"]]},{"id":"4928421c.4f1254","type":"function","z":"9bc24a99.023758","name":"","func":"msg.label=\"Initialization\";\nmsg.background=\"#f39c12\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1640,"wires":[["62cf2fd1.3ae488"]]},{"id":"60c6635e.aa9484","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":200,"y":1600,"wires":[["5d3755c2.cf9a14"]]},{"id":"9f3d679.cd7d418","type":"ui_button","z":"9bc24a99.023758","name":"06 Temp realtime value","group":"dd4d9a20.f63d98","order":39,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1970,"y":3460,"wires":[[]]},{"id":"f96f42c5.baad58","type":"function","z":"9bc24a99.023758","name":"","func":"msg.label=msg.payload;\nif (flow.get(\"PIDstate\")>0){\n    msg.background=\"#fdedec\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3460,"wires":[["9f3d679.cd7d418"]]},{"id":"b6c3de5b.b28c8","type":"ui_button","z":"9bc24a99.023758","name":"05 BLstate","group":"dd4d9a20.f63d98","order":27,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1470,"y":4600,"wires":[[]]},{"id":"31f6bff1.2baa28","type":"function","z":"9bc24a99.023758","name":"","func":"msg.label=msg.state;\nif (msg.label===\"ON\"){\n    msg.background=\"#ebf5fb\";\n}\nelse if (msg.label===\"OFF\"){\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":4600,"wires":[["b6c3de5b.b28c8"]]},{"id":"abb6bfad.9d7d98","type":"function","z":"9bc24a99.023758","name":"","func":"msg.state=\"OFF\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":4540,"wires":[["63f3dfa3.c2677","31f6bff1.2baa28"]]},{"id":"63d3fc2a.4242dc","type":"function","z":"9bc24a99.023758","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"pillBLtotal\")/1000-(msg.count%(flow.get(\"pillBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":620,"wires":[["4ace4339.2a5134"]]},{"id":"cd5347bf.b8223","type":"ui_button","z":"9bc24a99.023758","name":"04 pillBL Cycle counter","group":"dd4d9a20.f63d98","order":26,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3330,"y":600,"wires":[[]]},{"id":"6edce335.a4e37c","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=flow.get(\"pillBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":580,"wires":[["4ace4339.2a5134","60d54a35.904774"]]},{"id":"c08e3cc6.48aec8","type":"counter","z":"9bc24a99.023758","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":680,"wires":[["63d3fc2a.4242dc"]]},{"id":"b6d8ee66.89a23","type":"function","z":"9bc24a99.023758","name":"","func":"if (flow.get(\"counterpillBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"counterpillBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":640,"wires":[["c08e3cc6.48aec8"]]},{"id":"550bc1c5.afce28","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"counterpillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":4460,"wires":[[]]},{"id":"912bf02d.7da478","type":"inject","z":"9bc24a99.023758","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4480,"wires":[["57bf3bcd.6e4b5c"]]},{"id":"57bf3bcd.6e4b5c","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4460,"wires":[["550bc1c5.afce28"]]},{"id":"fe88bb90.06343","type":"link in","z":"9bc24a99.023758","name":"->Counter","links":["564e0466.6f9afc"],"x":415,"y":4440,"wires":[["57bf3bcd.6e4b5c"]]},{"id":"be3f1de5.ff924","type":"inject","z":"9bc24a99.023758","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"3","x":190,"y":1520,"wires":[["d14ed934.ee9d78"]]},{"id":"760194ec.81560c","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":1,"width":"3","height":"1","name":"00 eVOLVER09","label":"<font size =5>eVOLVER09","format":"{{msg.payload}}","layout":"row-center","x":700,"y":60,"wires":[]},{"id":"d29c8951.22318","type":"link out","z":"9bc24a99.023758","name":"enabled->","links":["4dea90fc.2f6ab"],"x":955,"y":2080,"wires":[]},{"id":"c4ecb4a7.b176f","type":"link in","z":"9bc24a99.023758","name":"->GL","links":["5f219281.b5e41c"],"x":255,"y":2120,"wires":[["dfe6714d.9f5d4","5c1e3869.acd15"]]},{"id":"c93c5c46.6a5ac8","type":"comment","z":"9bc24a99.023758","name":"01","info":"","x":550,"y":60,"wires":[]},{"id":"5fd5e2b4.2805ac","type":"comment","z":"9bc24a99.023758","name":"02 ODmeas","info":"","x":650,"y":180,"wires":[]},{"id":"b46e61a4.c2bf2","type":"comment","z":"9bc24a99.023758","name":"03 BLmeas","info":"","x":670,"y":300,"wires":[]},{"id":"1c5603e3.00720c","type":"link in","z":"9bc24a99.023758","name":"->ARDUINO FAN","links":["720d823.5b2f97c","f85ed662.2e8de8"],"x":1275,"y":3820,"wires":[["bd57403a.9c7448"]]},{"id":"d7ed80db.8a2218","type":"link in","z":"9bc24a99.023758","name":"->ARDUINO IR","links":["3cf549ae.0432de"],"x":1695,"y":3640,"wires":[["eadf5274.dcad98"]]},{"id":"cdf1e599.98a02","type":"link in","z":"9bc24a99.023758","name":"->ARDUINO BL","links":["908e40c5.bcc18","28c63adb.0f7d7e"],"x":1615,"y":3760,"wires":[["6de454ea.b1da3c"]]},{"id":"908e40c5.bcc18","type":"link out","z":"9bc24a99.023758","name":"BLcycle->BL","links":["cdf1e599.98a02"],"x":1235,"y":4660,"wires":[]},{"id":"f85ed662.2e8de8","type":"link out","z":"9bc24a99.023758","name":"Fancontrol","links":["1c5603e3.00720c"],"x":895,"y":3000,"wires":[]},{"id":"720d823.5b2f97c","type":"link out","z":"9bc24a99.023758","name":"Fansetup","links":["1c5603e3.00720c"],"x":1735,"y":1060,"wires":[]},{"id":"3cf549ae.0432de","type":"link out","z":"9bc24a99.023758","name":"IRsetup","links":["d7ed80db.8a2218"],"x":1115,"y":180,"wires":[]},{"id":"28c63adb.0f7d7e","type":"link out","z":"9bc24a99.023758","name":"BLcycle->BL","links":["cdf1e599.98a02"],"x":1135,"y":300,"wires":[]},{"id":"c4b66be6.0102b","type":"link out","z":"9bc24a99.023758","name":"PIDsetup->","links":["2984d7b5.fe29d8"],"x":1295,"y":880,"wires":[]},{"id":"2984d7b5.fe29d8","type":"link in","z":"9bc24a99.023758","name":"->ARDUINO HEATER","links":["c4b66be6.0102b","adac9125.ca28a8"],"x":1215,"y":3140,"wires":[["a438690a.454768"]]},{"id":"5c1e3869.acd15","type":"link out","z":"9bc24a99.023758","name":"GRlaunch->","links":["d15eeea.5b0f21"],"x":515,"y":2160,"wires":[]},{"id":"d15eeea.5b0f21","type":"link in","z":"9bc24a99.023758","name":"->GL","links":["5c1e3869.acd15"],"x":1035,"y":120,"wires":[["846ffb20.32ce78"]]},{"id":"e82d9cb2.61661","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":800,"y":3160,"wires":[["c73bdb46.d8919"]]},{"id":"5443565a.7744f","type":"PID","z":"9bc24a99.023758","name":"","setpoint":"550","pb":"0","ti":"900","td":0,"integral_default":0.5,"smooth_factor":3,"max_interval":600,"enable":"0","disabled_op":0,"x":1010,"y":3100,"wires":[["e0e170fa.13e38","95ed102f.85fa08"]]},{"id":"c943abea.de1fb","type":"arduino in","z":"9bc24a99.023758","name":"TempSensor","pin":"0","state":"ANALOG","arduino":"9d3e08ea.adda9","x":750,"y":3120,"wires":[["e82d9cb2.61661","7f75cf70.eca33"]]},{"id":"a438690a.454768","type":"arduino out","z":"9bc24a99.023758","name":"Heater","pin":"4","state":"OUTPUT","arduino":"9d3e08ea.adda9","x":1330,"y":3100,"wires":[]},{"id":"e0e170fa.13e38","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"PIDstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":3060,"wires":[[]]},{"id":"c2a5743a.02448","type":"inject","z":"9bc24a99.023758","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":"0.3","x":1130,"y":3020,"wires":[["e0e170fa.13e38"]]},{"id":"6dad66bb.8c0b9","type":"function","z":"9bc24a99.023758","name":"","func":"if (msg.payload===true){\n    msg.enable=1;\n}\nif (msg.payload===0){\n    msg.enable=0;\n}\nif (flow.get(\"PID\")===\"OFF\"){\n    msg.enable=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3080,"wires":[["5443565a.7744f"]]},{"id":"c73bdb46.d8919","type":"function","z":"9bc24a99.023758","name":"setpoint","func":"msg.setpoint=flow.get(\"Temp\");\nreturn msg;","outputs":1,"noerr":0,"x":840,"y":3200,"wires":[["5443565a.7744f"]]},{"id":"5f8f20f.cc347e","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":940,"y":980,"wires":[["a2b8c630.2d603"]]},{"id":"a2b8c630.2d603","type":"function","z":"9bc24a99.023758","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    msg.payload=0;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1210,"y":960,"wires":[["8133c38e.086248"]]},{"id":"95ed102f.85fa08","type":"function","z":"9bc24a99.023758","name":"","func":"if (flow.get(\"launched\")===false){\n    return;\n}\nelse if (flow.get(\"launched\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":1170,"y":3100,"wires":[["a438690a.454768"]]},{"id":"2ce47fa7.1eccf","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"launched","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1960,"wires":[[]]},{"id":"9db080d9.2758","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":800,"wires":[[]]},{"id":"d33a6658.3d9598","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"PID","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":860,"wires":[["77473b41.3e67cc"]]},{"id":"c3d3a507.57c6e","type":"inject","z":"9bc24a99.023758","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":250,"y":1960,"wires":[["2ce47fa7.1eccf"]]},{"id":"1e2628c1.3f0ed7","type":"link in","z":"9bc24a99.023758","name":"->launched","links":["564e0466.6f9afc"],"x":275,"y":2000,"wires":[["2ce47fa7.1eccf"]]},{"id":"cd2edeb1.049088","type":"function","z":"9bc24a99.023758","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    return msg;\n}\n","outputs":1,"noerr":0,"x":910,"y":940,"wires":[["5f8f20f.cc347e"]]},{"id":"f2bef60.7007b88","type":"inject","z":"9bc24a99.023758","name":"INITIALIZATION","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":290,"y":720,"wires":[["a9bb33d6.386fb"]]},{"id":"a9bb33d6.386fb","type":"function","z":"9bc24a99.023758","name":"initialization","func":"\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":740,"wires":[["85a6e9.04498918","91ee39ba.1ed96","9090b300.f03cd","e53718c9.7d8788","e9c5f9df.38def","50a21ed6.4bcc5","a3af81dc.ef6b98","5b06f716.2e785","576f2642.512508"]]},{"id":"2af9f53b.5dcba2","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=10;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":180,"wires":[["104c7975.66d77f","6bbde953.ebc258","7a47f8d9.8f13e"]]},{"id":"6bbde953.ebc258","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1670,"y":180,"wires":[["3093c727.ba04a","436c45a2.d22c34","49c3655.dd1791c"]]},{"id":"7a47f8d9.8f13e","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":300,"wires":[["f52f8056.57aa","36cb8c8d.543b0c"]]},{"id":"36cb8c8d.543b0c","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1710,"y":300,"wires":[["a78700a8.1477b8"]]},{"id":"2f36da3f.d4b8ce","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":520,"wires":[["1731740a.78fe44","528f169a.640808"]]},{"id":"528f169a.640808","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=\"seconds\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":520,"wires":[["62c8a296.ebcccc"]]},{"id":"85a6e9.04498918","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=1;\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":520,"wires":[["b002f48e.8c1598","622d6d49.a84e84"]]},{"id":"622d6d49.a84e84","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":520,"wires":[["76016c1.06d8094","2f36da3f.d4b8ce"]]},{"id":"eda651a8.1c67a","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":1140,"wires":[["9956eb2c.46283","d58618e2.147808"]]},{"id":"91ee39ba.1ed96","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":1140,"wires":[["dff6c6fd.32224","eda651a8.1c67a"]]},{"id":"9090b300.f03cd","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=550;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":840,"wires":[["7ab93e58.903d58"]]},{"id":"e53718c9.7d8788","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":880,"wires":[["8133c38e.086248"]]},{"id":"d58618e2.147808","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":1020,"wires":[["423e1bf4.63a3d4","1355d3e7.29992c"]]},{"id":"1355d3e7.29992c","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=100;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":980,"wires":[["cda87f66.cb8cc8","f02c38af.b8997"]]},{"id":"f02c38af.b8997","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":800,"wires":[["d33a6658.3d9598","7cf67920.5e991"]]},{"id":"e9c5f9df.38def","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":1020,"wires":[["6debe539.381acc"]]},{"id":"50a21ed6.4bcc5","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":420,"wires":[["b7aaef5d.0a7d8"]]},{"id":"576f2642.512508","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":300,"wires":[["f2ab1cc3.e0a25"]]},{"id":"5b06f716.2e785","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":180,"wires":[["ba492c59.3c55f","befa36a3.432498"]]},{"id":"a3af81dc.ef6b98","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":60,"wires":[["9d2110dd.2a9368"]]},{"id":"befa36a3.432498","type":"function","z":"9bc24a99.023758","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":60,"wires":[["2c9a474a.f41bd8","2af9f53b.5dcba2"]]},{"id":"af145d95.f3801","type":"link in","z":"9bc24a99.023758","name":"->initialization","links":["4b470e05.ab4bf8"],"x":375,"y":760,"wires":[["a9bb33d6.386fb"]]},{"id":"423e1bf4.63a3d4","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1480,"y":1060,"wires":[["54a3a80e.18f36"]]},{"id":"4ace4339.2a5134","type":"function","z":"9bc24a99.023758","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":600,"wires":[["cd5347bf.b8223"]]},{"id":"ff99cea5.129698","type":"inject","z":"9bc24a99.023758","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":640,"wires":[["b6d8ee66.89a23"]]},{"id":"1b0f221c.42e026","type":"function","z":"9bc24a99.023758","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measODtotal\")/1000-(msg.count%(flow.get(\"measODtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":300,"wires":[["899ac067.bcfd18"]]},{"id":"90d76add.1a6268","type":"ui_button","z":"9bc24a99.023758","name":"02 ODmeas Cycle counter","group":"dd4d9a20.f63d98","order":10,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":280,"wires":[[]]},{"id":"436c45a2.d22c34","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=flow.get(\"measODtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":260,"wires":[["899ac067.bcfd18","ae6d128b.b79cc8"]]},{"id":"43a85e54.d5cb1","type":"counter","z":"9bc24a99.023758","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":360,"wires":[["1b0f221c.42e026"]]},{"id":"b366b3fc.08921","type":"function","z":"9bc24a99.023758","name":"","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}if (flow.get(\"countermeasOD\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasOD\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":320,"wires":[["43a85e54.d5cb1"]]},{"id":"899ac067.bcfd18","type":"function","z":"9bc24a99.023758","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":280,"wires":[["90d76add.1a6268"]]},{"id":"13536767.f641a9","type":"inject","z":"9bc24a99.023758","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":320,"wires":[["b366b3fc.08921"]]},{"id":"77e5822a.07cb2c","type":"function","z":"9bc24a99.023758","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measBLtotal\")/1000-(msg.count%(flow.get(\"measBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":460,"wires":[["debfe800.41e78"]]},{"id":"1287f1f5.b89736","type":"ui_button","z":"9bc24a99.023758","name":"03 BLmeas Cycle counter","group":"dd4d9a20.f63d98","order":17,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":440,"wires":[[]]},{"id":"ae6d128b.b79cc8","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=flow.get(\"measBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":420,"wires":[["debfe800.41e78","6edce335.a4e37c"]]},{"id":"9d70eed7.dc5a1","type":"counter","z":"9bc24a99.023758","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":520,"wires":[["77e5822a.07cb2c"]]},{"id":"e7254389.814f6","type":"function","z":"9bc24a99.023758","name":"","func":"if (flow.get(\"countermeasBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":480,"wires":[["9d70eed7.dc5a1"]]},{"id":"debfe800.41e78","type":"function","z":"9bc24a99.023758","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":440,"wires":[["1287f1f5.b89736"]]},{"id":"b859c02e.ab3598","type":"inject","z":"9bc24a99.023758","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":480,"wires":[["e7254389.814f6"]]},{"id":"d880d8f0.9e4c38","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"countermeasBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1010,"y":4140,"wires":[[]]},{"id":"c85fb4fb.e79fe","type":"inject","z":"9bc24a99.023758","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4160,"wires":[["75c63201.da902c"]]},{"id":"75c63201.da902c","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4140,"wires":[["d880d8f0.9e4c38"]]},{"id":"1f0bb8ec.f00287","type":"link in","z":"9bc24a99.023758","name":"->Counter","links":["564e0466.6f9afc"],"x":415,"y":4120,"wires":[["75c63201.da902c"]]},{"id":"a5adcf74.3721","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"countermeasOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3560,"wires":[[]]},{"id":"3613340.4eedacc","type":"inject","z":"9bc24a99.023758","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":230,"y":3580,"wires":[["a3d25d4b.0d0d"]]},{"id":"a3d25d4b.0d0d","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":3560,"wires":[["a5adcf74.3721"]]},{"id":"3da826d7.d2696a","type":"link in","z":"9bc24a99.023758","name":"->Counter","links":["564e0466.6f9afc"],"x":255,"y":3540,"wires":[["a3d25d4b.0d0d"]]},{"id":"f2e968ca.6bcda8","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":4040,"wires":[["d880d8f0.9e4c38"]]},{"id":"5f808bbd.38fd5c","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":900,"wires":[["6e1f9184.ec038"]]},{"id":"47f5addd.6b6dbc","type":"counter","z":"9bc24a99.023758","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":980,"wires":[["87e8b0a3.c4e4d"]]},{"id":"88485ee8.e7a208","type":"function","z":"9bc24a99.023758","name":"","func":"if (flow.get(\"counterlaunch\")===false){\n    return;\n}\nelse if (flow.get(\"counterlaunch\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":940,"wires":[["47f5addd.6b6dbc"]]},{"id":"6e1f9184.ec038","type":"function","z":"9bc24a99.023758","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3120,"y":920,"wires":[["24a70560.122cc2","c5c4e50c.94c6a"]]},{"id":"d2161933.295ff8","type":"inject","z":"9bc24a99.023758","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":940,"wires":[["88485ee8.e7a208"]]},{"id":"24a70560.122cc2","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":53,"width":"4","height":"1","name":"09 elapsed time","label":"Elapsed time: ","format":"{{msg.payload}}","layout":"row-left","x":3280,"y":940,"wires":[]},{"id":"87e8b0a3.c4e4d","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=msg.count;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":940,"wires":[["6e1f9184.ec038"]]},{"id":"b47e4d8b.75abc","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"counterlaunch","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":2880,"wires":[[]]},{"id":"7c5d92e2.bc8204","type":"inject","z":"9bc24a99.023758","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":270,"y":2900,"wires":[["a24d586.58ab828"]]},{"id":"a24d586.58ab828","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":2880,"wires":[["b47e4d8b.75abc"]]},{"id":"fefde0a2.4ea65","type":"link in","z":"9bc24a99.023758","name":"->Counter","links":["564e0466.6f9afc"],"x":295,"y":2860,"wires":[["a24d586.58ab828"]]},{"id":"345815e3.5a3d4a","type":"function","z":"9bc24a99.023758","name":"","func":"if (msg.count>=flow.get(\"delaytotal\")/1000){\n    msg.payload=0;\n}\nelse {\n    msg.payload=flow.get(\"delaytotal\")/1000-(msg.count%(flow.get(\"delaytotal\")/1000));\n\n}\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":780,"wires":[["b2e4c0d5.999b4"]]},{"id":"840588a5.95f838","type":"ui_button","z":"9bc24a99.023758","name":"08 growthdelay Cycle counter","group":"dd4d9a20.f63d98","order":50,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3350,"y":760,"wires":[[]]},{"id":"60d54a35.904774","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=flow.get(\"delaytotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":740,"wires":[["b2e4c0d5.999b4","5f808bbd.38fd5c"]]},{"id":"4b505b91.a699e4","type":"counter","z":"9bc24a99.023758","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":840,"wires":[["345815e3.5a3d4a"]]},{"id":"43190e3a.3f24e8","type":"function","z":"9bc24a99.023758","name":"","func":"if (flow.get(\"delaytotal\")===0){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===false){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":800,"wires":[["4b505b91.a699e4"]]},{"id":"b2e4c0d5.999b4","type":"function","z":"9bc24a99.023758","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":760,"wires":[["840588a5.95f838"]]},{"id":"517ef7e0.668e38","type":"inject","z":"9bc24a99.023758","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":800,"wires":[["43190e3a.3f24e8"]]},{"id":"181053fa.afa40c","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"counterdelay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1040,"y":3840,"wires":[[]]},{"id":"b7c25d09.ca7038","type":"inject","z":"9bc24a99.023758","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":430,"y":3860,"wires":[["a3c623c4.6409e"]]},{"id":"a3c623c4.6409e","type":"function","z":"9bc24a99.023758","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":3840,"wires":[["181053fa.afa40c","489bff2.812e1"]]},{"id":"5e8338a2.532ea8","type":"link in","z":"9bc24a99.023758","name":"->Counter","links":["564e0466.6f9afc"],"x":455,"y":3820,"wires":[["a3c623c4.6409e"]]},{"id":"943fbedc.b35088","type":"ui_text","z":"9bc24a99.023758","group":"dd4d9a20.f63d98","order":51,"width":"2","height":"1","name":"08 growth delay status","label":"","format":"{{msg.payload}}","layout":"row-center","x":1110,"y":3960,"wires":[]},{"id":"489bff2.812e1","type":"function","z":"9bc24a99.023758","name":"","func":"if (msg.payload===false){\n    msg.payload=\"delay status\";\n}\nif (msg.payload===\"delay\"){\n    msg.payload=\"ongoing\";\n}\nelse if (msg.payload===true){\n    msg.payload=\"over\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3960,"wires":[["943fbedc.b35088"]]},{"id":"11161666.8ad3e2","type":"function","z":"9bc24a99.023758","name":"reset","func":"msg.reset=true;\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2410,"y":540,"wires":[["43a85e54.d5cb1","c08e3cc6.48aec8","4b505b91.a699e4","47f5addd.6b6dbc"]]},{"id":"49c3655.dd1791c","type":"delay","z":"9bc24a99.023758","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":2240,"y":520,"wires":[["11161666.8ad3e2"]]},{"id":"c5c4e50c.94c6a","type":"change","z":"9bc24a99.023758","name":"","rules":[{"t":"set","p":"elapsed","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3290,"y":900,"wires":[[]]},{"id":"b47415a.a402e68","type":"function","z":"9bc24a99.023758","name":"elapsed","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=\"Elapsed time \"+flow.get(\"elapsed\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":1660,"wires":[["a123d037.c90ee8"]]},{"id":"a123d037.c90ee8","type":"file","z":"9bc24a99.023758","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1270,"y":1660,"wires":[[]]},{"id":"654694b2.037314","type":"comment","z":"9bc24a99.023758","name":"BOUGZY DEPLOY","info":"","x":2590,"y":80,"wires":[]},{"id":"efbc94b4.ee155","type":"arduino out","z":"656ab444.766c2c","name":"GL17","pin":"3","state":"OUTPUT","arduino":"5b850958.14c3d8","x":1130,"y":60,"wires":[]},{"id":"e9ae199f.29a59","type":"arduino out","z":"656ab444.766c2c","name":"YL17","pin":"2","state":"OUTPUT","arduino":"5b850958.14c3d8","x":1550,"y":60,"wires":[]},{"id":"543bd859.52a8b","type":"ui_slider","z":"656ab444.766c2c","name":"05 intensity:","label":"intensity:","tooltip":"","group":"4e07d53e.eeff54","order":30,"width":"7","height":"1","passthru":true,"outs":"end","topic":"","min":0,"max":"255","step":"1","x":1170,"y":420,"wires":[["5be32cfc.5b30d4","a528ba59.fb2b7"]]},{"id":"5984cc4f.0bf3d4","type":"ui_numeric","z":"656ab444.766c2c","name":"06 and set to 480","label":"and set to","tooltip":"","group":"4e07d53e.eeff54","order":37,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"1025","step":"1","x":1030,"y":840,"wires":[["8394e7b8.26ef4"]]},{"id":"2115acbb.633c64","type":"ui_switch","z":"656ab444.766c2c","name":"01 GL17","label":"","tooltip":"","group":"4e07d53e.eeff54","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"green","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"green","x":1000,"y":60,"wires":[["efbc94b4.ee155"]]},{"id":"dbbf159a.bd0538","type":"ui_switch","z":"656ab444.766c2c","name":"01 YL17","label":"","tooltip":"","group":"4e07d53e.eeff54","order":4,"width":"1","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#e2c43c","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"#e2c43c","x":1420,"y":60,"wires":[["e9ae199f.29a59"]]},{"id":"1b510a99.49ba5d","type":"ui_switch","z":"656ab444.766c2c","name":"02 IR17","label":"","tooltip":"","group":"4e07d53e.eeff54","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"red","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1000,"y":180,"wires":[["4aab47d3.57e5c"]]},{"id":"719c1206.c1a87c","type":"ui_switch","z":"656ab444.766c2c","name":"03 BL17","label":"","tooltip":"","group":"4e07d53e.eeff54","order":12,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#44cff1","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1020,"y":300,"wires":[["a528ba59.fb2b7"]]},{"id":"2981ccee.8c10d4","type":"ui_switch","z":"656ab444.766c2c","name":"07 FAN","label":"","tooltip":"","group":"4e07d53e.eeff54","order":40,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"toys","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1620,"y":1080,"wires":[["c4eaca3d.a8e968"]]},{"id":"b72c62d2.4278d8","type":"ui_switch","z":"656ab444.766c2c","name":"06 T01 PID","label":"","tooltip":"","group":"4e07d53e.eeff54","order":33,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"enable","style":"","onvalue":"1","onvalueType":"num","onicon":"hot_tub","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1030,"y":880,"wires":[["45fb0dd9.d261a4","b4d2b234.56a188"]]},{"id":"f83b9767.517468","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":25,"width":"2","height":"1","name":"04 spacer","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1770,"y":520,"wires":[]},{"id":"db2f443d.e8ecd","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":46,"width":"7","height":"1","name":"07 last spacer","label":"(produces sound: fine).","format":"{{msg.payload}}","layout":"row-spread","x":1960,"y":1020,"wires":[]},{"id":"a62e77bf.2ff128","type":"ui_numeric","z":"656ab444.766c2c","name":"02 every 5","label":"every","tooltip":"","group":"4e07d53e.eeff54","order":7,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1450,"y":220,"wires":[["43823e76.70b41"]]},{"id":"ea70e320.1a191","type":"ui_dropdown","z":"656ab444.766c2c","name":"02 minutes","label":"","tooltip":"","place":"Select option","group":"4e07d53e.eeff54","order":8,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1690,"y":220,"wires":[["20a26718.3e2bc8"]]},{"id":"237bdcf2.e1ef8c","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"measODtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2280,"y":320,"wires":[["b6115a1d.119dc8"]]},{"id":"a9a7aa60.a539e8","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":9,"width":"7","height":"1","name":"02 (takes 5 seconds)","label":"(takes 5 seconds).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":180,"wires":[]},{"id":"40f5b7ab.355228","type":"ui_numeric","z":"656ab444.766c2c","name":"03 every 5","label":"every","tooltip":"","group":"4e07d53e.eeff54","order":14,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1490,"y":340,"wires":[["7d1295f0.c0a834"]]},{"id":"e5e47818.892cd","type":"ui_dropdown","z":"656ab444.766c2c","name":"03 minutes","label":"","tooltip":"","place":"Select option","group":"4e07d53e.eeff54","order":15,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1730,"y":340,"wires":[["7da59182.b5d0a"]]},{"id":"7d1295f0.c0a834","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"measBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":380,"wires":[["af32d727.0bcd38"]]},{"id":"8527e83f.1c1c08","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"measBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1940,"y":380,"wires":[["af32d727.0bcd38"]]},{"id":"5af049.7f7f37b8","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":16,"width":"7","height":"1","name":"03 (takes 5 seconds)","label":"(takes 5 secs, max illum., shifted timing).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":300,"wires":[]},{"id":"5be32cfc.5b30d4","type":"ui_numeric","z":"656ab444.766c2c","name":"05 at 255","label":"at","tooltip":"","group":"4e07d53e.eeff54","order":29,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":"1","x":1020,"y":420,"wires":[["7f2b948e.2eb1c4","543bd859.52a8b"]]},{"id":"7f2b948e.2eb1c4","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"intBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":460,"wires":[[]]},{"id":"a413a436.b617f8","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":6,"width":"3","height":"1","name":"02 Meaure OD:","label":"Measure OD:","format":"{{msg.payload}}","layout":"row-spread","x":1280,"y":180,"wires":[]},{"id":"ee5820c8.89b12","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":13,"width":"3","height":"1","name":"03 Meaure BL:","label":"Measure BL:","format":"{{msg.payload}}","layout":"row-spread","x":1340,"y":300,"wires":[]},{"id":"66eb8ead.01fc08","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":28,"width":"4","height":"1","name":"05 spacer1","label":"","format":"{{msg.payload}}","layout":"row-spread","x":710,"y":420,"wires":[]},{"id":"fd7fe374.b640e","type":"ui_button","z":"656ab444.766c2c","name":"05 OK","group":"4e07d53e.eeff54","order":31,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1350,"y":420,"wires":[["719c1206.c1a87c"]]},{"id":"3c0772c3.418646","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":19,"width":"1","height":"1","name":"04 - -","label":"","format":"{{msg.payload}}","layout":"row-spread","x":630,"y":520,"wires":[]},{"id":"6f0e338.de91acc","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":20,"width":"3","height":"1","name":"04 Illuminate BL:","label":"Illuminate BL:","format":"{{msg.payload}}","layout":"row-spread","x":670,"y":560,"wires":[]},{"id":"6ccc8a51.226f6c","type":"ui_numeric","z":"656ab444.766c2c","name":"04 every 1","label":"every","tooltip":"","group":"4e07d53e.eeff54","order":21,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":850,"y":560,"wires":[["6c00df32.7a91a8"]]},{"id":"1057df5.a796fa1","type":"ui_dropdown","z":"656ab444.766c2c","name":"04 hour","label":"","tooltip":"","place":"Select option","group":"4e07d53e.eeff54","order":22,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1080,"y":560,"wires":[["920bc9ed.3b27d"]]},{"id":"6c00df32.7a91a8","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"pillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":600,"wires":[["572d5f2.31bb8a"]]},{"id":"78e6d0b2.76eb9","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"pillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":640,"wires":[["572d5f2.31bb8a"]]},{"id":"a14d1691.0179a","type":"ui_numeric","z":"656ab444.766c2c","name":"04 for 5","label":"for","tooltip":"","group":"4e07d53e.eeff54","order":23,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1340,"y":560,"wires":[["43fb335e.4cb85c"]]},{"id":"d49862f.918c52","type":"ui_dropdown","z":"656ab444.766c2c","name":"04 minutes","label":"","tooltip":"","place":"Select option","group":"4e07d53e.eeff54","order":24,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1590,"y":560,"wires":[["8372b59b.761298"]]},{"id":"43fb335e.4cb85c","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"tillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":600,"wires":[["da3711d3.ca36a"]]},{"id":"8acee80f.5c2228","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"tillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1610,"y":640,"wires":[["da3711d3.ca36a"]]},{"id":"728ebdbf.18b8ac","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":32,"width":"5","height":"1","name":"05 spacer2","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1530,"y":420,"wires":[]},{"id":"ef1e9ea2.19ac08","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":35,"width":"2","height":"1","name":"06 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1850,"y":860,"wires":[]},{"id":"9d032c2d.7773c","type":"ui_switch","z":"656ab444.766c2c","name":"06 act.switch","label":"","tooltip":"","group":"4e07d53e.eeff54","order":36,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"hot_tub","oncolor":"red","offvalue":"OFF","offvalueType":"str","officon":"ac_unit","offcolor":"grey","x":1520,"y":880,"wires":[["fcee960.6e485e8"]]},{"id":"fc5999dd.cab7f","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":38,"width":"6","height":"1","name":"06 Volts.","label":"Volts.","format":"{{msg.payload}}","layout":"row-spread","x":1220,"y":840,"wires":[]},{"id":"35a721cd.dba796","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":34,"width":"4","height":"1","name":"06 Temperature control:","label":"Temperature control:","format":"{{msg.payload}}","layout":"row-spread","x":2050,"y":860,"wires":[]},{"id":"2ccd5409.dbcbe4","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":41,"width":"4","height":"1","name":"07 Fan:","label":"Fan:","format":"{{msg.payload}}","layout":"row-spread","x":700,"y":1060,"wires":[]},{"id":"ebf2eb7a.cc6a48","type":"ui_switch","z":"656ab444.766c2c","name":"07 enable switch","label":"","tooltip":"","group":"4e07d53e.eeff54","order":43,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"toys","oncolor":"green","offvalue":"OFF","offvalueType":"str","officon":"radio_button_unchecked","offcolor":"grey","x":910,"y":1060,"wires":[["edcc6699.7b0718","963f170f.da875"]]},{"id":"963f170f.da875","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":42,"width":"2","height":"1","name":"07 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1230,"y":1060,"wires":[]},{"id":"edcc6699.7b0718","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"FANstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1020,"wires":[[]]},{"id":"dcf4e124.6998e","type":"ui_numeric","z":"656ab444.766c2c","name":"07 and set to 100","label":"and set to","tooltip":"","group":"4e07d53e.eeff54","order":44,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"255","step":"1","x":1590,"y":1020,"wires":[["39e33fa9.dc72d","c4eaca3d.a8e968"]]},{"id":"39e33fa9.dc72d","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"intFAN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1780,"y":1000,"wires":[[]]},{"id":"ed2fdb3d.70e8c","type":"ui_button","z":"656ab444.766c2c","name":"07 OK","group":"4e07d53e.eeff54","order":45,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1430,"y":1100,"wires":[["2981ccee.8c10d4"]]},{"id":"9f161c2e.623418","type":"ui_numeric","z":"656ab444.766c2c","name":"08 add delay","label":"Add growing delay of","tooltip":"","group":"4e07d53e.eeff54","order":47,"width":"6","height":"1","passthru":true,"topic":"setpoint","format":"{{value}}","min":"0","max":"100","step":"1","x":870,"y":1180,"wires":[["ba6f3e24.4df738"]]},{"id":"51df936d.01d484","type":"ui_dropdown","z":"656ab444.766c2c","name":"08 hour","label":"","tooltip":"","place":"Select option","group":"4e07d53e.eeff54","order":48,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1060,"y":1180,"wires":[["a42de3c.3f141a"]]},{"id":"ba6f3e24.4df738","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"delay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":1220,"wires":[["1c5a7c1f.7a74a4"]]},{"id":"bef7d31c.2dc64","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"delayunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1090,"y":1220,"wires":[["1c5a7c1f.7a74a4"]]},{"id":"f1a176c6.85f908","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":49,"width":"8","height":"1","name":"08 finalspacer","label":"(during which no BL measure will be made).","format":"{{msg.payload}}","layout":"row-spread","x":1240,"y":1140,"wires":[]},{"id":"c417ea85.4b128","type":"ui_text_input","z":"656ab444.766c2c","name":"09 DETAILS","label":"DETAILS:","tooltip":"","group":"4e07d53e.eeff54","order":52,"width":"16","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1110,"y":2560,"wires":[["573c14bb.39a09c"]]},{"id":"f36c3afd.035ae","type":"ui_text_input","z":"656ab444.766c2c","name":"10 Nickname","label":"Nickname:","tooltip":"","group":"4e07d53e.eeff54","order":54,"width":"4","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1120,"y":2600,"wires":[["e6bf05f5.5bcd48"]]},{"id":"f1bed95c.99b04","type":"inject","z":"656ab444.766c2c","name":"","topic":"","payload":"eV10_","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":830,"y":2600,"wires":[["a6c63a1e.11017"]]},{"id":"7efd465e.3079c8","type":"ui_button","z":"656ab444.766c2c","name":"10 LAUNCH EXP","group":"4e07d53e.eeff54","order":55,"width":"10","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"bool","topic":"","x":310,"y":1900,"wires":[["3453fdd7.2ad83a","fb062f07.5c07","436414bf.2c6a84","b9c99a39.6bbea","9afc030a.a17448","f3549b78.78a028","17805cc0.5fd073"]]},{"id":"da81ac28.7b413","type":"function","z":"656ab444.766c2c","name":"","func":"msg.label=\"Running...\";\nmsg.background=\"#FFC300\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1600,"wires":[["7efd465e.3079c8"]]},{"id":"abb111c0.b55808","type":"function","z":"656ab444.766c2c","name":"","func":"msg.label=\"LAUNCH EXPERIMENT\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1520,"wires":[["7efd465e.3079c8"]]},{"id":"e3bf627d.94583","type":"inject","z":"656ab444.766c2c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":210,"y":1640,"wires":[["b9c99a39.6bbea"]]},{"id":"17bec7ba.56e","type":"ui_button","z":"656ab444.766c2c","name":"10 RESET","group":"4e07d53e.eeff54","order":57,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"reset","payloadType":"str","topic":"","x":1610,"y":1480,"wires":[["f4615f44.153a7","99b4080c.479a4","72362f49.3f97a","e35852e6.7f40a8"]]},{"id":"f4615f44.153a7","type":"function","z":"656ab444.766c2c","name":"","func":"msg.label=\"Reseting...\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1520,"wires":[["17bec7ba.56e","6dcc0843.a2ad"]]},{"id":"fa8ce053.c40168","type":"function","z":"656ab444.766c2c","name":"","func":"msg.label=\"RESET\";\nmsg.background=\"grey\";\nreturn msg;","outputs":1,"noerr":0,"x":1750,"y":1660,"wires":[["17bec7ba.56e"]]},{"id":"5c05005c.b02b38","type":"inject","z":"656ab444.766c2c","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1630,"y":1680,"wires":[["fa8ce053.c40168"]]},{"id":"6dcc0843.a2ad","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1560,"wires":[["ff88c80a.055ac"]]},{"id":"ff88c80a.055ac","type":"function","z":"656ab444.766c2c","name":"","func":"msg.label=\"SUCCESS\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1600,"wires":[["7072a9bd.7bca","17bec7ba.56e"]]},{"id":"7072a9bd.7bca","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1640,"wires":[["fa8ce053.c40168"]]},{"id":"64cd9f7a.18054","type":"function","z":"656ab444.766c2c","name":"","func":"msg.label=\"Halted experiment\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1560,"wires":[["7efd465e.3079c8"]]},{"id":"d432577a.911228","type":"ui_button","z":"656ab444.766c2c","name":"10 STOP","group":"4e07d53e.eeff54","order":56,"width":"4","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"str","topic":"","x":860,"y":1540,"wires":[["e13ca274.c8d4f8"]]},{"id":"2b26034c.85e3ac","type":"function","z":"656ab444.766c2c","name":"","func":"msg.label=\"Stopped.\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":1580,"wires":[["d432577a.911228"]]},{"id":"ab6aece.396fd9","type":"inject","z":"656ab444.766c2c","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":710,"y":1500,"wires":[["892dcf5e.fbb818"]]},{"id":"892dcf5e.fbb818","type":"function","z":"656ab444.766c2c","name":"","func":"msg.label=\"STOP\";\nmsg.background=\"#cb4335\";\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1500,"wires":[["d432577a.911228"]]},{"id":"e8559dd1.a4f1a8","type":"comment","z":"656ab444.766c2c","name":"Launch TODOs","info":"Turn off and disable all above switches\ndisable the launch button\nCA MARCHE PAS","x":840,"y":2080,"wires":[]},{"id":"916ae869.9c62e","type":"comment","z":"656ab444.766c2c","name":"Reset TODOs","info":"Enable anew all above switches\nReset all default values in exp menu\nBlink LEDs as indicators ;)","x":1440,"y":1660,"wires":[]},{"id":"9d2f2dae.3b39e8","type":"comment","z":"656ab444.766c2c","name":"Stop TODOs","info":"","x":850,"y":1420,"wires":[]},{"id":"c4dfd64a.3fc4b","type":"simpletime","z":"656ab444.766c2c","name":"","x":910,"y":2360,"wires":[["50bde23e.1a53e4","a90d2cff.f152e8"]]},{"id":"50bde23e.1a53e4","type":"function","z":"656ab444.766c2c","name":"20190417_172653_nickname/...","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\")+\"/\"+msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1180,"y":2360,"wires":[["5a342b7a.863ccc","f72c1b69.275dc8","c8f0f9d5.0324e","909b8c07.957cf"]]},{"id":"c8f0f9d5.0324e","type":"join","z":"656ab444.766c2c","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2400,"wires":[["194c18e.013c0e7"]]},{"id":"5a342b7a.863ccc","type":"join","z":"656ab444.766c2c","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2440,"wires":[["1c0375ef.220cea"]]},{"id":"f72c1b69.275dc8","type":"join","z":"656ab444.766c2c","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2480,"wires":[["d22c5aec.162c9"]]},{"id":"dabb7452.006bc8","type":"function","z":"656ab444.766c2c","name":"/home/lab513/Desktop/eVOLVER_data/","func":"if (msg.payload){\n    msg.payload=\"/home/lab513/Desktop/eVOLVER_data/\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":2320,"wires":[["c8f0f9d5.0324e","5a342b7a.863ccc","f72c1b69.275dc8","909b8c07.957cf"]]},{"id":"91895596.6b058","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"delay","timeout":"0.2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2360,"wires":[["c4dfd64a.3fc4b"]]},{"id":"71ed18d4.393628","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"nickname","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":2600,"wires":[[]]},{"id":"f95597be.d92618","type":"function","z":"656ab444.766c2c","name":".IR","func":"if (msg.payload){\n    msg.payload=\".IR\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2400,"wires":[["c8f0f9d5.0324e"]]},{"id":"f1f4ea63.76f37","type":"function","z":"656ab444.766c2c","name":".BL","func":"if (msg.payload){\n    msg.payload=\".BL\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2440,"wires":[["5a342b7a.863ccc"]]},{"id":"1ab57953.4b502f","type":"function","z":"656ab444.766c2c","name":".Temp","func":"if (msg.payload){\n    msg.payload=\".Temp\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2480,"wires":[["f72c1b69.275dc8"]]},{"id":"3453fdd7.2ad83a","type":"function","z":"656ab444.766c2c","name":"Creates Files:","func":"\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":2280,"wires":[["91895596.6b058","46019bc2.008c24","b90a058.a7209f8","659a506c.589768","54d6e8c2.eae66","fb993146.a4d9f","98944acf.14e0e"]]},{"id":"659a506c.589768","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2400,"wires":[["f95597be.d92618"]]},{"id":"54d6e8c2.eae66","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2440,"wires":[["f1f4ea63.76f37"]]},{"id":"fb993146.a4d9f","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2480,"wires":[["1ab57953.4b502f"]]},{"id":"46019bc2.008c24","type":"function","z":"656ab444.766c2c","name":"reset","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":2280,"wires":[["194c18e.013c0e7","1c0375ef.220cea","d22c5aec.162c9","f06d66e7.51e2e8"]]},{"id":"b90a058.a7209f8","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"delay","timeout":"0.1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2320,"wires":[["dabb7452.006bc8"]]},{"id":"e6bf05f5.5bcd48","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2600,"wires":[["71ed18d4.393628"]]},{"id":"194c18e.013c0e7","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"FileNameIR","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1500,"y":2400,"wires":[[]]},{"id":"1c0375ef.220cea","type":"change","z":"656ab444.766c2c","name":"FileNameBL","rules":[{"t":"set","p":"FileNameBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1470,"y":2440,"wires":[[]]},{"id":"d22c5aec.162c9","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"FileNameTemp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":2480,"wires":[[]]},{"id":"909b8c07.957cf","type":"join","z":"656ab444.766c2c","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2520,"wires":[["f06d66e7.51e2e8"]]},{"id":"2b0d2708.37aac","type":"function","z":"656ab444.766c2c","name":".readme","func":"if (msg.payload){\n    msg.payload=\".readme\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":2520,"wires":[["909b8c07.957cf"]]},{"id":"98944acf.14e0e","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2520,"wires":[["2b0d2708.37aac"]]},{"id":"f06d66e7.51e2e8","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"FileNameReadme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":2520,"wires":[[]]},{"id":"b41f83fc.46a7c8","type":"inject","z":"656ab444.766c2c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":810,"y":2560,"wires":[["3f6d5f32.0c9d58"]]},{"id":"573c14bb.39a09c","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2560,"wires":[["a483bccf.863408"]]},{"id":"a483bccf.863408","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"readme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1480,"y":2560,"wires":[[]]},{"id":"a90d2cff.f152e8","type":"function","z":"656ab444.766c2c","name":"displayname","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":2640,"wires":[["8d434e12.ea9318"]]},{"id":"8d434e12.ea9318","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":2,"width":"15","height":"1","name":"00 Running","label":"Running:","format":"{{msg.payload}}","layout":"row-left","x":1310,"y":2640,"wires":[]},{"id":"64224049.36e9f","type":"inject","z":"656ab444.766c2c","name":"","topic":"","payload":"-","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":890,"y":2640,"wires":[["f93011ac.42285"]]},{"id":"e13ca274.c8d4f8","type":"function","z":"656ab444.766c2c","name":"STOP ACTIONS:","func":"msg.payload=false;\nreturn msg;\n\n//this function allows the fact that the\n//reset button first does the stop action\n//and then resets the buttons etc","outputs":1,"noerr":0,"x":1050,"y":1560,"wires":[["64cd9f7a.18054","2b26034c.85e3ac","2ac77faf.85114","3d8eeb1e.28540c","11ac1b68.4e7c2d"]]},{"id":"99b4080c.479a4","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":300,"y":1480,"wires":[["abb111c0.b55808"]]},{"id":"72362f49.3f97a","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":850,"y":1460,"wires":[["892dcf5e.fbb818"]]},{"id":"b4a7b459.c1f7d","type":"function","z":"656ab444.766c2c","name":"disable/enable switches","func":"if (msg.payload===\"launch\"){\n    msg.enabled=false;\n}\nelse if (msg.payload===0){\n    msg.enabled=true;\n}\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":2080,"wires":[[]]},{"id":"f93011ac.42285","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=\"-\";\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":2640,"wires":[["8d434e12.ea9318"]]},{"id":"fb062f07.5c07","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":560,"y":2800,"wires":[["f95f40e0.171478","e3f6aa88.8b7028","d7d26f76.b0e44","7dc926b6.517f","6c7e33b3.c6e054","b2705c79.9116c8","fc11e792.33ec98","c7498890.eb40f"]]},{"id":"1e18dbb8.de20b4","type":"file","z":"656ab444.766c2c","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3420,"wires":[[]]},{"id":"a8aed7cf.28d3e8","type":"file","z":"656ab444.766c2c","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3380,"wires":[[]]},{"id":"ef1918e1.2aff2","type":"file","z":"656ab444.766c2c","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3460,"wires":[[]]},{"id":"42ea0e12.7eb8a8","type":"switch","z":"656ab444.766c2c","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3420,"wires":[["1839b65b.d3e802"]]},{"id":"e3f6aa88.8b7028","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"StoreInFile","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":3340,"wires":[[]]},{"id":"9e806ae5.8cab8","type":"comment","z":"656ab444.766c2c","name":"Allows storage in the filenames","info":"","x":1050,"y":3340,"wires":[]},{"id":"202156b.5e7052a","type":"arduino in","z":"656ab444.766c2c","name":"Blue Light Sensor","pin":"2","state":"ANALOG","arduino":"c802aebd.49388","x":790,"y":3420,"wires":[["9e49a0f1.cb26c"]]},{"id":"f1540b5c.6d8f88","type":"arduino in","z":"656ab444.766c2c","name":"IR Sensor","pin":"1","state":"ANALOG","arduino":"c802aebd.49388","x":760,"y":3380,"wires":[["fa878a0a.671198"]]},{"id":"9e49a0f1.cb26c","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3420,"wires":[["42ea0e12.7eb8a8","dda78d8b.d0fa9"]]},{"id":"fa878a0a.671198","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3380,"wires":[["e08d263b.99b4d","8981956b.6d1e8"]]},{"id":"d780ff2d.becf58","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3460,"wires":[["381a248d.bb041c","f0f1a9a2.bc834"]]},{"id":"e08d263b.99b4d","type":"switch","z":"656ab444.766c2c","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3380,"wires":[["1989e51c.7e8ceb"]]},{"id":"381a248d.bb041c","type":"switch","z":"656ab444.766c2c","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3460,"wires":[["a23283a6.411ee8"]]},{"id":"6e083e38.95e8f8","type":"inject","z":"656ab444.766c2c","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":330,"y":3340,"wires":[["7c08c2b4.816584"]]},{"id":"f95f40e0.171478","type":"function","z":"656ab444.766c2c","name":"readme","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=flow.get(\"readme\")+\"\\n\"+\n    \"measOD \"+flow.get(\"measOD\").toString()+\"\\n\"+\n    \"measODunits \"+flow.get(\"measODunits\").toString()+\"\\n\"+\n    \"measODtotal \"+flow.get(\"measODtotal\").toString()+\"\\n\"+\n    \n    \"measBL \"+flow.get(\"measBL\").toString()+\"\\n\"+\n    \"measBLunits \"+flow.get(\"measBLunits\").toString()+\"\\n\"+\n    \"measBLtotal \"+flow.get(\"measBLtotal\").toString()+\"\\n\"+\n    \n    \"intBL \"+flow.get(\"intBL\").toString()+\"\\n\"+\n    \n    \"pillBL \"+flow.get(\"pillBL\").toString()+\"\\n\"+\n    \"pillBLunits \"+flow.get(\"pillBLunits\").toString()+\"\\n\"+\n    \"pillBLtotal \"+flow.get(\"pillBLtotal\").toString()+\"\\n\"+\n    \n    \"tillBL \"+flow.get(\"tillBL\").toString()+\"\\n\"+\n    \"tillBLunits \"+flow.get(\"tillBLunits\").toString()+\"\\n\"+\n    \"tillBLtotal \"+flow.get(\"tillBLtotal\").toString()+\"\\n\"+\n    \n    \"Temp \"+flow.get(\"Temp\").toString()+\"\\n\"+\n    \"PID \"+flow.get(\"PID\").toString()+\"\\n\"+\n    \n    \"FANstate \"+flow.get(\"FANstate\").toString()+\"\\n\"+\n    \"intFAN \"+flow.get(\"intFAN\").toString()+\"\\n\"+\n    \n    \"delay \"+flow.get(\"delay\").toString()+\"\\n\"+\n    \"delayunits \"+flow.get(\"delayunits\").toString()+\"\\n\"+\n    \"delaytotal \"+flow.get(\"delaytotal\").toString()+\"\\n\";\n\n//msg.myepoch=msg.myepoch.toString();\n//msg.payload=msg.payload+\";\"+msg.myepoch;\n\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":2940,"wires":[["8199994b.c02d9"]]},{"id":"8199994b.c02d9","type":"file","z":"656ab444.766c2c","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":890,"y":2940,"wires":[[]]},{"id":"1989e51c.7e8ceb","type":"simpletime","z":"656ab444.766c2c","name":"","x":1330,"y":3380,"wires":[["c62d111f.c8b99"]]},{"id":"c62d111f.c8b99","type":"function","z":"656ab444.766c2c","name":"IR+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameIR\");\nreturn msg;","outputs":1,"noerr":0,"x":1480,"y":3380,"wires":[["a8aed7cf.28d3e8"]]},{"id":"1839b65b.d3e802","type":"simpletime","z":"656ab444.766c2c","name":"","x":1330,"y":3420,"wires":[["4e5bd15.17dedb"]]},{"id":"4e5bd15.17dedb","type":"function","z":"656ab444.766c2c","name":"BL+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameBL\");\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":3420,"wires":[["1e18dbb8.de20b4"]]},{"id":"a23283a6.411ee8","type":"simpletime","z":"656ab444.766c2c","name":"","x":1330,"y":3460,"wires":[["c763b29d.92ab78"]]},{"id":"c763b29d.92ab78","type":"function","z":"656ab444.766c2c","name":"Temp+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameTemp\");\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":3460,"wires":[["ef1918e1.2aff2"]]},{"id":"3f6d5f32.0c9d58","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2560,"wires":[["c417ea85.4b128"]]},{"id":"a6c63a1e.11017","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=\"eV10_\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2600,"wires":[["f36c3afd.035ae"]]},{"id":"f9885465.973808","type":"function","z":"656ab444.766c2c","name":"(reset)","func":"\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":2600,"wires":[["3f6d5f32.0c9d58","a6c63a1e.11017","f93011ac.42285"]]},{"id":"436414bf.2c6a84","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=\"launch\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":2040,"wires":[["b4a7b459.c1f7d"]]},{"id":"7c08c2b4.816584","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3340,"wires":[["e3f6aa88.8b7028"]]},{"id":"d7d26f76.b0e44","type":"function","z":"656ab444.766c2c","name":"255","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":750,"y":3640,"wires":[["9508e509.8aa478","aeb00e2c.e28e5"]]},{"id":"9508e509.8aa478","type":"function","z":"656ab444.766c2c","name":"measODtotal","func":"msg.delay=flow.get(\"measODtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":780,"y":3680,"wires":[["f7d3b3d1.787138"]]},{"id":"f7d3b3d1.787138","type":"delay","z":"656ab444.766c2c","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":3720,"wires":[["d7d26f76.b0e44"]]},{"id":"aa151c45.495f4","type":"function","z":"656ab444.766c2c","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3640,"wires":[["f7d3b3d1.787138","aeb00e2c.e28e5"]]},{"id":"aeb00e2c.e28e5","type":"trigger","z":"656ab444.766c2c","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1050,"y":3640,"wires":[["de96796b.663f38","15f87ee2.f68b41","1ba84644.58c102"]]},{"id":"de96796b.663f38","type":"function","z":"656ab444.766c2c","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":3640,"wires":[["109078a1.550ebf"]]},{"id":"15f87ee2.f68b41","type":"arduino out","z":"656ab444.766c2c","name":"IR17","pin":"5","state":"PWM","arduino":"c802aebd.49388","x":1810,"y":3680,"wires":[]},{"id":"cdfae7fc.674ba","type":"switch","z":"656ab444.766c2c","name":"lance ventilo","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"gt","v":"160","vt":"num"},{"t":"btwn","v":"0","vt":"num","v2":"160","v2t":"num"}],"checkall":"false","repair":false,"outputs":3,"x":1470,"y":3820,"wires":[["28827b26.a37d24"],["28827b26.a37d24"],["89ccca8c.ef22a","5dae0238.92174c"]],"info":"Coz the ventilo wont start if the value is \nbelow 160.\nTo have a value below 160, we need to start w\na bigger value and THEN get down in value"},{"id":"28827b26.a37d24","type":"arduino out","z":"656ab444.766c2c","name":"Fan","pin":"9","state":"PWM","arduino":"c802aebd.49388","x":1810,"y":3800,"wires":[]},{"id":"5dae0238.92174c","type":"function","z":"656ab444.766c2c","name":"200","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":1630,"y":3840,"wires":[["28827b26.a37d24"]]},{"id":"89ccca8c.ef22a","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":3880,"wires":[["28827b26.a37d24"]]},{"id":"109078a1.550ebf","type":"arduino out","z":"656ab444.766c2c","name":"BL17","pin":"6","state":"PWM","arduino":"c802aebd.49388","x":1810,"y":3740,"wires":[]},{"id":"e35852e6.7f40a8","type":"link out","z":"656ab444.766c2c","name":"RESET17->","links":["84e931a2.7505c","c9f61fa6.4fda6","a411ad0b.739b78","440a2d2c.698774","3742e0c8.bcab08","b9fa99c.24e2868","9b3e4119.84a748","948bae02.d8b248"],"x":1755,"y":1480,"wires":[]},{"id":"84e931a2.7505c","type":"link in","z":"656ab444.766c2c","name":"->Nickname&details","links":["e35852e6.7f40a8"],"x":595,"y":2560,"wires":[["f9885465.973808"]]},{"id":"33e9bb0b.1370d4","type":"link in","z":"656ab444.766c2c","name":"->StoreInFile","links":["2ac77faf.85114"],"x":375,"y":3300,"wires":[["7c08c2b4.816584"]]},{"id":"80fe7a30.2a6ca","type":"link in","z":"656ab444.766c2c","name":"->ODmeas","links":["2ac77faf.85114"],"x":395,"y":3640,"wires":[["aa151c45.495f4"]]},{"id":"c9f61fa6.4fda6","type":"link in","z":"656ab444.766c2c","name":"->stop","links":["e35852e6.7f40a8"],"x":875,"y":1620,"wires":[["e13ca274.c8d4f8"]]},{"id":"20a26718.3e2bc8","type":"function","z":"656ab444.766c2c","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1740,"y":260,"wires":[["8eae4004.0d018"]]},{"id":"43823e76.70b41","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"measOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":260,"wires":[["f2a7d81.c4f05a8"]]},{"id":"8eae4004.0d018","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"measODunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":260,"wires":[["f2a7d81.c4f05a8"]]},{"id":"f2a7d81.c4f05a8","type":"function","z":"656ab444.766c2c","name":"multiply","func":"msg.payload=flow.get(\"measOD\")*flow.get(\"measODunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2100,"y":260,"wires":[["237bdcf2.e1ef8c"]]},{"id":"7da59182.b5d0a","type":"function","z":"656ab444.766c2c","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1760,"y":380,"wires":[["8527e83f.1c1c08"]]},{"id":"af32d727.0bcd38","type":"function","z":"656ab444.766c2c","name":"multiply","func":"msg.payload=flow.get(\"measBL\")*flow.get(\"measBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2120,"y":380,"wires":[["f23791b8.2faf8"]]},{"id":"f23791b8.2faf8","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"measBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":380,"wires":[["3056ad4e.bf523a"]]},{"id":"920bc9ed.3b27d","type":"function","z":"656ab444.766c2c","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1100,"y":600,"wires":[["78e6d0b2.76eb9"]]},{"id":"8372b59b.761298","type":"function","z":"656ab444.766c2c","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":600,"wires":[["8acee80f.5c2228"]]},{"id":"572d5f2.31bb8a","type":"function","z":"656ab444.766c2c","name":"multiply","func":"msg.payload=flow.get(\"pillBL\")*flow.get(\"pillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1000,"y":700,"wires":[["c7d4736b.562a6"]]},{"id":"c7d4736b.562a6","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"pillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1170,"y":700,"wires":[["65c8c10d.d5e0a"]]},{"id":"da3711d3.ca36a","type":"function","z":"656ab444.766c2c","name":"multiply","func":"msg.payload=flow.get(\"tillBL\")*flow.get(\"tillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":700,"wires":[["cf186a9c.a6b468"]]},{"id":"cf186a9c.a6b468","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"tillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":700,"wires":[[]]},{"id":"1c5a7c1f.7a74a4","type":"function","z":"656ab444.766c2c","name":"multiply","func":"msg.payload=flow.get(\"delay\")*flow.get(\"delayunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":1220,"wires":[["1af781bc.f51286"]]},{"id":"1af781bc.f51286","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"delaytotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":1220,"wires":[["7f46b32a.ccf264"]]},{"id":"a42de3c.3f141a","type":"function","z":"656ab444.766c2c","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1180,"wires":[["bef7d31c.2dc64"]]},{"id":"2ac77faf.85114","type":"link out","z":"656ab444.766c2c","name":"STOP17.false","links":["adf9cbf8.7fd67","80fe7a30.2a6ca","fb39acd8.370398","33e9bb0b.1370d4","fe2b7a87.6c9aa","4f75cd39.d6e07c","ac9bd924.2aca78","75884fb9.11d038","78cdb207.ee65b4","eaadb38b.c82a48"],"x":1235,"y":1580,"wires":[]},{"id":"1ba84644.58c102","type":"function","z":"656ab444.766c2c","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":3680,"wires":[["cdfae7fc.674ba"]]},{"id":"c4f11dea.550c7","type":"comment","z":"656ab444.766c2c","name":"OD mesaurements","info":"","x":790,"y":3600,"wires":[]},{"id":"8841726b.1d9578","type":"function","z":"656ab444.766c2c","name":"255","func":"if (flow.get(\"measBLtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":910,"y":4220,"wires":[["bfbb31b0.af2bc8","b2917fba.2e2c1"]]},{"id":"bfbb31b0.af2bc8","type":"function","z":"656ab444.766c2c","name":"measBLtotal","func":"msg.delay=flow.get(\"measBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":4280,"wires":[["8683c493.36f71"]]},{"id":"8683c493.36f71","type":"delay","z":"656ab444.766c2c","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1050,"y":4320,"wires":[["8841726b.1d9578"]]},{"id":"ee5d46eb.1e1da","type":"trigger","z":"656ab444.766c2c","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1350,"y":4240,"wires":[["70ac2eb1.05238","dd76b853.e6025"]]},{"id":"31f8e026.793868","type":"comment","z":"656ab444.766c2c","name":"BL mesaurements","info":"","x":910,"y":4180,"wires":[]},{"id":"b2917fba.2e2c1","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"delay","timeout":"7","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1180,"y":4200,"wires":[["ee5d46eb.1e1da","e962308e.62e818"]]},{"id":"8dce8519.680628","type":"function","z":"656ab444.766c2c","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":4220,"wires":[["8683c493.36f71","ee5d46eb.1e1da","b2917fba.2e2c1","d7bda99c.124708","89ccca8c.ef22a"]]},{"id":"fb39acd8.370398","type":"link in","z":"656ab444.766c2c","name":"->BLmeas","links":["2ac77faf.85114"],"x":335,"y":4220,"wires":[["8dce8519.680628"]]},{"id":"dd76b853.e6025","type":"function","z":"656ab444.766c2c","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":4220,"wires":[["109078a1.550ebf"]]},{"id":"70ac2eb1.05238","type":"function","z":"656ab444.766c2c","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":4260,"wires":[["cdfae7fc.674ba"]]},{"id":"3d8eeb1e.28540c","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1540,"wires":[["f3c6558c.c55d3"]]},{"id":"f3c6558c.c55d3","type":"link out","z":"656ab444.766c2c","name":"STOP17.0","links":["43ff8674.ea5668","b5511dc.14828e","c58951a5.56b19","fc768309.103528","48c11f9d.37dde","7b3e4ac7.65d3e4"],"x":1295,"y":1540,"wires":[]},{"id":"43ff8674.ea5668","type":"link in","z":"656ab444.766c2c","name":"->IT,BL,FAN","links":["f3c6558c.c55d3"],"x":1475,"y":3640,"wires":[["109078a1.550ebf","15f87ee2.f68b41","28827b26.a37d24"]]},{"id":"8f20b22.88bee5","type":"ui_button","z":"656ab444.766c2c","name":"02 OD realtime value","group":"4e07d53e.eeff54","order":11,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3380,"wires":[[]]},{"id":"8981956b.6d1e8","type":"function","z":"656ab444.766c2c","name":"","func":"msg.label=msg.payload;\nif (msg.payload>150){\n    msg.background=\"red\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3380,"wires":[["8f20b22.88bee5"]]},{"id":"dda78d8b.d0fa9","type":"function","z":"656ab444.766c2c","name":"","func":"msg.label=msg.payload;\nif (msg.payload>300){\n    msg.background=\"#44cff1\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3420,"wires":[["cc53f07.181bf9"]]},{"id":"cc53f07.181bf9","type":"ui_button","z":"656ab444.766c2c","name":"03 BL realtime value","group":"4e07d53e.eeff54","order":18,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3420,"wires":[[]]},{"id":"758c6ff6.de9728","type":"comment","z":"656ab444.766c2c","name":"Display:","info":"","x":1800,"y":3340,"wires":[]},{"id":"d7bda99c.124708","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":3900,"wires":[["657f1d13.8a85bc"]]},{"id":"657f1d13.8a85bc","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=true;\nreturn msg;\n\n","outputs":1,"noerr":0,"x":750,"y":3940,"wires":[["8841726b.1d9578","cc0f3ce9.d6294","a0f50b5b.6ac798","9d254dcd.0cf1a8"]]},{"id":"7dc926b6.517f","type":"function","z":"656ab444.766c2c","name":"","func":"msg.delay=flow.get(\"delaytotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3860,"wires":[["d7bda99c.124708","2713bf73.b7a798","9d254dcd.0cf1a8"]]},{"id":"2713bf73.b7a798","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3880,"wires":[["7f4a6c4.e564214"]]},{"id":"1732cc43.13700c","type":"comment","z":"656ab444.766c2c","name":"growth delay","info":"","x":770,"y":3820,"wires":[]},{"id":"b7e24801.d25b38","type":"function","z":"656ab444.766c2c","name":"","func":"msg.delay=flow.get(\"tillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4740,"wires":[["80cbf50d.d4089"]]},{"id":"80cbf50d.d4089","type":"delay","z":"656ab444.766c2c","name":"part","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4740,"wires":[["1d9c0ea1.6bdb01"]]},{"id":"cc0f3ce9.d6294","type":"function","z":"656ab444.766c2c","name":"","func":"if (flow.get(\"pillBLtotal\") === 0 || flow.get(\"tillBLtotal\") === 0){\n    return;\n}\nelse{\n    msg.payload=flow.get(\"intBL\");\n    msg.state=\"ON\";\n    return msg;\n}\n\n\n","outputs":1,"noerr":0,"x":910,"y":4600,"wires":[["b7e24801.d25b38","d25fb318.a9f438","96dc7c2a.a7b77","14fe4373.09a0e5","8e50e9f0.2337a8"]]},{"id":"1d9c0ea1.6bdb01","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=0;\nmsg.state=\"OFF\";\nreturn msg;\n","outputs":1,"noerr":0,"x":1010,"y":4740,"wires":[["96dc7c2a.a7b77","14fe4373.09a0e5","8e50e9f0.2337a8"]]},{"id":"d25fb318.a9f438","type":"function","z":"656ab444.766c2c","name":"","func":"msg.delay=flow.get(\"pillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4700,"wires":[["4e07c04.e2cd64"]]},{"id":"4e07c04.e2cd64","type":"delay","z":"656ab444.766c2c","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4700,"wires":[["cc0f3ce9.d6294"]]},{"id":"b78cc551.fee4","type":"function","z":"656ab444.766c2c","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":4620,"wires":[["4e07c04.e2cd64","80cbf50d.d4089","bdc3e3cd.2d142","8e50e9f0.2337a8"]]},{"id":"aebf0116.5cd6d","type":"comment","z":"656ab444.766c2c","name":"Cycle w sous cycle la: cool pr la blue LED","info":"","x":990,"y":4500,"wires":[]},{"id":"adf9cbf8.7fd67","type":"link in","z":"656ab444.766c2c","name":"->BLcycle","links":["2ac77faf.85114"],"x":635,"y":4620,"wires":[["b78cc551.fee4"]]},{"id":"96dc7c2a.a7b77","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"BLstate","pt":"flow","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":4560,"wires":[[]]},{"id":"dc960742.d34ad8","type":"inject","z":"656ab444.766c2c","name":"","topic":"","payload":"OFF","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":890,"y":4540,"wires":[["bdc3e3cd.2d142"]]},{"id":"6c7e33b3.c6e054","type":"function","z":"656ab444.766c2c","name":"for FAN","func":"if (flow.get(\"FANstate\")===\"ON\"){\n    msg.payload=flow.get(\"intFAN\");\n}\nelse if (flow.get(\"FANstate\")===\"OFF\"){\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":3000,"wires":[["4e364736.31651"]]},{"id":"b5511dc.14828e","type":"link in","z":"656ab444.766c2c","name":"->PID","links":["f3c6558c.c55d3"],"x":455,"y":3140,"wires":[["b2705c79.9116c8"]]},{"id":"b9c99a39.6bbea","type":"function","z":"656ab444.766c2c","name":"","func":"msg.label=\"Initialization\";\nmsg.background=\"#f39c12\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1640,"wires":[["7efd465e.3079c8"]]},{"id":"9afc030a.a17448","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":200,"y":1600,"wires":[["da81ac28.7b413"]]},{"id":"d2ae214.560bae","type":"ui_button","z":"656ab444.766c2c","name":"06 Temp realtime value","group":"4e07d53e.eeff54","order":39,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1970,"y":3460,"wires":[[]]},{"id":"f0f1a9a2.bc834","type":"function","z":"656ab444.766c2c","name":"","func":"msg.label=msg.payload;\nif (flow.get(\"PIDstate\")>0){\n    msg.background=\"#fdedec\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3460,"wires":[["d2ae214.560bae"]]},{"id":"d8226300.9afe98","type":"ui_button","z":"656ab444.766c2c","name":"05 BLstate","group":"4e07d53e.eeff54","order":27,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1470,"y":4600,"wires":[[]]},{"id":"14fe4373.09a0e5","type":"function","z":"656ab444.766c2c","name":"","func":"msg.label=msg.state;\nif (msg.label===\"ON\"){\n    msg.background=\"#ebf5fb\";\n}\nelse if (msg.label===\"OFF\"){\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":4600,"wires":[["d8226300.9afe98"]]},{"id":"bdc3e3cd.2d142","type":"function","z":"656ab444.766c2c","name":"","func":"msg.state=\"OFF\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":4540,"wires":[["96dc7c2a.a7b77","14fe4373.09a0e5"]]},{"id":"6ebf0f85.247a78","type":"function","z":"656ab444.766c2c","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"pillBLtotal\")/1000-(msg.count%(flow.get(\"pillBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":620,"wires":[["2088aa06.0781ee"]]},{"id":"88bea480.37b528","type":"ui_button","z":"656ab444.766c2c","name":"04 pillBL Cycle counter","group":"4e07d53e.eeff54","order":26,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3330,"y":600,"wires":[[]]},{"id":"65c8c10d.d5e0a","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=flow.get(\"pillBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":580,"wires":[["2088aa06.0781ee","7f46b32a.ccf264"]]},{"id":"9cea2b04.e72df","type":"counter","z":"656ab444.766c2c","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":680,"wires":[["6ebf0f85.247a78"]]},{"id":"bf676a62.65fb18","type":"function","z":"656ab444.766c2c","name":"","func":"if (flow.get(\"counterpillBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"counterpillBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":640,"wires":[["9cea2b04.e72df"]]},{"id":"a0f50b5b.6ac798","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"counterpillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":4460,"wires":[[]]},{"id":"702f0498.10d15c","type":"inject","z":"656ab444.766c2c","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4480,"wires":[["20b4e6e9.e36b5a"]]},{"id":"20b4e6e9.e36b5a","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4460,"wires":[["a0f50b5b.6ac798"]]},{"id":"fe2b7a87.6c9aa","type":"link in","z":"656ab444.766c2c","name":"->Counter","links":["2ac77faf.85114"],"x":415,"y":4440,"wires":[["20b4e6e9.e36b5a"]]},{"id":"6798c44f.e0ed0c","type":"inject","z":"656ab444.766c2c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"3","x":190,"y":1520,"wires":[["abb111c0.b55808"]]},{"id":"2487837a.e8b3ec","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":1,"width":"3","height":"1","name":"00 eVOLVER10","label":"<font size =5>eVOLVER10","format":"{{msg.payload}}","layout":"row-center","x":700,"y":60,"wires":[]},{"id":"e3f872e4.40d3a8","type":"link out","z":"656ab444.766c2c","name":"enabled->","links":["4dea90fc.2f6ab"],"x":955,"y":2080,"wires":[]},{"id":"fc768309.103528","type":"link in","z":"656ab444.766c2c","name":"->GL","links":["f3c6558c.c55d3"],"x":255,"y":2120,"wires":[["b4a7b459.c1f7d","f3549b78.78a028"]]},{"id":"a98bdacd.2859b8","type":"comment","z":"656ab444.766c2c","name":"01","info":"","x":550,"y":60,"wires":[]},{"id":"2809a224.68a2b6","type":"comment","z":"656ab444.766c2c","name":"02 ODmeas","info":"","x":650,"y":180,"wires":[]},{"id":"66e6cb3c.e1a334","type":"comment","z":"656ab444.766c2c","name":"03 BLmeas","info":"","x":670,"y":300,"wires":[]},{"id":"5ba936ab.c7d048","type":"link in","z":"656ab444.766c2c","name":"->ARDUINO FAN","links":["c4eaca3d.a8e968","4e364736.31651"],"x":1275,"y":3820,"wires":[["cdfae7fc.674ba"]]},{"id":"9560ebb5.d8f018","type":"link in","z":"656ab444.766c2c","name":"->ARDUINO IR","links":["4aab47d3.57e5c"],"x":1695,"y":3640,"wires":[["15f87ee2.f68b41"]]},{"id":"bd6806e.51479f8","type":"link in","z":"656ab444.766c2c","name":"->ARDUINO BL","links":["8e50e9f0.2337a8","a528ba59.fb2b7"],"x":1615,"y":3760,"wires":[["109078a1.550ebf"]]},{"id":"8e50e9f0.2337a8","type":"link out","z":"656ab444.766c2c","name":"BLcycle->BL","links":["bd6806e.51479f8"],"x":1235,"y":4660,"wires":[]},{"id":"4e364736.31651","type":"link out","z":"656ab444.766c2c","name":"Fancontrol","links":["5ba936ab.c7d048"],"x":895,"y":3000,"wires":[]},{"id":"c4eaca3d.a8e968","type":"link out","z":"656ab444.766c2c","name":"Fansetup","links":["5ba936ab.c7d048"],"x":1735,"y":1060,"wires":[]},{"id":"4aab47d3.57e5c","type":"link out","z":"656ab444.766c2c","name":"IRsetup","links":["9560ebb5.d8f018"],"x":1115,"y":180,"wires":[]},{"id":"a528ba59.fb2b7","type":"link out","z":"656ab444.766c2c","name":"BLcycle->BL","links":["bd6806e.51479f8"],"x":1135,"y":300,"wires":[]},{"id":"45fb0dd9.d261a4","type":"link out","z":"656ab444.766c2c","name":"PIDsetup->","links":["4daa9a1c.9142cc"],"x":1295,"y":880,"wires":[]},{"id":"4daa9a1c.9142cc","type":"link in","z":"656ab444.766c2c","name":"->ARDUINO HEATER","links":["45fb0dd9.d261a4","adac9125.ca28a8"],"x":1215,"y":3140,"wires":[["d1f1e943.4634"]]},{"id":"f3549b78.78a028","type":"link out","z":"656ab444.766c2c","name":"GRlaunch->","links":["78adaadf.354a44"],"x":515,"y":2160,"wires":[]},{"id":"78adaadf.354a44","type":"link in","z":"656ab444.766c2c","name":"->GL","links":["f3549b78.78a028"],"x":1035,"y":120,"wires":[["efbc94b4.ee155"]]},{"id":"b9f3a23f.8cf89","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":800,"y":3160,"wires":[["ef265b0a.68a43"]]},{"id":"af213d51.a44d78","type":"PID","z":"656ab444.766c2c","name":"","setpoint":"550","pb":"0","ti":"900","td":0,"integral_default":0.5,"smooth_factor":3,"max_interval":600,"enable":"0","disabled_op":0,"x":1010,"y":3100,"wires":[["f84cbf3a.fd7708","615ee7a0.1acd"]]},{"id":"d8583001.f06848","type":"arduino in","z":"656ab444.766c2c","name":"TempSensor","pin":"0","state":"ANALOG","arduino":"c802aebd.49388","x":750,"y":3120,"wires":[["b9f3a23f.8cf89","d780ff2d.becf58"]]},{"id":"d1f1e943.4634","type":"arduino out","z":"656ab444.766c2c","name":"Heater","pin":"4","state":"OUTPUT","arduino":"c802aebd.49388","x":1330,"y":3100,"wires":[]},{"id":"f84cbf3a.fd7708","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"PIDstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":3060,"wires":[[]]},{"id":"c7eb7bee.ed2628","type":"inject","z":"656ab444.766c2c","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":"0.3","x":1130,"y":3020,"wires":[["f84cbf3a.fd7708"]]},{"id":"b2705c79.9116c8","type":"function","z":"656ab444.766c2c","name":"","func":"if (msg.payload===true){\n    msg.enable=1;\n}\nif (msg.payload===0){\n    msg.enable=0;\n}\nif (flow.get(\"PID\")===\"OFF\"){\n    msg.enable=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3080,"wires":[["af213d51.a44d78"]]},{"id":"ef265b0a.68a43","type":"function","z":"656ab444.766c2c","name":"setpoint","func":"msg.setpoint=flow.get(\"Temp\");\nreturn msg;","outputs":1,"noerr":0,"x":840,"y":3200,"wires":[["af213d51.a44d78"]]},{"id":"b7c62a.5d9239d8","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":940,"y":980,"wires":[["8782f982.e7888"]]},{"id":"8782f982.e7888","type":"function","z":"656ab444.766c2c","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    msg.payload=0;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1210,"y":960,"wires":[["b72c62d2.4278d8"]]},{"id":"615ee7a0.1acd","type":"function","z":"656ab444.766c2c","name":"","func":"if (flow.get(\"launched\")===false){\n    return;\n}\nelse if (flow.get(\"launched\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":1170,"y":3100,"wires":[["d1f1e943.4634"]]},{"id":"17805cc0.5fd073","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"launched","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1960,"wires":[[]]},{"id":"8394e7b8.26ef4","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":800,"wires":[[]]},{"id":"fcee960.6e485e8","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"PID","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":860,"wires":[["ef1e9ea2.19ac08"]]},{"id":"b23852d9.7ee44","type":"inject","z":"656ab444.766c2c","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":250,"y":1960,"wires":[["17805cc0.5fd073"]]},{"id":"4f75cd39.d6e07c","type":"link in","z":"656ab444.766c2c","name":"->launched","links":["2ac77faf.85114"],"x":275,"y":2000,"wires":[["17805cc0.5fd073"]]},{"id":"b4d2b234.56a188","type":"function","z":"656ab444.766c2c","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    return msg;\n}\n","outputs":1,"noerr":0,"x":910,"y":940,"wires":[["b7c62a.5d9239d8"]]},{"id":"e039be1b.66c818","type":"inject","z":"656ab444.766c2c","name":"INITIALIZATION","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":290,"y":720,"wires":[["501b1bef.a6fa9c"]]},{"id":"501b1bef.a6fa9c","type":"function","z":"656ab444.766c2c","name":"initialization","func":"\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":740,"wires":[["b2d2f5dd.1d633","f26c61a1.fda57","f63e9ac6.f15a48","d61093b7.a6b118","efc17dbd.e6e81","27cc2ea.72e5e52","a20900e4.ab371","58ae8ae9.fd440c","eed8ce6c.fae6e8"]]},{"id":"4268447b.142f7c","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=10;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":180,"wires":[["a62e77bf.2ff128","f7ad0a93.48ad48","6b422376.1f7dcc"]]},{"id":"f7ad0a93.48ad48","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1670,"y":180,"wires":[["ea70e320.1a191","b6115a1d.119dc8","e0c88a59.c62a38"]]},{"id":"6b422376.1f7dcc","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":300,"wires":[["40f5b7ab.355228","b979e07.84d682"]]},{"id":"b979e07.84d682","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1710,"y":300,"wires":[["e5e47818.892cd"]]},{"id":"66745f92.741cb8","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":520,"wires":[["a14d1691.0179a","55ffed36.40ebf4"]]},{"id":"55ffed36.40ebf4","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=\"seconds\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":520,"wires":[["d49862f.918c52"]]},{"id":"b2d2f5dd.1d633","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=1;\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":520,"wires":[["6ccc8a51.226f6c","f95cfd48.45b308"]]},{"id":"f95cfd48.45b308","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":520,"wires":[["1057df5.a796fa1","66745f92.741cb8"]]},{"id":"362f3654.3a506a","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":1140,"wires":[["51df936d.01d484","84140aef.9d5d5"]]},{"id":"f26c61a1.fda57","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":1140,"wires":[["9f161c2e.623418","362f3654.3a506a"]]},{"id":"f63e9ac6.f15a48","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=550;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":840,"wires":[["5984cc4f.0bf3d4"]]},{"id":"d61093b7.a6b118","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":880,"wires":[["b72c62d2.4278d8"]]},{"id":"84140aef.9d5d5","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":1020,"wires":[["35398ac9.5ab05e","cb4225e8.5d2b"]]},{"id":"cb4225e8.5d2b","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=100;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":980,"wires":[["dcf4e124.6998e","d08563fe.0033c8"]]},{"id":"d08563fe.0033c8","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":800,"wires":[["fcee960.6e485e8","9d032c2d.7773c"]]},{"id":"efc17dbd.e6e81","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":1020,"wires":[["ebf2eb7a.cc6a48"]]},{"id":"27cc2ea.72e5e52","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":420,"wires":[["5be32cfc.5b30d4"]]},{"id":"eed8ce6c.fae6e8","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":300,"wires":[["719c1206.c1a87c"]]},{"id":"58ae8ae9.fd440c","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":180,"wires":[["1b510a99.49ba5d","d770d2b2.f9c098"]]},{"id":"a20900e4.ab371","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":60,"wires":[["2115acbb.633c64"]]},{"id":"d770d2b2.f9c098","type":"function","z":"656ab444.766c2c","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":60,"wires":[["dbbf159a.bd0538","4268447b.142f7c"]]},{"id":"a411ad0b.739b78","type":"link in","z":"656ab444.766c2c","name":"->initialization","links":["e35852e6.7f40a8"],"x":375,"y":760,"wires":[["501b1bef.a6fa9c"]]},{"id":"35398ac9.5ab05e","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1480,"y":1060,"wires":[["2981ccee.8c10d4"]]},{"id":"2088aa06.0781ee","type":"function","z":"656ab444.766c2c","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":600,"wires":[["88bea480.37b528"]]},{"id":"4763e2b0.72ef54","type":"inject","z":"656ab444.766c2c","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":640,"wires":[["bf676a62.65fb18"]]},{"id":"19157989.985c86","type":"function","z":"656ab444.766c2c","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measODtotal\")/1000-(msg.count%(flow.get(\"measODtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":300,"wires":[["2ba8dcb7.d5c97c"]]},{"id":"94c963b.43ee92","type":"ui_button","z":"656ab444.766c2c","name":"02 ODmeas Cycle counter","group":"4e07d53e.eeff54","order":10,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":280,"wires":[[]]},{"id":"b6115a1d.119dc8","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=flow.get(\"measODtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":260,"wires":[["2ba8dcb7.d5c97c","3056ad4e.bf523a"]]},{"id":"7dff0a22.792acc","type":"counter","z":"656ab444.766c2c","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":360,"wires":[["19157989.985c86"]]},{"id":"b98ab51c.35551","type":"function","z":"656ab444.766c2c","name":"","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}if (flow.get(\"countermeasOD\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasOD\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":320,"wires":[["7dff0a22.792acc"]]},{"id":"2ba8dcb7.d5c97c","type":"function","z":"656ab444.766c2c","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":280,"wires":[["94c963b.43ee92"]]},{"id":"f7b137.68d346c8","type":"inject","z":"656ab444.766c2c","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":320,"wires":[["b98ab51c.35551"]]},{"id":"7778d714.a548b8","type":"function","z":"656ab444.766c2c","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measBLtotal\")/1000-(msg.count%(flow.get(\"measBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":460,"wires":[["ca13edd0.c88768"]]},{"id":"f763187.5bd0968","type":"ui_button","z":"656ab444.766c2c","name":"03 BLmeas Cycle counter","group":"4e07d53e.eeff54","order":17,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":440,"wires":[[]]},{"id":"3056ad4e.bf523a","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=flow.get(\"measBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":420,"wires":[["ca13edd0.c88768","65c8c10d.d5e0a"]]},{"id":"da095dbd.7d9528","type":"counter","z":"656ab444.766c2c","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":520,"wires":[["7778d714.a548b8"]]},{"id":"c3d327b4.73dc","type":"function","z":"656ab444.766c2c","name":"","func":"if (flow.get(\"countermeasBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":480,"wires":[["da095dbd.7d9528"]]},{"id":"ca13edd0.c88768","type":"function","z":"656ab444.766c2c","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":440,"wires":[["f763187.5bd0968"]]},{"id":"d88cb051.6f7dd","type":"inject","z":"656ab444.766c2c","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":480,"wires":[["c3d327b4.73dc"]]},{"id":"d8f29dea.23eff8","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"countermeasBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1010,"y":4140,"wires":[[]]},{"id":"8b1d8952.d06c08","type":"inject","z":"656ab444.766c2c","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4160,"wires":[["9d1fc3db.71707"]]},{"id":"9d1fc3db.71707","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4140,"wires":[["d8f29dea.23eff8"]]},{"id":"ac9bd924.2aca78","type":"link in","z":"656ab444.766c2c","name":"->Counter","links":["2ac77faf.85114"],"x":415,"y":4120,"wires":[["9d1fc3db.71707"]]},{"id":"fc11e792.33ec98","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"countermeasOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3560,"wires":[[]]},{"id":"bd0b88b3.481b78","type":"inject","z":"656ab444.766c2c","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":230,"y":3580,"wires":[["79fde465.0bed0c"]]},{"id":"79fde465.0bed0c","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":3560,"wires":[["fc11e792.33ec98"]]},{"id":"75884fb9.11d038","type":"link in","z":"656ab444.766c2c","name":"->Counter","links":["2ac77faf.85114"],"x":255,"y":3540,"wires":[["79fde465.0bed0c"]]},{"id":"e962308e.62e818","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":4040,"wires":[["d8f29dea.23eff8"]]},{"id":"d882bf2e.869c6","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":900,"wires":[["46f8d0f6.82903"]]},{"id":"3999bd10.80eec2","type":"counter","z":"656ab444.766c2c","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":980,"wires":[["89efbbde.8c3ca8"]]},{"id":"f67ec8c5.31a148","type":"function","z":"656ab444.766c2c","name":"","func":"if (flow.get(\"counterlaunch\")===false){\n    return;\n}\nelse if (flow.get(\"counterlaunch\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":940,"wires":[["3999bd10.80eec2"]]},{"id":"46f8d0f6.82903","type":"function","z":"656ab444.766c2c","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3120,"y":920,"wires":[["2f66531b.843f2c","46ab3beb.6ede5c"]]},{"id":"ef664e6e.dcaed","type":"inject","z":"656ab444.766c2c","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":940,"wires":[["f67ec8c5.31a148"]]},{"id":"2f66531b.843f2c","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":53,"width":"4","height":"1","name":"09 elapsed time","label":"Elapsed time: ","format":"{{msg.payload}}","layout":"row-left","x":3280,"y":940,"wires":[]},{"id":"89efbbde.8c3ca8","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=msg.count;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":940,"wires":[["46f8d0f6.82903"]]},{"id":"c7498890.eb40f","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"counterlaunch","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":2880,"wires":[[]]},{"id":"cec982b0.e29f1","type":"inject","z":"656ab444.766c2c","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":270,"y":2900,"wires":[["dfc47470.6ff188"]]},{"id":"dfc47470.6ff188","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":2880,"wires":[["c7498890.eb40f"]]},{"id":"78cdb207.ee65b4","type":"link in","z":"656ab444.766c2c","name":"->Counter","links":["2ac77faf.85114"],"x":295,"y":2860,"wires":[["dfc47470.6ff188"]]},{"id":"523915b8.0d24fc","type":"function","z":"656ab444.766c2c","name":"","func":"if (msg.count>=flow.get(\"delaytotal\")/1000){\n    msg.payload=0;\n}\nelse {\n    msg.payload=flow.get(\"delaytotal\")/1000-(msg.count%(flow.get(\"delaytotal\")/1000));\n\n}\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":780,"wires":[["b2ba6c23.856f48"]]},{"id":"d2ef2ced.08c92","type":"ui_button","z":"656ab444.766c2c","name":"08 growthdelay Cycle counter","group":"4e07d53e.eeff54","order":50,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3350,"y":760,"wires":[[]]},{"id":"7f46b32a.ccf264","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=flow.get(\"delaytotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":740,"wires":[["b2ba6c23.856f48","d882bf2e.869c6"]]},{"id":"33c11bda.b632b4","type":"counter","z":"656ab444.766c2c","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":840,"wires":[["523915b8.0d24fc"]]},{"id":"39abbd13.5ef4c2","type":"function","z":"656ab444.766c2c","name":"","func":"if (flow.get(\"delaytotal\")===0){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===false){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":800,"wires":[["33c11bda.b632b4"]]},{"id":"b2ba6c23.856f48","type":"function","z":"656ab444.766c2c","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":760,"wires":[["d2ef2ced.08c92"]]},{"id":"f054554e.4a0208","type":"inject","z":"656ab444.766c2c","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":800,"wires":[["39abbd13.5ef4c2"]]},{"id":"7f4a6c4.e564214","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"counterdelay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1040,"y":3840,"wires":[[]]},{"id":"3e8db81b.d653a","type":"inject","z":"656ab444.766c2c","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":430,"y":3860,"wires":[["d57e8324.b605d"]]},{"id":"d57e8324.b605d","type":"function","z":"656ab444.766c2c","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":3840,"wires":[["7f4a6c4.e564214","9d254dcd.0cf1a8"]]},{"id":"eaadb38b.c82a48","type":"link in","z":"656ab444.766c2c","name":"->Counter","links":["2ac77faf.85114"],"x":455,"y":3820,"wires":[["d57e8324.b605d"]]},{"id":"c4492f97.bf9eb8","type":"ui_text","z":"656ab444.766c2c","group":"4e07d53e.eeff54","order":51,"width":"2","height":"1","name":"08 growth delay status","label":"","format":"{{msg.payload}}","layout":"row-center","x":1110,"y":3960,"wires":[]},{"id":"9d254dcd.0cf1a8","type":"function","z":"656ab444.766c2c","name":"","func":"if (msg.payload===false){\n    msg.payload=\"delay status\";\n}\nif (msg.payload===\"delay\"){\n    msg.payload=\"ongoing\";\n}\nelse if (msg.payload===true){\n    msg.payload=\"over\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3960,"wires":[["c4492f97.bf9eb8"]]},{"id":"a4bc616c.294ed","type":"function","z":"656ab444.766c2c","name":"reset","func":"msg.reset=true;\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2410,"y":540,"wires":[["7dff0a22.792acc","9cea2b04.e72df","33c11bda.b632b4","3999bd10.80eec2"]]},{"id":"e0c88a59.c62a38","type":"delay","z":"656ab444.766c2c","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":2240,"y":520,"wires":[["a4bc616c.294ed"]]},{"id":"46ab3beb.6ede5c","type":"change","z":"656ab444.766c2c","name":"","rules":[{"t":"set","p":"elapsed","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3290,"y":900,"wires":[[]]},{"id":"11ac1b68.4e7c2d","type":"function","z":"656ab444.766c2c","name":"elapsed","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=\"Elapsed time \"+flow.get(\"elapsed\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":1660,"wires":[["b7bf5ac8.af548"]]},{"id":"b7bf5ac8.af548","type":"file","z":"656ab444.766c2c","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1270,"y":1660,"wires":[[]]},{"id":"538f16bd.ac40d8","type":"comment","z":"656ab444.766c2c","name":"BOUGZY DEPLOY","info":"","x":2590,"y":80,"wires":[]},{"id":"5c56a08c.c40338","type":"arduino out","z":"eaf3948f.736798","name":"GL17","pin":"3","state":"OUTPUT","arduino":"61629539.bf0614","x":1130,"y":60,"wires":[]},{"id":"7e7da17d.4ca2a8","type":"arduino out","z":"eaf3948f.736798","name":"YL17","pin":"2","state":"OUTPUT","arduino":"61629539.bf0614","x":1550,"y":60,"wires":[]},{"id":"d896c082.b917f","type":"ui_slider","z":"eaf3948f.736798","name":"05 intensity:","label":"intensity:","tooltip":"","group":"9f1e154a.46ea78","order":30,"width":"7","height":"1","passthru":true,"outs":"end","topic":"","min":0,"max":"255","step":"1","x":1170,"y":420,"wires":[["b23219a2.32584","c820f34e.26d72"]]},{"id":"1a0456a6.c38629","type":"ui_numeric","z":"eaf3948f.736798","name":"06 and set to 480","label":"and set to","tooltip":"","group":"9f1e154a.46ea78","order":37,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"1025","step":"1","x":1030,"y":840,"wires":[["f3589ba5.8f12b"]]},{"id":"14c0eae.bcb8015","type":"ui_switch","z":"eaf3948f.736798","name":"01 GL17","label":"","tooltip":"","group":"9f1e154a.46ea78","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"green","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"green","x":1000,"y":60,"wires":[["5c56a08c.c40338"]]},{"id":"9654a928.0a9178","type":"ui_switch","z":"eaf3948f.736798","name":"01 YL17","label":"","tooltip":"","group":"9f1e154a.46ea78","order":4,"width":"1","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#e2c43c","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"#e2c43c","x":1420,"y":60,"wires":[["7e7da17d.4ca2a8"]]},{"id":"f0815c5a.b37bb","type":"ui_switch","z":"eaf3948f.736798","name":"02 IR17","label":"","tooltip":"","group":"9f1e154a.46ea78","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"red","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1000,"y":180,"wires":[["36d8327e.3f9ebe"]]},{"id":"c3da77f3.950a4","type":"ui_switch","z":"eaf3948f.736798","name":"03 BL17","label":"","tooltip":"","group":"9f1e154a.46ea78","order":12,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#44cff1","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1020,"y":300,"wires":[["c820f34e.26d72"]]},{"id":"a1222fb4.50224","type":"ui_switch","z":"eaf3948f.736798","name":"07 FAN","label":"","tooltip":"","group":"9f1e154a.46ea78","order":40,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"toys","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1620,"y":1080,"wires":[["aad07c4.844a9"]]},{"id":"aaa46b78.6bf3d","type":"ui_switch","z":"eaf3948f.736798","name":"06 T01 PID","label":"","tooltip":"","group":"9f1e154a.46ea78","order":33,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"enable","style":"","onvalue":"1","onvalueType":"num","onicon":"hot_tub","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1030,"y":880,"wires":[["d1e2a944.a5dbd8","8af87511.c694f"]]},{"id":"e57c5a58.5e3f2","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":25,"width":"2","height":"1","name":"04 spacer","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1770,"y":520,"wires":[]},{"id":"c487ead8.5cfeb8","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":46,"width":"7","height":"1","name":"07 last spacer","label":"(produces sound: fine).","format":"{{msg.payload}}","layout":"row-spread","x":1960,"y":1020,"wires":[]},{"id":"3cd702f8.bd339e","type":"ui_numeric","z":"eaf3948f.736798","name":"02 every 5","label":"every","tooltip":"","group":"9f1e154a.46ea78","order":7,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1450,"y":220,"wires":[["12c6fbd7.63d12c"]]},{"id":"27572691.80903a","type":"ui_dropdown","z":"eaf3948f.736798","name":"02 minutes","label":"","tooltip":"","place":"Select option","group":"9f1e154a.46ea78","order":8,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1690,"y":220,"wires":[["7c7da4b9.972dc4"]]},{"id":"33fa9787.f56688","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"measODtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2280,"y":320,"wires":[["8150633c.f94d88"]]},{"id":"46165cd3.b367d4","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":9,"width":"7","height":"1","name":"02 (takes 5 seconds)","label":"(takes 5 seconds).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":180,"wires":[]},{"id":"5faaa3bd.f57334","type":"ui_numeric","z":"eaf3948f.736798","name":"03 every 5","label":"every","tooltip":"","group":"9f1e154a.46ea78","order":14,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1490,"y":340,"wires":[["e9e14c98.b5aff"]]},{"id":"6aa7270b.31a758","type":"ui_dropdown","z":"eaf3948f.736798","name":"03 minutes","label":"","tooltip":"","place":"Select option","group":"9f1e154a.46ea78","order":15,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1730,"y":340,"wires":[["7f6d877e.5714e"]]},{"id":"e9e14c98.b5aff","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"measBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":380,"wires":[["5ed59b33.804584"]]},{"id":"2b841ca.0d5d964","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"measBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1940,"y":380,"wires":[["5ed59b33.804584"]]},{"id":"d34e1d41.a535c8","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":16,"width":"7","height":"1","name":"03 (takes 5 seconds)","label":"(takes 5 secs, max illum., shifted timing).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":300,"wires":[]},{"id":"b23219a2.32584","type":"ui_numeric","z":"eaf3948f.736798","name":"05 at 255","label":"at","tooltip":"","group":"9f1e154a.46ea78","order":29,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":"1","x":1020,"y":420,"wires":[["bfea1f2d.1278d8","d896c082.b917f"]]},{"id":"bfea1f2d.1278d8","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"intBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":460,"wires":[[]]},{"id":"bddeb8a1.2d0aa8","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":6,"width":"3","height":"1","name":"02 Meaure OD:","label":"Measure OD:","format":"{{msg.payload}}","layout":"row-spread","x":1280,"y":180,"wires":[]},{"id":"70ffdd20.aba1cc","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":13,"width":"3","height":"1","name":"03 Meaure BL:","label":"Measure BL:","format":"{{msg.payload}}","layout":"row-spread","x":1340,"y":300,"wires":[]},{"id":"844b8e47.4ec9d","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":28,"width":"4","height":"1","name":"05 spacer1","label":"","format":"{{msg.payload}}","layout":"row-spread","x":710,"y":420,"wires":[]},{"id":"81f37862.e89d9","type":"ui_button","z":"eaf3948f.736798","name":"05 OK","group":"9f1e154a.46ea78","order":31,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1350,"y":420,"wires":[["c3da77f3.950a4"]]},{"id":"e04bea3b.3352b8","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":19,"width":"1","height":"1","name":"04 - -","label":"","format":"{{msg.payload}}","layout":"row-spread","x":630,"y":520,"wires":[]},{"id":"aef79187.86382","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":20,"width":"3","height":"1","name":"04 Illuminate BL:","label":"Illuminate BL:","format":"{{msg.payload}}","layout":"row-spread","x":670,"y":560,"wires":[]},{"id":"ef604abc.f34e4","type":"ui_numeric","z":"eaf3948f.736798","name":"04 every 1","label":"every","tooltip":"","group":"9f1e154a.46ea78","order":21,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":850,"y":560,"wires":[["ab9e27c6.f76a88"]]},{"id":"f95739cc.600c98","type":"ui_dropdown","z":"eaf3948f.736798","name":"04 hour","label":"","tooltip":"","place":"Select option","group":"9f1e154a.46ea78","order":22,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1080,"y":560,"wires":[["a4b22767.f7a3a"]]},{"id":"ab9e27c6.f76a88","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"pillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":600,"wires":[["999748d5.6ed46"]]},{"id":"d9ce65bf.d6896","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"pillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":640,"wires":[["999748d5.6ed46"]]},{"id":"f75f4ab6.70f148","type":"ui_numeric","z":"eaf3948f.736798","name":"04 for 5","label":"for","tooltip":"","group":"9f1e154a.46ea78","order":23,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1340,"y":560,"wires":[["ee1a9baf.97b308"]]},{"id":"401b0870.4cbe7","type":"ui_dropdown","z":"eaf3948f.736798","name":"04 minutes","label":"","tooltip":"","place":"Select option","group":"9f1e154a.46ea78","order":24,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1590,"y":560,"wires":[["91073417.21be3"]]},{"id":"ee1a9baf.97b308","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"tillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":600,"wires":[["f09bf9a2.12313"]]},{"id":"d2aa8eaf.06ea18","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"tillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1610,"y":640,"wires":[["f09bf9a2.12313"]]},{"id":"de01abc8.a4f69","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":32,"width":"5","height":"1","name":"05 spacer2","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1530,"y":420,"wires":[]},{"id":"74db39c2.7571f8","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":35,"width":"2","height":"1","name":"06 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1850,"y":860,"wires":[]},{"id":"6945a978.e0e25","type":"ui_switch","z":"eaf3948f.736798","name":"06 act.switch","label":"","tooltip":"","group":"9f1e154a.46ea78","order":36,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"hot_tub","oncolor":"red","offvalue":"OFF","offvalueType":"str","officon":"ac_unit","offcolor":"grey","x":1520,"y":880,"wires":[["eb8cc028.ad975"]]},{"id":"d307144d.c8cf8","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":38,"width":"6","height":"1","name":"06 Volts.","label":"Volts.","format":"{{msg.payload}}","layout":"row-spread","x":1220,"y":840,"wires":[]},{"id":"263be05d.05e958","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":34,"width":"4","height":"1","name":"06 Temperature control:","label":"Temperature control:","format":"{{msg.payload}}","layout":"row-spread","x":2050,"y":860,"wires":[]},{"id":"ba17924e.844cd","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":41,"width":"4","height":"1","name":"07 Fan:","label":"Fan:","format":"{{msg.payload}}","layout":"row-spread","x":700,"y":1060,"wires":[]},{"id":"e2ba4611.8fdfc","type":"ui_switch","z":"eaf3948f.736798","name":"07 enable switch","label":"","tooltip":"","group":"9f1e154a.46ea78","order":43,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"toys","oncolor":"green","offvalue":"OFF","offvalueType":"str","officon":"radio_button_unchecked","offcolor":"grey","x":910,"y":1060,"wires":[["57b4784e.219208","41cb4c07.f1f76c"]]},{"id":"41cb4c07.f1f76c","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":42,"width":"2","height":"1","name":"07 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1230,"y":1060,"wires":[]},{"id":"57b4784e.219208","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"FANstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1020,"wires":[[]]},{"id":"18f06d89.232722","type":"ui_numeric","z":"eaf3948f.736798","name":"07 and set to 100","label":"and set to","tooltip":"","group":"9f1e154a.46ea78","order":44,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"255","step":"1","x":1590,"y":1020,"wires":[["aba6b65.29d19c8","aad07c4.844a9"]]},{"id":"aba6b65.29d19c8","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"intFAN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1780,"y":1000,"wires":[[]]},{"id":"f83e44df.6870f8","type":"ui_button","z":"eaf3948f.736798","name":"07 OK","group":"9f1e154a.46ea78","order":45,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1430,"y":1100,"wires":[["a1222fb4.50224"]]},{"id":"3cb5b8b1.b96c4","type":"ui_numeric","z":"eaf3948f.736798","name":"08 add delay","label":"Add growing delay of","tooltip":"","group":"9f1e154a.46ea78","order":47,"width":"6","height":"1","passthru":true,"topic":"setpoint","format":"{{value}}","min":"0","max":"100","step":"1","x":870,"y":1180,"wires":[["b1028734.59d068"]]},{"id":"d5790347.9ce418","type":"ui_dropdown","z":"eaf3948f.736798","name":"08 hour","label":"","tooltip":"","place":"Select option","group":"9f1e154a.46ea78","order":48,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1060,"y":1180,"wires":[["5e48ca74.c2bc2c"]]},{"id":"b1028734.59d068","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"delay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":1220,"wires":[["fbb23dce.c8c768"]]},{"id":"7a55f356.b857b4","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"delayunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1090,"y":1220,"wires":[["fbb23dce.c8c768"]]},{"id":"42ae3e3a.7e4e08","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":49,"width":"8","height":"1","name":"08 finalspacer","label":"(during which no BL measure will be made).","format":"{{msg.payload}}","layout":"row-spread","x":1240,"y":1140,"wires":[]},{"id":"25c74817.0b4618","type":"ui_text_input","z":"eaf3948f.736798","name":"09 DETAILS","label":"DETAILS:","tooltip":"","group":"9f1e154a.46ea78","order":52,"width":"16","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1110,"y":2560,"wires":[["f06094fd.59bce8"]]},{"id":"ce2d7308.d3aab8","type":"ui_text_input","z":"eaf3948f.736798","name":"10 Nickname","label":"Nickname:","tooltip":"","group":"9f1e154a.46ea78","order":54,"width":"4","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1120,"y":2600,"wires":[["b6b90623.80ec"]]},{"id":"b14e26e9.d86d18","type":"inject","z":"eaf3948f.736798","name":"","topic":"","payload":"eV11_","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":830,"y":2600,"wires":[["18bf2afa.7caeed"]]},{"id":"611dd46e.9bcb0c","type":"ui_button","z":"eaf3948f.736798","name":"10 LAUNCH EXP","group":"9f1e154a.46ea78","order":55,"width":"10","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"bool","topic":"","x":310,"y":1900,"wires":[["5587f36a.a4c484","5b50c53c.fa964c","235f39bc.3118be","33c951d0.4314d6","fe4ffcbc.5ce448","4e1583fb.c324d4","6df7c553.8f94fc"]]},{"id":"fae3eabf.b5c1f","type":"function","z":"eaf3948f.736798","name":"","func":"msg.label=\"Running...\";\nmsg.background=\"#FFC300\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1600,"wires":[["611dd46e.9bcb0c"]]},{"id":"6e81af3d.42d1b","type":"function","z":"eaf3948f.736798","name":"","func":"msg.label=\"LAUNCH EXPERIMENT\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1520,"wires":[["611dd46e.9bcb0c"]]},{"id":"1232dcf4.8a3773","type":"inject","z":"eaf3948f.736798","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":210,"y":1640,"wires":[["33c951d0.4314d6"]]},{"id":"c3a78928.0de268","type":"ui_button","z":"eaf3948f.736798","name":"10 RESET","group":"9f1e154a.46ea78","order":57,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"reset","payloadType":"str","topic":"","x":1610,"y":1480,"wires":[["478e0813.72f1d8","b474ea57.b209b","d7be6030.6c0728","46775d22.b12684"]]},{"id":"478e0813.72f1d8","type":"function","z":"eaf3948f.736798","name":"","func":"msg.label=\"Reseting...\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1520,"wires":[["c3a78928.0de268","298b5b3e.de6124"]]},{"id":"f2f74e4e.7590a","type":"function","z":"eaf3948f.736798","name":"","func":"msg.label=\"RESET\";\nmsg.background=\"grey\";\nreturn msg;","outputs":1,"noerr":0,"x":1750,"y":1660,"wires":[["c3a78928.0de268"]]},{"id":"c4bc30fb.bef4f8","type":"inject","z":"eaf3948f.736798","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1630,"y":1680,"wires":[["f2f74e4e.7590a"]]},{"id":"298b5b3e.de6124","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1560,"wires":[["eb66b305.d02a5"]]},{"id":"eb66b305.d02a5","type":"function","z":"eaf3948f.736798","name":"","func":"msg.label=\"SUCCESS\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1600,"wires":[["66c6877f.4e04d","c3a78928.0de268"]]},{"id":"66c6877f.4e04d","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1640,"wires":[["f2f74e4e.7590a"]]},{"id":"fe717a5d.6e6ee8","type":"function","z":"eaf3948f.736798","name":"","func":"msg.label=\"Halted experiment\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1560,"wires":[["611dd46e.9bcb0c"]]},{"id":"f7598936.a5694","type":"ui_button","z":"eaf3948f.736798","name":"10 STOP","group":"9f1e154a.46ea78","order":56,"width":"4","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"str","topic":"","x":860,"y":1540,"wires":[["b8219237.bf601"]]},{"id":"1469eaaa.6a12fd","type":"function","z":"eaf3948f.736798","name":"","func":"msg.label=\"Stopped.\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":1580,"wires":[["f7598936.a5694"]]},{"id":"a933b17c.eaeb","type":"inject","z":"eaf3948f.736798","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":710,"y":1500,"wires":[["6f6e790c.cbddf8"]]},{"id":"6f6e790c.cbddf8","type":"function","z":"eaf3948f.736798","name":"","func":"msg.label=\"STOP\";\nmsg.background=\"#cb4335\";\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1500,"wires":[["f7598936.a5694"]]},{"id":"84f53c9b.2ce92","type":"comment","z":"eaf3948f.736798","name":"Launch TODOs","info":"Turn off and disable all above switches\ndisable the launch button\nCA MARCHE PAS","x":840,"y":2080,"wires":[]},{"id":"7b1b12a1.cf1f54","type":"comment","z":"eaf3948f.736798","name":"Reset TODOs","info":"Enable anew all above switches\nReset all default values in exp menu\nBlink LEDs as indicators ;)","x":1440,"y":1660,"wires":[]},{"id":"a81a861c.ac19a","type":"comment","z":"eaf3948f.736798","name":"Stop TODOs","info":"","x":850,"y":1420,"wires":[]},{"id":"7d6ce7f3.26013","type":"simpletime","z":"eaf3948f.736798","name":"","x":910,"y":2360,"wires":[["c0e22cbf.85418","9558f5d2.030ec"]]},{"id":"c0e22cbf.85418","type":"function","z":"eaf3948f.736798","name":"20190417_172653_nickname/...","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\")+\"/\"+msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1180,"y":2360,"wires":[["ad522128.d1603","ec7e3573.330278","4d53a916.955a9","8797842c.8ba828"]]},{"id":"4d53a916.955a9","type":"join","z":"eaf3948f.736798","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2400,"wires":[["b61fef28.85f2d8"]]},{"id":"ad522128.d1603","type":"join","z":"eaf3948f.736798","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2440,"wires":[["bdc0769.f34ae08"]]},{"id":"ec7e3573.330278","type":"join","z":"eaf3948f.736798","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2480,"wires":[["e8d2d880.b3fae"]]},{"id":"c4a84864.fb7b3","type":"function","z":"eaf3948f.736798","name":"/home/lab513/Desktop/eVOLVER_data/","func":"if (msg.payload){\n    msg.payload=\"/home/lab513/Desktop/eVOLVER_data/\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":2320,"wires":[["4d53a916.955a9","ad522128.d1603","ec7e3573.330278","8797842c.8ba828"]]},{"id":"4f974a13.d53424","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"delay","timeout":"0.2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2360,"wires":[["7d6ce7f3.26013"]]},{"id":"7b83285b.31a3b8","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"nickname","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":2600,"wires":[[]]},{"id":"366f26f5.9f8672","type":"function","z":"eaf3948f.736798","name":".IR","func":"if (msg.payload){\n    msg.payload=\".IR\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2400,"wires":[["4d53a916.955a9"]]},{"id":"f5bebc05.81adb8","type":"function","z":"eaf3948f.736798","name":".BL","func":"if (msg.payload){\n    msg.payload=\".BL\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2440,"wires":[["ad522128.d1603"]]},{"id":"48d86455.9c1c94","type":"function","z":"eaf3948f.736798","name":".Temp","func":"if (msg.payload){\n    msg.payload=\".Temp\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2480,"wires":[["ec7e3573.330278"]]},{"id":"5587f36a.a4c484","type":"function","z":"eaf3948f.736798","name":"Creates Files:","func":"\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":2280,"wires":[["4f974a13.d53424","4c40138a.e144a4","2ca73e63.84da22","35191948.c915be","9531343a.a5c5f8","462a828.5d680fc","5b4cb3e.e214e4c"]]},{"id":"35191948.c915be","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2400,"wires":[["366f26f5.9f8672"]]},{"id":"9531343a.a5c5f8","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2440,"wires":[["f5bebc05.81adb8"]]},{"id":"462a828.5d680fc","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2480,"wires":[["48d86455.9c1c94"]]},{"id":"4c40138a.e144a4","type":"function","z":"eaf3948f.736798","name":"reset","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":2280,"wires":[["b61fef28.85f2d8","bdc0769.f34ae08","e8d2d880.b3fae","14846f17.63ba81"]]},{"id":"2ca73e63.84da22","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"delay","timeout":"0.1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2320,"wires":[["c4a84864.fb7b3"]]},{"id":"b6b90623.80ec","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2600,"wires":[["7b83285b.31a3b8"]]},{"id":"b61fef28.85f2d8","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"FileNameIR","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1500,"y":2400,"wires":[[]]},{"id":"bdc0769.f34ae08","type":"change","z":"eaf3948f.736798","name":"FileNameBL","rules":[{"t":"set","p":"FileNameBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1470,"y":2440,"wires":[[]]},{"id":"e8d2d880.b3fae","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"FileNameTemp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":2480,"wires":[[]]},{"id":"8797842c.8ba828","type":"join","z":"eaf3948f.736798","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2520,"wires":[["14846f17.63ba81"]]},{"id":"5ef5e722.415df8","type":"function","z":"eaf3948f.736798","name":".readme","func":"if (msg.payload){\n    msg.payload=\".readme\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":2520,"wires":[["8797842c.8ba828"]]},{"id":"5b4cb3e.e214e4c","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2520,"wires":[["5ef5e722.415df8"]]},{"id":"14846f17.63ba81","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"FileNameReadme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":2520,"wires":[[]]},{"id":"6f79aeec.eca52","type":"inject","z":"eaf3948f.736798","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":810,"y":2560,"wires":[["30b10bb9.e339ac"]]},{"id":"f06094fd.59bce8","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2560,"wires":[["ad5c439.dc00dc"]]},{"id":"ad5c439.dc00dc","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"readme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1480,"y":2560,"wires":[[]]},{"id":"9558f5d2.030ec","type":"function","z":"eaf3948f.736798","name":"displayname","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":2640,"wires":[["2e89e297.227946"]]},{"id":"2e89e297.227946","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":2,"width":"15","height":"1","name":"00 Running","label":"Running:","format":"{{msg.payload}}","layout":"row-left","x":1310,"y":2640,"wires":[]},{"id":"90416f8b.76d9a8","type":"inject","z":"eaf3948f.736798","name":"","topic":"","payload":"-","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":890,"y":2640,"wires":[["391eb808.09fb5"]]},{"id":"b8219237.bf601","type":"function","z":"eaf3948f.736798","name":"STOP ACTIONS:","func":"msg.payload=false;\nreturn msg;\n\n//this function allows the fact that the\n//reset button first does the stop action\n//and then resets the buttons etc","outputs":1,"noerr":0,"x":1050,"y":1560,"wires":[["fe717a5d.6e6ee8","1469eaaa.6a12fd","a3da174f.560f78","7ead9a1a.bcf9a4","29111544.ca8672"]]},{"id":"b474ea57.b209b","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":300,"y":1480,"wires":[["6e81af3d.42d1b"]]},{"id":"d7be6030.6c0728","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":850,"y":1460,"wires":[["6f6e790c.cbddf8"]]},{"id":"38a99b4a.df1b44","type":"function","z":"eaf3948f.736798","name":"disable/enable switches","func":"if (msg.payload===\"launch\"){\n    msg.enabled=false;\n}\nelse if (msg.payload===0){\n    msg.enabled=true;\n}\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":2080,"wires":[[]]},{"id":"391eb808.09fb5","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=\"-\";\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":2640,"wires":[["2e89e297.227946"]]},{"id":"5b50c53c.fa964c","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":560,"y":2800,"wires":[["b8245ab9.03ca3","9b77700f.67042","88509716.b31088","f3efcc80.329278","af28b5fe.7bb7c","95fd92e.85dbf7","2e44a3df.4aa6e4","4a6a2de9.8baa44"]]},{"id":"26e19060.a23558","type":"file","z":"eaf3948f.736798","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3420,"wires":[[]]},{"id":"6c5cd25f.79e824","type":"file","z":"eaf3948f.736798","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3380,"wires":[[]]},{"id":"d5acdad5.44425","type":"file","z":"eaf3948f.736798","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3460,"wires":[[]]},{"id":"1aa6b1cc.6cd106","type":"switch","z":"eaf3948f.736798","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3420,"wires":[["cb3fa7ff.c3816"]]},{"id":"9b77700f.67042","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"StoreInFile","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":3340,"wires":[[]]},{"id":"495afff4.469c6","type":"comment","z":"eaf3948f.736798","name":"Allows storage in the filenames","info":"","x":1050,"y":3340,"wires":[]},{"id":"b7e2639b.a8da1","type":"arduino in","z":"eaf3948f.736798","name":"Blue Light Sensor","pin":"2","state":"ANALOG","arduino":"8587da80.6e477","x":790,"y":3420,"wires":[["75186f57.c134e"]]},{"id":"69779007.ec814","type":"arduino in","z":"eaf3948f.736798","name":"IR Sensor","pin":"1","state":"ANALOG","arduino":"8587da80.6e477","x":760,"y":3380,"wires":[["1021e468.639b54"]]},{"id":"75186f57.c134e","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3420,"wires":[["1aa6b1cc.6cd106","a8cae646.a58658"]]},{"id":"1021e468.639b54","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3380,"wires":[["4a7aeeaf.91b69","f854c283.073028"]]},{"id":"30a15022.db5c68","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3460,"wires":[["2e491af7.25444e","bb19ae73.38bcb"]]},{"id":"4a7aeeaf.91b69","type":"switch","z":"eaf3948f.736798","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3380,"wires":[["61169f53.1a858"]]},{"id":"2e491af7.25444e","type":"switch","z":"eaf3948f.736798","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3460,"wires":[["f74f5866.68f36"]]},{"id":"6adc0a7e.7274cc","type":"inject","z":"eaf3948f.736798","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":330,"y":3340,"wires":[["d57409ea.1c8af"]]},{"id":"b8245ab9.03ca3","type":"function","z":"eaf3948f.736798","name":"readme","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=flow.get(\"readme\")+\"\\n\"+\n    \"measOD \"+flow.get(\"measOD\").toString()+\"\\n\"+\n    \"measODunits \"+flow.get(\"measODunits\").toString()+\"\\n\"+\n    \"measODtotal \"+flow.get(\"measODtotal\").toString()+\"\\n\"+\n    \n    \"measBL \"+flow.get(\"measBL\").toString()+\"\\n\"+\n    \"measBLunits \"+flow.get(\"measBLunits\").toString()+\"\\n\"+\n    \"measBLtotal \"+flow.get(\"measBLtotal\").toString()+\"\\n\"+\n    \n    \"intBL \"+flow.get(\"intBL\").toString()+\"\\n\"+\n    \n    \"pillBL \"+flow.get(\"pillBL\").toString()+\"\\n\"+\n    \"pillBLunits \"+flow.get(\"pillBLunits\").toString()+\"\\n\"+\n    \"pillBLtotal \"+flow.get(\"pillBLtotal\").toString()+\"\\n\"+\n    \n    \"tillBL \"+flow.get(\"tillBL\").toString()+\"\\n\"+\n    \"tillBLunits \"+flow.get(\"tillBLunits\").toString()+\"\\n\"+\n    \"tillBLtotal \"+flow.get(\"tillBLtotal\").toString()+\"\\n\"+\n    \n    \"Temp \"+flow.get(\"Temp\").toString()+\"\\n\"+\n    \"PID \"+flow.get(\"PID\").toString()+\"\\n\"+\n    \n    \"FANstate \"+flow.get(\"FANstate\").toString()+\"\\n\"+\n    \"intFAN \"+flow.get(\"intFAN\").toString()+\"\\n\"+\n    \n    \"delay \"+flow.get(\"delay\").toString()+\"\\n\"+\n    \"delayunits \"+flow.get(\"delayunits\").toString()+\"\\n\"+\n    \"delaytotal \"+flow.get(\"delaytotal\").toString()+\"\\n\";\n\n//msg.myepoch=msg.myepoch.toString();\n//msg.payload=msg.payload+\";\"+msg.myepoch;\n\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":2940,"wires":[["8dd02cc7.e89088"]]},{"id":"8dd02cc7.e89088","type":"file","z":"eaf3948f.736798","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":890,"y":2940,"wires":[[]]},{"id":"61169f53.1a858","type":"simpletime","z":"eaf3948f.736798","name":"","x":1330,"y":3380,"wires":[["32645c94.5e8b4c"]]},{"id":"32645c94.5e8b4c","type":"function","z":"eaf3948f.736798","name":"IR+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameIR\");\nreturn msg;","outputs":1,"noerr":0,"x":1480,"y":3380,"wires":[["6c5cd25f.79e824"]]},{"id":"cb3fa7ff.c3816","type":"simpletime","z":"eaf3948f.736798","name":"","x":1330,"y":3420,"wires":[["c09e7b4e.fb4a2"]]},{"id":"c09e7b4e.fb4a2","type":"function","z":"eaf3948f.736798","name":"BL+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameBL\");\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":3420,"wires":[["26e19060.a23558"]]},{"id":"f74f5866.68f36","type":"simpletime","z":"eaf3948f.736798","name":"","x":1330,"y":3460,"wires":[["9e717f0d.968138"]]},{"id":"9e717f0d.968138","type":"function","z":"eaf3948f.736798","name":"Temp+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameTemp\");\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":3460,"wires":[["d5acdad5.44425"]]},{"id":"30b10bb9.e339ac","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2560,"wires":[["25c74817.0b4618"]]},{"id":"18bf2afa.7caeed","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=\"eV11_\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2600,"wires":[["ce2d7308.d3aab8"]]},{"id":"c31fd6f0.6db8c","type":"function","z":"eaf3948f.736798","name":"(reset)","func":"\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":2600,"wires":[["30b10bb9.e339ac","18bf2afa.7caeed","391eb808.09fb5"]]},{"id":"235f39bc.3118be","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=\"launch\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":2040,"wires":[["38a99b4a.df1b44"]]},{"id":"d57409ea.1c8af","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3340,"wires":[["9b77700f.67042"]]},{"id":"88509716.b31088","type":"function","z":"eaf3948f.736798","name":"255","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":750,"y":3640,"wires":[["1f02729d.894d3d","e6ea30f6.f49978"]]},{"id":"1f02729d.894d3d","type":"function","z":"eaf3948f.736798","name":"measODtotal","func":"msg.delay=flow.get(\"measODtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":780,"y":3680,"wires":[["131e5509.0d15b3"]]},{"id":"131e5509.0d15b3","type":"delay","z":"eaf3948f.736798","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":3720,"wires":[["88509716.b31088"]]},{"id":"845f66db.8d6fb","type":"function","z":"eaf3948f.736798","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3640,"wires":[["131e5509.0d15b3","e6ea30f6.f49978"]]},{"id":"e6ea30f6.f49978","type":"trigger","z":"eaf3948f.736798","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1050,"y":3640,"wires":[["f7d94d15.aba6d8","946e8e29.701968","827b31eb.bb0318"]]},{"id":"f7d94d15.aba6d8","type":"function","z":"eaf3948f.736798","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":3640,"wires":[["e32a9ed7.c512a"]]},{"id":"946e8e29.701968","type":"arduino out","z":"eaf3948f.736798","name":"IR17","pin":"5","state":"PWM","arduino":"8587da80.6e477","x":1810,"y":3680,"wires":[]},{"id":"2a568db8.e37a5a","type":"switch","z":"eaf3948f.736798","name":"lance ventilo","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"gt","v":"160","vt":"num"},{"t":"btwn","v":"0","vt":"num","v2":"160","v2t":"num"}],"checkall":"false","repair":false,"outputs":3,"x":1470,"y":3820,"wires":[["b215f8e8.c9e348"],["b215f8e8.c9e348"],["2e8b68a1.a3c7e8","6b861ebe.bc3f"]],"info":"Coz the ventilo wont start if the value is \nbelow 160.\nTo have a value below 160, we need to start w\na bigger value and THEN get down in value"},{"id":"b215f8e8.c9e348","type":"arduino out","z":"eaf3948f.736798","name":"Fan","pin":"9","state":"PWM","arduino":"8587da80.6e477","x":1810,"y":3800,"wires":[]},{"id":"6b861ebe.bc3f","type":"function","z":"eaf3948f.736798","name":"200","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":1630,"y":3840,"wires":[["b215f8e8.c9e348"]]},{"id":"2e8b68a1.a3c7e8","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":3880,"wires":[["b215f8e8.c9e348"]]},{"id":"e32a9ed7.c512a","type":"arduino out","z":"eaf3948f.736798","name":"BL17","pin":"6","state":"PWM","arduino":"8587da80.6e477","x":1810,"y":3740,"wires":[]},{"id":"46775d22.b12684","type":"link out","z":"eaf3948f.736798","name":"RESET17->","links":["c7e90da8.587418","ae907382.6f4938","c8f43add.dd62f8","440a2d2c.698774","3742e0c8.bcab08","b9fa99c.24e2868","9b3e4119.84a748","948bae02.d8b248"],"x":1755,"y":1480,"wires":[]},{"id":"c7e90da8.587418","type":"link in","z":"eaf3948f.736798","name":"->Nickname&details","links":["46775d22.b12684"],"x":595,"y":2560,"wires":[["c31fd6f0.6db8c"]]},{"id":"9196bf72.d4b308","type":"link in","z":"eaf3948f.736798","name":"->StoreInFile","links":["a3da174f.560f78"],"x":375,"y":3300,"wires":[["d57409ea.1c8af"]]},{"id":"9608cd46.fd2448","type":"link in","z":"eaf3948f.736798","name":"->ODmeas","links":["a3da174f.560f78"],"x":395,"y":3640,"wires":[["845f66db.8d6fb"]]},{"id":"ae907382.6f4938","type":"link in","z":"eaf3948f.736798","name":"->stop","links":["46775d22.b12684"],"x":875,"y":1620,"wires":[["b8219237.bf601"]]},{"id":"7c7da4b9.972dc4","type":"function","z":"eaf3948f.736798","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1740,"y":260,"wires":[["36bf12c2.592c4e"]]},{"id":"12c6fbd7.63d12c","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"measOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":260,"wires":[["1754d40f.8ee284"]]},{"id":"36bf12c2.592c4e","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"measODunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":260,"wires":[["1754d40f.8ee284"]]},{"id":"1754d40f.8ee284","type":"function","z":"eaf3948f.736798","name":"multiply","func":"msg.payload=flow.get(\"measOD\")*flow.get(\"measODunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2100,"y":260,"wires":[["33fa9787.f56688"]]},{"id":"7f6d877e.5714e","type":"function","z":"eaf3948f.736798","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1760,"y":380,"wires":[["2b841ca.0d5d964"]]},{"id":"5ed59b33.804584","type":"function","z":"eaf3948f.736798","name":"multiply","func":"msg.payload=flow.get(\"measBL\")*flow.get(\"measBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2120,"y":380,"wires":[["9ee2f310.b8f1a8"]]},{"id":"9ee2f310.b8f1a8","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"measBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":380,"wires":[["de7a2862.4488f"]]},{"id":"a4b22767.f7a3a","type":"function","z":"eaf3948f.736798","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1100,"y":600,"wires":[["d9ce65bf.d6896"]]},{"id":"91073417.21be3","type":"function","z":"eaf3948f.736798","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":600,"wires":[["d2aa8eaf.06ea18"]]},{"id":"999748d5.6ed46","type":"function","z":"eaf3948f.736798","name":"multiply","func":"msg.payload=flow.get(\"pillBL\")*flow.get(\"pillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1000,"y":700,"wires":[["1186634a.04a44d"]]},{"id":"1186634a.04a44d","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"pillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1170,"y":700,"wires":[["eb6f0f15.a23b5"]]},{"id":"f09bf9a2.12313","type":"function","z":"eaf3948f.736798","name":"multiply","func":"msg.payload=flow.get(\"tillBL\")*flow.get(\"tillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":700,"wires":[["3d34660a.0f5b82"]]},{"id":"3d34660a.0f5b82","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"tillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":700,"wires":[[]]},{"id":"fbb23dce.c8c768","type":"function","z":"eaf3948f.736798","name":"multiply","func":"msg.payload=flow.get(\"delay\")*flow.get(\"delayunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":1220,"wires":[["b2bcd80f.375ec8"]]},{"id":"b2bcd80f.375ec8","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"delaytotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":1220,"wires":[["c949648e.c19398"]]},{"id":"5e48ca74.c2bc2c","type":"function","z":"eaf3948f.736798","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1180,"wires":[["7a55f356.b857b4"]]},{"id":"a3da174f.560f78","type":"link out","z":"eaf3948f.736798","name":"STOP17.false","links":["9b45e5fd.12c99","9608cd46.fd2448","786c4131.53aeb8","9196bf72.d4b308","6c8e42f6.b99254","33469cf2.f1522c","43c64567.d25184","daf7138.ee9d9f","a34e1efb.f10658","f2ace8ff.419eb"],"x":1235,"y":1580,"wires":[]},{"id":"827b31eb.bb0318","type":"function","z":"eaf3948f.736798","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":3680,"wires":[["2a568db8.e37a5a"]]},{"id":"33de303f.b71bc","type":"comment","z":"eaf3948f.736798","name":"OD mesaurements","info":"","x":790,"y":3600,"wires":[]},{"id":"46bc82b3.b7f4d4","type":"function","z":"eaf3948f.736798","name":"255","func":"if (flow.get(\"measBLtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":910,"y":4220,"wires":[["3557dde0.b9dd42","5f5d9f65.f67618"]]},{"id":"3557dde0.b9dd42","type":"function","z":"eaf3948f.736798","name":"measBLtotal","func":"msg.delay=flow.get(\"measBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":4280,"wires":[["aa65570.64226a8"]]},{"id":"aa65570.64226a8","type":"delay","z":"eaf3948f.736798","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1050,"y":4320,"wires":[["46bc82b3.b7f4d4"]]},{"id":"e4d9ce96.2f757","type":"trigger","z":"eaf3948f.736798","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1350,"y":4240,"wires":[["5215a47f.79e39c","1dd6e72c.dfa519"]]},{"id":"7532d17f.6d3ae","type":"comment","z":"eaf3948f.736798","name":"BL mesaurements","info":"","x":910,"y":4180,"wires":[]},{"id":"5f5d9f65.f67618","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"delay","timeout":"7","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1180,"y":4200,"wires":[["e4d9ce96.2f757","abf77863.26c09"]]},{"id":"a8b24763.ffe918","type":"function","z":"eaf3948f.736798","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":4220,"wires":[["aa65570.64226a8","e4d9ce96.2f757","5f5d9f65.f67618","b28396c3.5e8a18","2e8b68a1.a3c7e8"]]},{"id":"786c4131.53aeb8","type":"link in","z":"eaf3948f.736798","name":"->BLmeas","links":["a3da174f.560f78"],"x":335,"y":4220,"wires":[["a8b24763.ffe918"]]},{"id":"1dd6e72c.dfa519","type":"function","z":"eaf3948f.736798","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":4220,"wires":[["e32a9ed7.c512a"]]},{"id":"5215a47f.79e39c","type":"function","z":"eaf3948f.736798","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":4260,"wires":[["2a568db8.e37a5a"]]},{"id":"7ead9a1a.bcf9a4","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1540,"wires":[["ecee2576.ed9a98"]]},{"id":"ecee2576.ed9a98","type":"link out","z":"eaf3948f.736798","name":"STOP17.0","links":["7bc05d4c.54e43c","e1ca699c.c57ba8","c58951a5.56b19","cca1c4b.a411db8","48c11f9d.37dde","7b3e4ac7.65d3e4"],"x":1295,"y":1540,"wires":[]},{"id":"7bc05d4c.54e43c","type":"link in","z":"eaf3948f.736798","name":"->IT,BL,FAN","links":["ecee2576.ed9a98"],"x":1475,"y":3640,"wires":[["e32a9ed7.c512a","946e8e29.701968","b215f8e8.c9e348"]]},{"id":"c6d0a4f0.f00e5","type":"ui_button","z":"eaf3948f.736798","name":"02 OD realtime value","group":"9f1e154a.46ea78","order":11,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3380,"wires":[[]]},{"id":"f854c283.073028","type":"function","z":"eaf3948f.736798","name":"","func":"msg.label=msg.payload;\nif (msg.payload>150){\n    msg.background=\"red\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3380,"wires":[["c6d0a4f0.f00e5"]]},{"id":"a8cae646.a58658","type":"function","z":"eaf3948f.736798","name":"","func":"msg.label=msg.payload;\nif (msg.payload>300){\n    msg.background=\"#44cff1\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3420,"wires":[["ee978d0f.21e918"]]},{"id":"ee978d0f.21e918","type":"ui_button","z":"eaf3948f.736798","name":"03 BL realtime value","group":"9f1e154a.46ea78","order":18,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3420,"wires":[[]]},{"id":"26eca2fc.6436d6","type":"comment","z":"eaf3948f.736798","name":"Display:","info":"","x":1800,"y":3340,"wires":[]},{"id":"b28396c3.5e8a18","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":3900,"wires":[["6e034f8.8577eb"]]},{"id":"6e034f8.8577eb","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=true;\nreturn msg;\n\n","outputs":1,"noerr":0,"x":750,"y":3940,"wires":[["46bc82b3.b7f4d4","5ed7c61e.3339c8","5a8f9c2f.5f218c","9da4f7ce.ca77f"]]},{"id":"f3efcc80.329278","type":"function","z":"eaf3948f.736798","name":"","func":"msg.delay=flow.get(\"delaytotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3860,"wires":[["b28396c3.5e8a18","6739225b.2f0d3c","9da4f7ce.ca77f"]]},{"id":"6739225b.2f0d3c","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3880,"wires":[["9fb8a2db.ab7eb"]]},{"id":"33f938cf.1ea62","type":"comment","z":"eaf3948f.736798","name":"growth delay","info":"","x":770,"y":3820,"wires":[]},{"id":"9722e899.360dd8","type":"function","z":"eaf3948f.736798","name":"","func":"msg.delay=flow.get(\"tillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4740,"wires":[["aa0096a0.75ad9"]]},{"id":"aa0096a0.75ad9","type":"delay","z":"eaf3948f.736798","name":"part","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4740,"wires":[["e3fbb98c.ad21f"]]},{"id":"5ed7c61e.3339c8","type":"function","z":"eaf3948f.736798","name":"","func":"if (flow.get(\"pillBLtotal\") === 0 || flow.get(\"tillBLtotal\") === 0){\n    return;\n}\nelse{\n    msg.payload=flow.get(\"intBL\");\n    msg.state=\"ON\";\n    return msg;\n}\n\n\n","outputs":1,"noerr":0,"x":910,"y":4600,"wires":[["9722e899.360dd8","74e87aef.fe3db4","67d50bb2.c69ec4","a69dea3f.41812","9567a168.176b58"]]},{"id":"e3fbb98c.ad21f","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=0;\nmsg.state=\"OFF\";\nreturn msg;\n","outputs":1,"noerr":0,"x":1010,"y":4740,"wires":[["67d50bb2.c69ec4","a69dea3f.41812","9567a168.176b58"]]},{"id":"74e87aef.fe3db4","type":"function","z":"eaf3948f.736798","name":"","func":"msg.delay=flow.get(\"pillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4700,"wires":[["d971ed03.e693c8"]]},{"id":"d971ed03.e693c8","type":"delay","z":"eaf3948f.736798","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4700,"wires":[["5ed7c61e.3339c8"]]},{"id":"dc057226.c44d","type":"function","z":"eaf3948f.736798","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":4620,"wires":[["d971ed03.e693c8","aa0096a0.75ad9","f66667d4.e641a","9567a168.176b58"]]},{"id":"8191d0df.4f06b","type":"comment","z":"eaf3948f.736798","name":"Cycle w sous cycle la: cool pr la blue LED","info":"","x":990,"y":4500,"wires":[]},{"id":"9b45e5fd.12c99","type":"link in","z":"eaf3948f.736798","name":"->BLcycle","links":["a3da174f.560f78"],"x":635,"y":4620,"wires":[["dc057226.c44d"]]},{"id":"67d50bb2.c69ec4","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"BLstate","pt":"flow","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":4560,"wires":[[]]},{"id":"cf7146b4.cdcea","type":"inject","z":"eaf3948f.736798","name":"","topic":"","payload":"OFF","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":890,"y":4540,"wires":[["f66667d4.e641a"]]},{"id":"af28b5fe.7bb7c","type":"function","z":"eaf3948f.736798","name":"for FAN","func":"if (flow.get(\"FANstate\")===\"ON\"){\n    msg.payload=flow.get(\"intFAN\");\n}\nelse if (flow.get(\"FANstate\")===\"OFF\"){\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":3000,"wires":[["5c7206f0.27091"]]},{"id":"e1ca699c.c57ba8","type":"link in","z":"eaf3948f.736798","name":"->PID","links":["ecee2576.ed9a98"],"x":455,"y":3140,"wires":[["95fd92e.85dbf7"]]},{"id":"33c951d0.4314d6","type":"function","z":"eaf3948f.736798","name":"","func":"msg.label=\"Initialization\";\nmsg.background=\"#f39c12\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1640,"wires":[["611dd46e.9bcb0c"]]},{"id":"fe4ffcbc.5ce448","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":200,"y":1600,"wires":[["fae3eabf.b5c1f"]]},{"id":"dc60cd72.fb4608","type":"ui_button","z":"eaf3948f.736798","name":"06 Temp realtime value","group":"9f1e154a.46ea78","order":39,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1970,"y":3460,"wires":[[]]},{"id":"bb19ae73.38bcb","type":"function","z":"eaf3948f.736798","name":"","func":"msg.label=msg.payload;\nif (flow.get(\"PIDstate\")>0){\n    msg.background=\"#fdedec\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3460,"wires":[["dc60cd72.fb4608"]]},{"id":"a8b4e811.2aa5c","type":"ui_button","z":"eaf3948f.736798","name":"05 BLstate","group":"9f1e154a.46ea78","order":27,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1470,"y":4600,"wires":[[]]},{"id":"a69dea3f.41812","type":"function","z":"eaf3948f.736798","name":"","func":"msg.label=msg.state;\nif (msg.label===\"ON\"){\n    msg.background=\"#ebf5fb\";\n}\nelse if (msg.label===\"OFF\"){\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":4600,"wires":[["a8b4e811.2aa5c"]]},{"id":"f66667d4.e641a","type":"function","z":"eaf3948f.736798","name":"","func":"msg.state=\"OFF\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":4540,"wires":[["67d50bb2.c69ec4","a69dea3f.41812"]]},{"id":"2f0b8a26.1980c6","type":"function","z":"eaf3948f.736798","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"pillBLtotal\")/1000-(msg.count%(flow.get(\"pillBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":620,"wires":[["f8cd2e16.49449"]]},{"id":"2daf2d9b.fe3cfa","type":"ui_button","z":"eaf3948f.736798","name":"04 pillBL Cycle counter","group":"9f1e154a.46ea78","order":26,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3330,"y":600,"wires":[[]]},{"id":"eb6f0f15.a23b5","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=flow.get(\"pillBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":580,"wires":[["f8cd2e16.49449","c949648e.c19398"]]},{"id":"ea561280.c86c28","type":"counter","z":"eaf3948f.736798","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":680,"wires":[["2f0b8a26.1980c6"]]},{"id":"846450f1.284bb","type":"function","z":"eaf3948f.736798","name":"","func":"if (flow.get(\"counterpillBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"counterpillBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":640,"wires":[["ea561280.c86c28"]]},{"id":"5a8f9c2f.5f218c","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"counterpillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":4460,"wires":[[]]},{"id":"61dc6b41.549074","type":"inject","z":"eaf3948f.736798","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4480,"wires":[["2d8c5790.95c9d8"]]},{"id":"2d8c5790.95c9d8","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4460,"wires":[["5a8f9c2f.5f218c"]]},{"id":"6c8e42f6.b99254","type":"link in","z":"eaf3948f.736798","name":"->Counter","links":["a3da174f.560f78"],"x":415,"y":4440,"wires":[["2d8c5790.95c9d8"]]},{"id":"7031663.2f6e318","type":"inject","z":"eaf3948f.736798","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"3","x":190,"y":1520,"wires":[["6e81af3d.42d1b"]]},{"id":"1f02828f.484645","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":1,"width":"3","height":"1","name":"00 eVOLVER11","label":"<font size =5>eVOLVER11","format":"{{msg.payload}}","layout":"row-center","x":700,"y":60,"wires":[]},{"id":"66f10128.64f688","type":"link out","z":"eaf3948f.736798","name":"enabled->","links":["4dea90fc.2f6ab"],"x":955,"y":2080,"wires":[]},{"id":"cca1c4b.a411db8","type":"link in","z":"eaf3948f.736798","name":"->GL","links":["ecee2576.ed9a98"],"x":255,"y":2120,"wires":[["38a99b4a.df1b44","4e1583fb.c324d4"]]},{"id":"32213abd.97d94e","type":"comment","z":"eaf3948f.736798","name":"01","info":"","x":550,"y":60,"wires":[]},{"id":"b69ad5f4.95b2a","type":"comment","z":"eaf3948f.736798","name":"02 ODmeas","info":"","x":650,"y":180,"wires":[]},{"id":"26909b7b.7d5024","type":"comment","z":"eaf3948f.736798","name":"03 BLmeas","info":"","x":670,"y":300,"wires":[]},{"id":"695ea841.6c7638","type":"link in","z":"eaf3948f.736798","name":"->ARDUINO FAN","links":["aad07c4.844a9","5c7206f0.27091"],"x":1275,"y":3820,"wires":[["2a568db8.e37a5a"]]},{"id":"7532c635.dbdab","type":"link in","z":"eaf3948f.736798","name":"->ARDUINO IR","links":["36d8327e.3f9ebe"],"x":1695,"y":3640,"wires":[["946e8e29.701968"]]},{"id":"eb1c5e63.237408","type":"link in","z":"eaf3948f.736798","name":"->ARDUINO BL","links":["9567a168.176b58","c820f34e.26d72"],"x":1615,"y":3760,"wires":[["e32a9ed7.c512a"]]},{"id":"9567a168.176b58","type":"link out","z":"eaf3948f.736798","name":"BLcycle->BL","links":["eb1c5e63.237408"],"x":1235,"y":4660,"wires":[]},{"id":"5c7206f0.27091","type":"link out","z":"eaf3948f.736798","name":"Fancontrol","links":["695ea841.6c7638"],"x":895,"y":3000,"wires":[]},{"id":"aad07c4.844a9","type":"link out","z":"eaf3948f.736798","name":"Fansetup","links":["695ea841.6c7638"],"x":1735,"y":1060,"wires":[]},{"id":"36d8327e.3f9ebe","type":"link out","z":"eaf3948f.736798","name":"IRsetup","links":["7532c635.dbdab"],"x":1115,"y":180,"wires":[]},{"id":"c820f34e.26d72","type":"link out","z":"eaf3948f.736798","name":"BLcycle->BL","links":["eb1c5e63.237408"],"x":1135,"y":300,"wires":[]},{"id":"d1e2a944.a5dbd8","type":"link out","z":"eaf3948f.736798","name":"PIDsetup->","links":["c242df56.7926b"],"x":1295,"y":880,"wires":[]},{"id":"c242df56.7926b","type":"link in","z":"eaf3948f.736798","name":"->ARDUINO HEATER","links":["d1e2a944.a5dbd8","adac9125.ca28a8"],"x":1215,"y":3140,"wires":[["c4678089.d04a5"]]},{"id":"4e1583fb.c324d4","type":"link out","z":"eaf3948f.736798","name":"GRlaunch->","links":["2a815a13.472d16"],"x":515,"y":2160,"wires":[]},{"id":"2a815a13.472d16","type":"link in","z":"eaf3948f.736798","name":"->GL","links":["4e1583fb.c324d4"],"x":1035,"y":120,"wires":[["5c56a08c.c40338"]]},{"id":"d118aefe.9fa6c","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":800,"y":3160,"wires":[["d92cc8f.9e77738"]]},{"id":"9d914f93.ceeff8","type":"PID","z":"eaf3948f.736798","name":"","setpoint":"550","pb":"0","ti":"900","td":0,"integral_default":0.5,"smooth_factor":3,"max_interval":600,"enable":"0","disabled_op":0,"x":1010,"y":3100,"wires":[["ad2aaef6.8c2188","f2d1bf14.643128"]]},{"id":"4e7a8c6e.4915ac","type":"arduino in","z":"eaf3948f.736798","name":"TempSensor","pin":"0","state":"ANALOG","arduino":"8587da80.6e477","x":750,"y":3120,"wires":[["d118aefe.9fa6c","30a15022.db5c68"]]},{"id":"c4678089.d04a5","type":"arduino out","z":"eaf3948f.736798","name":"Heater","pin":"4","state":"OUTPUT","arduino":"8587da80.6e477","x":1330,"y":3100,"wires":[]},{"id":"ad2aaef6.8c2188","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"PIDstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":3060,"wires":[[]]},{"id":"3ad4fd7c.b19e92","type":"inject","z":"eaf3948f.736798","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":"0.3","x":1130,"y":3020,"wires":[["ad2aaef6.8c2188"]]},{"id":"95fd92e.85dbf7","type":"function","z":"eaf3948f.736798","name":"","func":"if (msg.payload===true){\n    msg.enable=1;\n}\nif (msg.payload===0){\n    msg.enable=0;\n}\nif (flow.get(\"PID\")===\"OFF\"){\n    msg.enable=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3080,"wires":[["9d914f93.ceeff8"]]},{"id":"d92cc8f.9e77738","type":"function","z":"eaf3948f.736798","name":"setpoint","func":"msg.setpoint=flow.get(\"Temp\");\nreturn msg;","outputs":1,"noerr":0,"x":840,"y":3200,"wires":[["9d914f93.ceeff8"]]},{"id":"69201ad8.fa876c","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":940,"y":980,"wires":[["c2d54380.a9048"]]},{"id":"c2d54380.a9048","type":"function","z":"eaf3948f.736798","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    msg.payload=0;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1210,"y":960,"wires":[["aaa46b78.6bf3d"]]},{"id":"f2d1bf14.643128","type":"function","z":"eaf3948f.736798","name":"","func":"if (flow.get(\"launched\")===false){\n    return;\n}\nelse if (flow.get(\"launched\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":1170,"y":3100,"wires":[["c4678089.d04a5"]]},{"id":"6df7c553.8f94fc","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"launched","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1960,"wires":[[]]},{"id":"f3589ba5.8f12b","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":800,"wires":[[]]},{"id":"eb8cc028.ad975","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"PID","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":860,"wires":[["74db39c2.7571f8"]]},{"id":"398155e0.7c00da","type":"inject","z":"eaf3948f.736798","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":250,"y":1960,"wires":[["6df7c553.8f94fc"]]},{"id":"33469cf2.f1522c","type":"link in","z":"eaf3948f.736798","name":"->launched","links":["a3da174f.560f78"],"x":275,"y":2000,"wires":[["6df7c553.8f94fc"]]},{"id":"8af87511.c694f","type":"function","z":"eaf3948f.736798","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    return msg;\n}\n","outputs":1,"noerr":0,"x":910,"y":940,"wires":[["69201ad8.fa876c"]]},{"id":"c8219938.8b5968","type":"inject","z":"eaf3948f.736798","name":"INITIALIZATION","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":290,"y":720,"wires":[["4387df49.ddddf8"]]},{"id":"4387df49.ddddf8","type":"function","z":"eaf3948f.736798","name":"initialization","func":"\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":740,"wires":[["4aced5a2.07b83c","ea6a08be.e1d0b8","3ae3d718.05b43","6e7350e1.d2f388","fa674a0e.65d128","5f3985b5.3d750c","d5a9e56.20e6b98","c28e598f.bd02a","47c2d825.7c4da8"]]},{"id":"99f67b32.0269b","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=10;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":180,"wires":[["3cd702f8.bd339e","f1237c8a.aed218","5ade0a80.4a76ec"]]},{"id":"f1237c8a.aed218","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1670,"y":180,"wires":[["27572691.80903a","8150633c.f94d88","6d2ecda8.b74ee4"]]},{"id":"5ade0a80.4a76ec","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":300,"wires":[["5faaa3bd.f57334","22d213c7.121bcc"]]},{"id":"22d213c7.121bcc","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1710,"y":300,"wires":[["6aa7270b.31a758"]]},{"id":"77c00d8.9ca85f4","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":520,"wires":[["f75f4ab6.70f148","bdaec42d.9822b8"]]},{"id":"bdaec42d.9822b8","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=\"seconds\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":520,"wires":[["401b0870.4cbe7"]]},{"id":"4aced5a2.07b83c","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=1;\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":520,"wires":[["ef604abc.f34e4","df529b72.3ec98"]]},{"id":"df529b72.3ec98","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":520,"wires":[["f95739cc.600c98","77c00d8.9ca85f4"]]},{"id":"82f742ad.062ea8","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":1140,"wires":[["d5790347.9ce418","c61970a7.f32918"]]},{"id":"ea6a08be.e1d0b8","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":1140,"wires":[["3cb5b8b1.b96c4","82f742ad.062ea8"]]},{"id":"3ae3d718.05b43","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=550;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":840,"wires":[["1a0456a6.c38629"]]},{"id":"6e7350e1.d2f388","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":880,"wires":[["aaa46b78.6bf3d"]]},{"id":"c61970a7.f32918","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":1020,"wires":[["1157ded1.219991","e792252a.5f9cd"]]},{"id":"e792252a.5f9cd","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=100;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":980,"wires":[["18f06d89.232722","4c9242a6.0ddcb4"]]},{"id":"4c9242a6.0ddcb4","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":800,"wires":[["eb8cc028.ad975","6945a978.e0e25"]]},{"id":"fa674a0e.65d128","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":1020,"wires":[["e2ba4611.8fdfc"]]},{"id":"5f3985b5.3d750c","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":420,"wires":[["b23219a2.32584"]]},{"id":"47c2d825.7c4da8","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":300,"wires":[["c3da77f3.950a4"]]},{"id":"c28e598f.bd02a","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":180,"wires":[["f0815c5a.b37bb","1190e90.cfb8217"]]},{"id":"d5a9e56.20e6b98","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":60,"wires":[["14c0eae.bcb8015"]]},{"id":"1190e90.cfb8217","type":"function","z":"eaf3948f.736798","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":60,"wires":[["9654a928.0a9178","99f67b32.0269b"]]},{"id":"c8f43add.dd62f8","type":"link in","z":"eaf3948f.736798","name":"->initialization","links":["46775d22.b12684"],"x":375,"y":760,"wires":[["4387df49.ddddf8"]]},{"id":"1157ded1.219991","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1480,"y":1060,"wires":[["a1222fb4.50224"]]},{"id":"f8cd2e16.49449","type":"function","z":"eaf3948f.736798","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":600,"wires":[["2daf2d9b.fe3cfa"]]},{"id":"51b04ece.2f11c8","type":"inject","z":"eaf3948f.736798","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":640,"wires":[["846450f1.284bb"]]},{"id":"6c214235.e5f97c","type":"function","z":"eaf3948f.736798","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measODtotal\")/1000-(msg.count%(flow.get(\"measODtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":300,"wires":[["aacb87b0.c573c"]]},{"id":"1b95984.4c3f268","type":"ui_button","z":"eaf3948f.736798","name":"02 ODmeas Cycle counter","group":"9f1e154a.46ea78","order":10,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":280,"wires":[[]]},{"id":"8150633c.f94d88","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=flow.get(\"measODtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":260,"wires":[["aacb87b0.c573c","de7a2862.4488f"]]},{"id":"c3aa395a.84c508","type":"counter","z":"eaf3948f.736798","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":360,"wires":[["6c214235.e5f97c"]]},{"id":"2089cbaa.c7bdac","type":"function","z":"eaf3948f.736798","name":"","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}if (flow.get(\"countermeasOD\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasOD\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":320,"wires":[["c3aa395a.84c508"]]},{"id":"aacb87b0.c573c","type":"function","z":"eaf3948f.736798","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":280,"wires":[["1b95984.4c3f268"]]},{"id":"f21d4ba0.2f82c8","type":"inject","z":"eaf3948f.736798","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":320,"wires":[["2089cbaa.c7bdac"]]},{"id":"1d3921c6.5f5616","type":"function","z":"eaf3948f.736798","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measBLtotal\")/1000-(msg.count%(flow.get(\"measBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":460,"wires":[["45c37d84.7240f4"]]},{"id":"99dd3511.810e78","type":"ui_button","z":"eaf3948f.736798","name":"03 BLmeas Cycle counter","group":"9f1e154a.46ea78","order":17,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":440,"wires":[[]]},{"id":"de7a2862.4488f","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=flow.get(\"measBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":420,"wires":[["45c37d84.7240f4","eb6f0f15.a23b5"]]},{"id":"ba5d1788.68941","type":"counter","z":"eaf3948f.736798","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":520,"wires":[["1d3921c6.5f5616"]]},{"id":"2bf09a2c.699d5e","type":"function","z":"eaf3948f.736798","name":"","func":"if (flow.get(\"countermeasBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":480,"wires":[["ba5d1788.68941"]]},{"id":"45c37d84.7240f4","type":"function","z":"eaf3948f.736798","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":440,"wires":[["99dd3511.810e78"]]},{"id":"f0784993.d376a8","type":"inject","z":"eaf3948f.736798","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":480,"wires":[["2bf09a2c.699d5e"]]},{"id":"e7e5c010.0677","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"countermeasBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1010,"y":4140,"wires":[[]]},{"id":"3cdf2e61.c1a9ea","type":"inject","z":"eaf3948f.736798","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4160,"wires":[["4e8f1491.613f94"]]},{"id":"4e8f1491.613f94","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4140,"wires":[["e7e5c010.0677"]]},{"id":"43c64567.d25184","type":"link in","z":"eaf3948f.736798","name":"->Counter","links":["a3da174f.560f78"],"x":415,"y":4120,"wires":[["4e8f1491.613f94"]]},{"id":"2e44a3df.4aa6e4","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"countermeasOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3560,"wires":[[]]},{"id":"a1cf1cd4.16eb","type":"inject","z":"eaf3948f.736798","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":230,"y":3580,"wires":[["46fad5ed.cc715c"]]},{"id":"46fad5ed.cc715c","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":3560,"wires":[["2e44a3df.4aa6e4"]]},{"id":"daf7138.ee9d9f","type":"link in","z":"eaf3948f.736798","name":"->Counter","links":["a3da174f.560f78"],"x":255,"y":3540,"wires":[["46fad5ed.cc715c"]]},{"id":"abf77863.26c09","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":4040,"wires":[["e7e5c010.0677"]]},{"id":"fd29be6e.f3aed8","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":900,"wires":[["5571fd78.1ad8cc"]]},{"id":"15001b12.c86b25","type":"counter","z":"eaf3948f.736798","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":980,"wires":[["ad230002.e003f"]]},{"id":"d0a5311d.a0c02","type":"function","z":"eaf3948f.736798","name":"","func":"if (flow.get(\"counterlaunch\")===false){\n    return;\n}\nelse if (flow.get(\"counterlaunch\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":940,"wires":[["15001b12.c86b25"]]},{"id":"5571fd78.1ad8cc","type":"function","z":"eaf3948f.736798","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3120,"y":920,"wires":[["2a2e31b0.d82b2e","61655069.cac14"]]},{"id":"1412d938.510d6f","type":"inject","z":"eaf3948f.736798","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":940,"wires":[["d0a5311d.a0c02"]]},{"id":"2a2e31b0.d82b2e","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":53,"width":"4","height":"1","name":"09 elapsed time","label":"Elapsed time: ","format":"{{msg.payload}}","layout":"row-left","x":3280,"y":940,"wires":[]},{"id":"ad230002.e003f","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=msg.count;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":940,"wires":[["5571fd78.1ad8cc"]]},{"id":"4a6a2de9.8baa44","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"counterlaunch","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":2880,"wires":[[]]},{"id":"a1540fb7.36cc2","type":"inject","z":"eaf3948f.736798","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":270,"y":2900,"wires":[["60dcabbe.be437c"]]},{"id":"60dcabbe.be437c","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":2880,"wires":[["4a6a2de9.8baa44"]]},{"id":"a34e1efb.f10658","type":"link in","z":"eaf3948f.736798","name":"->Counter","links":["a3da174f.560f78"],"x":295,"y":2860,"wires":[["60dcabbe.be437c"]]},{"id":"a597760d.189008","type":"function","z":"eaf3948f.736798","name":"","func":"if (msg.count>=flow.get(\"delaytotal\")/1000){\n    msg.payload=0;\n}\nelse {\n    msg.payload=flow.get(\"delaytotal\")/1000-(msg.count%(flow.get(\"delaytotal\")/1000));\n\n}\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":780,"wires":[["43f3c4d1.cb434c"]]},{"id":"7c9dd23e.e4f9bc","type":"ui_button","z":"eaf3948f.736798","name":"08 growthdelay Cycle counter","group":"9f1e154a.46ea78","order":50,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3350,"y":760,"wires":[[]]},{"id":"c949648e.c19398","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=flow.get(\"delaytotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":740,"wires":[["43f3c4d1.cb434c","fd29be6e.f3aed8"]]},{"id":"692d5cfe.d4b2dc","type":"counter","z":"eaf3948f.736798","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":840,"wires":[["a597760d.189008"]]},{"id":"32395c3b.bed01c","type":"function","z":"eaf3948f.736798","name":"","func":"if (flow.get(\"delaytotal\")===0){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===false){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":800,"wires":[["692d5cfe.d4b2dc"]]},{"id":"43f3c4d1.cb434c","type":"function","z":"eaf3948f.736798","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":760,"wires":[["7c9dd23e.e4f9bc"]]},{"id":"6bf3205c.c1ffd8","type":"inject","z":"eaf3948f.736798","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":800,"wires":[["32395c3b.bed01c"]]},{"id":"9fb8a2db.ab7eb","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"counterdelay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1040,"y":3840,"wires":[[]]},{"id":"673b3f8.0ea93c","type":"inject","z":"eaf3948f.736798","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":430,"y":3860,"wires":[["eaed0fef.39768"]]},{"id":"eaed0fef.39768","type":"function","z":"eaf3948f.736798","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":3840,"wires":[["9fb8a2db.ab7eb","9da4f7ce.ca77f"]]},{"id":"f2ace8ff.419eb","type":"link in","z":"eaf3948f.736798","name":"->Counter","links":["a3da174f.560f78"],"x":455,"y":3820,"wires":[["eaed0fef.39768"]]},{"id":"ebe2706.3dbd21","type":"ui_text","z":"eaf3948f.736798","group":"9f1e154a.46ea78","order":51,"width":"2","height":"1","name":"08 growth delay status","label":"","format":"{{msg.payload}}","layout":"row-center","x":1110,"y":3960,"wires":[]},{"id":"9da4f7ce.ca77f","type":"function","z":"eaf3948f.736798","name":"","func":"if (msg.payload===false){\n    msg.payload=\"delay status\";\n}\nif (msg.payload===\"delay\"){\n    msg.payload=\"ongoing\";\n}\nelse if (msg.payload===true){\n    msg.payload=\"over\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3960,"wires":[["ebe2706.3dbd21"]]},{"id":"13e06def.fd3532","type":"function","z":"eaf3948f.736798","name":"reset","func":"msg.reset=true;\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2410,"y":540,"wires":[["c3aa395a.84c508","ea561280.c86c28","692d5cfe.d4b2dc","15001b12.c86b25"]]},{"id":"6d2ecda8.b74ee4","type":"delay","z":"eaf3948f.736798","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":2240,"y":520,"wires":[["13e06def.fd3532"]]},{"id":"61655069.cac14","type":"change","z":"eaf3948f.736798","name":"","rules":[{"t":"set","p":"elapsed","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3290,"y":900,"wires":[[]]},{"id":"29111544.ca8672","type":"function","z":"eaf3948f.736798","name":"elapsed","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=\"Elapsed time \"+flow.get(\"elapsed\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":1660,"wires":[["d0c812e0.685"]]},{"id":"d0c812e0.685","type":"file","z":"eaf3948f.736798","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1270,"y":1660,"wires":[[]]},{"id":"c89bbbff.3a25f","type":"comment","z":"eaf3948f.736798","name":"BOUGZY DEPLOY","info":"","x":2590,"y":80,"wires":[]},{"id":"c575f63.8f24688","type":"arduino out","z":"9e3f83ca.2ddf88","name":"GL17","pin":"3","state":"OUTPUT","arduino":"be4be4d6.15f79","x":1130,"y":60,"wires":[]},{"id":"dc4ccfc7.273808","type":"arduino out","z":"9e3f83ca.2ddf88","name":"YL17","pin":"2","state":"OUTPUT","arduino":"be4be4d6.15f79","x":1550,"y":60,"wires":[]},{"id":"1fac4a61.0b7d9e","type":"ui_slider","z":"9e3f83ca.2ddf88","name":"05 intensity:","label":"intensity:","tooltip":"","group":"89076f33.868b08","order":30,"width":"7","height":"1","passthru":true,"outs":"end","topic":"","min":0,"max":"255","step":"1","x":1170,"y":420,"wires":[["fe1efa74.fcb788","894bc7a2.7b126"]]},{"id":"1f6cbd43.3e5e4b","type":"ui_numeric","z":"9e3f83ca.2ddf88","name":"06 and set to 480","label":"and set to","tooltip":"","group":"89076f33.868b08","order":37,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"1025","step":"1","x":1030,"y":840,"wires":[["2cbe4b51.4600b4"]]},{"id":"e94a0ee.18d917","type":"ui_switch","z":"9e3f83ca.2ddf88","name":"01 GL17","label":"","tooltip":"","group":"89076f33.868b08","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"green","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"green","x":1000,"y":60,"wires":[["c575f63.8f24688"]]},{"id":"90b35728.48037","type":"ui_switch","z":"9e3f83ca.2ddf88","name":"01 YL17","label":"","tooltip":"","group":"89076f33.868b08","order":4,"width":"1","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#e2c43c","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"#e2c43c","x":1420,"y":60,"wires":[["dc4ccfc7.273808"]]},{"id":"e96560a6.687c7","type":"ui_switch","z":"9e3f83ca.2ddf88","name":"02 IR17","label":"","tooltip":"","group":"89076f33.868b08","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"red","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1000,"y":180,"wires":[["1fb52a85.3592c5"]]},{"id":"a4a6f1cd.e8948","type":"ui_switch","z":"9e3f83ca.2ddf88","name":"03 BL17","label":"","tooltip":"","group":"89076f33.868b08","order":12,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#44cff1","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1020,"y":300,"wires":[["894bc7a2.7b126"]]},{"id":"d084e485.e949a","type":"ui_switch","z":"9e3f83ca.2ddf88","name":"07 FAN","label":"","tooltip":"","group":"89076f33.868b08","order":40,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"toys","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1620,"y":1080,"wires":[["2d1ea350.7b0324"]]},{"id":"854bd38e.724b2","type":"ui_switch","z":"9e3f83ca.2ddf88","name":"06 T01 PID","label":"","tooltip":"","group":"89076f33.868b08","order":33,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"enable","style":"","onvalue":"1","onvalueType":"num","onicon":"hot_tub","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1030,"y":880,"wires":[["2c414909.e7247e","5fd164a9.7787ec"]]},{"id":"67a268dd.b13ac","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":25,"width":"2","height":"1","name":"04 spacer","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1770,"y":520,"wires":[]},{"id":"a905de85.fcdbd8","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":46,"width":"7","height":"1","name":"07 last spacer","label":"(produces sound: fine).","format":"{{msg.payload}}","layout":"row-spread","x":1960,"y":1020,"wires":[]},{"id":"1d6df9fa.9ec9f6","type":"ui_numeric","z":"9e3f83ca.2ddf88","name":"02 every 5","label":"every","tooltip":"","group":"89076f33.868b08","order":7,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1450,"y":220,"wires":[["2cd0b3e9.732254"]]},{"id":"3170a7c4.d635","type":"ui_dropdown","z":"9e3f83ca.2ddf88","name":"02 minutes","label":"","tooltip":"","place":"Select option","group":"89076f33.868b08","order":8,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1690,"y":220,"wires":[["4f2f6894.b34318"]]},{"id":"eb25dc2.8d5672","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"measODtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2280,"y":320,"wires":[["3a6a9304.ec82bc"]]},{"id":"b777a78f.5ce58","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":9,"width":"7","height":"1","name":"02 (takes 5 seconds)","label":"(takes 5 seconds).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":180,"wires":[]},{"id":"52090da4.73589c","type":"ui_numeric","z":"9e3f83ca.2ddf88","name":"03 every 5","label":"every","tooltip":"","group":"89076f33.868b08","order":14,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1490,"y":340,"wires":[["d0d8ebe9.1c102"]]},{"id":"539d3bbf.60bfdc","type":"ui_dropdown","z":"9e3f83ca.2ddf88","name":"03 minutes","label":"","tooltip":"","place":"Select option","group":"89076f33.868b08","order":15,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1730,"y":340,"wires":[["781c6134.e13808"]]},{"id":"d0d8ebe9.1c102","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"measBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":380,"wires":[["fabf3bcc.0ebbb8"]]},{"id":"1cc67c8e.3d819b","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"measBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1940,"y":380,"wires":[["fabf3bcc.0ebbb8"]]},{"id":"529f2f60.f97ae8","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":16,"width":"7","height":"1","name":"03 (takes 5 seconds)","label":"(takes 5 secs, max illum., shifted timing).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":300,"wires":[]},{"id":"fe1efa74.fcb788","type":"ui_numeric","z":"9e3f83ca.2ddf88","name":"05 at 255","label":"at","tooltip":"","group":"89076f33.868b08","order":29,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":"1","x":1020,"y":420,"wires":[["fe02bde1.946ef8","1fac4a61.0b7d9e"]]},{"id":"fe02bde1.946ef8","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"intBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":460,"wires":[[]]},{"id":"b9a1d967.ace6b","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":6,"width":"3","height":"1","name":"02 Meaure OD:","label":"Measure OD:","format":"{{msg.payload}}","layout":"row-spread","x":1280,"y":180,"wires":[]},{"id":"abfd8fd7.c80fc","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":13,"width":"3","height":"1","name":"03 Meaure BL:","label":"Measure BL:","format":"{{msg.payload}}","layout":"row-spread","x":1340,"y":300,"wires":[]},{"id":"a29c6a4e.f9f6a","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":28,"width":"4","height":"1","name":"05 spacer1","label":"","format":"{{msg.payload}}","layout":"row-spread","x":710,"y":420,"wires":[]},{"id":"e3feece6.6232b","type":"ui_button","z":"9e3f83ca.2ddf88","name":"05 OK","group":"89076f33.868b08","order":31,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1350,"y":420,"wires":[["a4a6f1cd.e8948"]]},{"id":"eba7fd3e.efd71","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":19,"width":"1","height":"1","name":"04 - -","label":"","format":"{{msg.payload}}","layout":"row-spread","x":630,"y":520,"wires":[]},{"id":"762f89f5.377628","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":20,"width":"3","height":"1","name":"04 Illuminate BL:","label":"Illuminate BL:","format":"{{msg.payload}}","layout":"row-spread","x":670,"y":560,"wires":[]},{"id":"e787c25c.cefa98","type":"ui_numeric","z":"9e3f83ca.2ddf88","name":"04 every 1","label":"every","tooltip":"","group":"89076f33.868b08","order":21,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":850,"y":560,"wires":[["3e6ca46a.ea16ac"]]},{"id":"69f3e140.f15c8","type":"ui_dropdown","z":"9e3f83ca.2ddf88","name":"04 hour","label":"","tooltip":"","place":"Select option","group":"89076f33.868b08","order":22,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1080,"y":560,"wires":[["44a3875d.960d"]]},{"id":"3e6ca46a.ea16ac","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"pillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":600,"wires":[["a1ef7848.e32b3"]]},{"id":"35935010.f643a8","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"pillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":640,"wires":[["a1ef7848.e32b3"]]},{"id":"dd734ac6.801468","type":"ui_numeric","z":"9e3f83ca.2ddf88","name":"04 for 5","label":"for","tooltip":"","group":"89076f33.868b08","order":23,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1340,"y":560,"wires":[["30663b3b.42328c"]]},{"id":"adcdd7e0.548098","type":"ui_dropdown","z":"9e3f83ca.2ddf88","name":"04 minutes","label":"","tooltip":"","place":"Select option","group":"89076f33.868b08","order":24,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1590,"y":560,"wires":[["58eb7116.e445a8"]]},{"id":"30663b3b.42328c","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"tillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":600,"wires":[["514b2697.ff8a68"]]},{"id":"721d797f.00216","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"tillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1610,"y":640,"wires":[["514b2697.ff8a68"]]},{"id":"60ba651c.af77f4","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":32,"width":"5","height":"1","name":"05 spacer2","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1530,"y":420,"wires":[]},{"id":"2c20010d.b5c6de","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":35,"width":"2","height":"1","name":"06 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1850,"y":860,"wires":[]},{"id":"56aeccb5.06f6bc","type":"ui_switch","z":"9e3f83ca.2ddf88","name":"06 act.switch","label":"","tooltip":"","group":"89076f33.868b08","order":36,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"hot_tub","oncolor":"red","offvalue":"OFF","offvalueType":"str","officon":"ac_unit","offcolor":"grey","x":1520,"y":880,"wires":[["fdc5e45a.ddcda8"]]},{"id":"95b94a6a.f653a","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":38,"width":"6","height":"1","name":"06 Volts.","label":"Volts.","format":"{{msg.payload}}","layout":"row-spread","x":1220,"y":840,"wires":[]},{"id":"15f14ee0.76c209","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":34,"width":"4","height":"1","name":"06 Temperature control:","label":"Temperature control:","format":"{{msg.payload}}","layout":"row-spread","x":2050,"y":860,"wires":[]},{"id":"49b1e34c.41cfcc","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":41,"width":"4","height":"1","name":"07 Fan:","label":"Fan:","format":"{{msg.payload}}","layout":"row-spread","x":700,"y":1060,"wires":[]},{"id":"a0f1b9e2.0cf77","type":"ui_switch","z":"9e3f83ca.2ddf88","name":"07 enable switch","label":"","tooltip":"","group":"89076f33.868b08","order":43,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"toys","oncolor":"green","offvalue":"OFF","offvalueType":"str","officon":"radio_button_unchecked","offcolor":"grey","x":910,"y":1060,"wires":[["85926d2c.383098","19b7794d.e6b97f"]]},{"id":"19b7794d.e6b97f","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":42,"width":"2","height":"1","name":"07 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1230,"y":1060,"wires":[]},{"id":"85926d2c.383098","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"FANstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1020,"wires":[[]]},{"id":"d4873b7a.a8972","type":"ui_numeric","z":"9e3f83ca.2ddf88","name":"07 and set to 100","label":"and set to","tooltip":"","group":"89076f33.868b08","order":44,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"255","step":"1","x":1590,"y":1020,"wires":[["d4df1f94.1e74e","2d1ea350.7b0324"]]},{"id":"d4df1f94.1e74e","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"intFAN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1780,"y":1000,"wires":[[]]},{"id":"c020e30d.47e2","type":"ui_button","z":"9e3f83ca.2ddf88","name":"07 OK","group":"89076f33.868b08","order":45,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1430,"y":1100,"wires":[["d084e485.e949a"]]},{"id":"a247a7e6.87209","type":"ui_numeric","z":"9e3f83ca.2ddf88","name":"08 add delay","label":"Add growing delay of","tooltip":"","group":"89076f33.868b08","order":47,"width":"6","height":"1","passthru":true,"topic":"setpoint","format":"{{value}}","min":"0","max":"100","step":"1","x":870,"y":1180,"wires":[["8612c1c6.42bad"]]},{"id":"5b2534d7.637a04","type":"ui_dropdown","z":"9e3f83ca.2ddf88","name":"08 hour","label":"","tooltip":"","place":"Select option","group":"89076f33.868b08","order":48,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1060,"y":1180,"wires":[["cd85ac5a.88c2f8"]]},{"id":"8612c1c6.42bad","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"delay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":1220,"wires":[["c95f4af6.b8cbb8"]]},{"id":"96ec2a6d.05976","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"delayunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1090,"y":1220,"wires":[["c95f4af6.b8cbb8"]]},{"id":"ef95da0d.4a69e","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":49,"width":"8","height":"1","name":"08 finalspacer","label":"(during which no BL measure will be made).","format":"{{msg.payload}}","layout":"row-spread","x":1240,"y":1140,"wires":[]},{"id":"1bc57b7.2e93585","type":"ui_text_input","z":"9e3f83ca.2ddf88","name":"09 DETAILS","label":"DETAILS:","tooltip":"","group":"89076f33.868b08","order":52,"width":"16","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1110,"y":2560,"wires":[["46cb25ab.84d77c"]]},{"id":"acd8718.097239","type":"ui_text_input","z":"9e3f83ca.2ddf88","name":"10 Nickname","label":"Nickname:","tooltip":"","group":"89076f33.868b08","order":54,"width":"4","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1120,"y":2600,"wires":[["75925515.d93fdc"]]},{"id":"5ee6e44e.51b334","type":"inject","z":"9e3f83ca.2ddf88","name":"","topic":"","payload":"eV12_","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":830,"y":2600,"wires":[["b7610e99.ffe7d"]]},{"id":"d281ba13.751148","type":"ui_button","z":"9e3f83ca.2ddf88","name":"10 LAUNCH EXP","group":"89076f33.868b08","order":55,"width":"10","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"bool","topic":"","x":310,"y":1900,"wires":[["fca5f2f6.fd342","e4634d0f.37d7d8","62cac3de.359d74","a81bb46a.b764e","7f950831.e15868","3e6ea396.8e689c","93c25a24.e2cc1"]]},{"id":"cbdd88a6.feacd","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.label=\"Running...\";\nmsg.background=\"#FFC300\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1600,"wires":[["d281ba13.751148"]]},{"id":"70f2160.9cba46c","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.label=\"LAUNCH EXPERIMENT\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1520,"wires":[["d281ba13.751148"]]},{"id":"d9c1690e.e2071","type":"inject","z":"9e3f83ca.2ddf88","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":210,"y":1640,"wires":[["a81bb46a.b764e"]]},{"id":"20faf369.f1ec3c","type":"ui_button","z":"9e3f83ca.2ddf88","name":"10 RESET","group":"89076f33.868b08","order":57,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"reset","payloadType":"str","topic":"","x":1610,"y":1480,"wires":[["bf265666.eeea58","ce7ef3bc.c833","f658b38f.f1e5d8","69d3bab6.8e02c4"]]},{"id":"bf265666.eeea58","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.label=\"Reseting...\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1520,"wires":[["20faf369.f1ec3c","57f13d09.70fa24"]]},{"id":"ec53f435.c9c318","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.label=\"RESET\";\nmsg.background=\"grey\";\nreturn msg;","outputs":1,"noerr":0,"x":1750,"y":1660,"wires":[["20faf369.f1ec3c"]]},{"id":"20663c90.17ec5c","type":"inject","z":"9e3f83ca.2ddf88","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1630,"y":1680,"wires":[["ec53f435.c9c318"]]},{"id":"57f13d09.70fa24","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1560,"wires":[["3ec923c6.d8f1f4"]]},{"id":"3ec923c6.d8f1f4","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.label=\"SUCCESS\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1600,"wires":[["60b8053c.b52fdc","20faf369.f1ec3c"]]},{"id":"60b8053c.b52fdc","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1640,"wires":[["ec53f435.c9c318"]]},{"id":"4852a7fb.6890c","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.label=\"Halted experiment\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1560,"wires":[["d281ba13.751148"]]},{"id":"845b212e.e6a388","type":"ui_button","z":"9e3f83ca.2ddf88","name":"10 STOP","group":"89076f33.868b08","order":56,"width":"4","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"str","topic":"","x":860,"y":1540,"wires":[["6fc38f2d.0a5a58"]]},{"id":"37ee5ebe.be94da","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.label=\"Stopped.\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":1580,"wires":[["845b212e.e6a388"]]},{"id":"50ee1146.f5792","type":"inject","z":"9e3f83ca.2ddf88","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":710,"y":1500,"wires":[["3d6804d0.ae063c"]]},{"id":"3d6804d0.ae063c","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.label=\"STOP\";\nmsg.background=\"#cb4335\";\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1500,"wires":[["845b212e.e6a388"]]},{"id":"4dd8af8f.7a5f78","type":"comment","z":"9e3f83ca.2ddf88","name":"Launch TODOs","info":"Turn off and disable all above switches\ndisable the launch button\nCA MARCHE PAS","x":840,"y":2080,"wires":[]},{"id":"f7452586.172018","type":"comment","z":"9e3f83ca.2ddf88","name":"Reset TODOs","info":"Enable anew all above switches\nReset all default values in exp menu\nBlink LEDs as indicators ;)","x":1440,"y":1660,"wires":[]},{"id":"d41dc1a7.caa098","type":"comment","z":"9e3f83ca.2ddf88","name":"Stop TODOs","info":"","x":850,"y":1420,"wires":[]},{"id":"a1f4e49c.e3fe","type":"simpletime","z":"9e3f83ca.2ddf88","name":"","x":910,"y":2360,"wires":[["37b1b643.785f82","ca90d70f.efe94"]]},{"id":"37b1b643.785f82","type":"function","z":"9e3f83ca.2ddf88","name":"20190417_172653_nickname/...","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\")+\"/\"+msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1180,"y":2360,"wires":[["44600d0d.86020c","7c1bf4da.e25a9c","59f16d29.ef7ab4","b6825a18.d56a78"]]},{"id":"59f16d29.ef7ab4","type":"join","z":"9e3f83ca.2ddf88","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2400,"wires":[["8c88c18b.a9779"]]},{"id":"44600d0d.86020c","type":"join","z":"9e3f83ca.2ddf88","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2440,"wires":[["82c605e8.6832d8"]]},{"id":"7c1bf4da.e25a9c","type":"join","z":"9e3f83ca.2ddf88","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2480,"wires":[["2e629185.f45cee"]]},{"id":"b0f9f480.651fd","type":"function","z":"9e3f83ca.2ddf88","name":"/home/lab513/Desktop/eVOLVER_data/","func":"if (msg.payload){\n    msg.payload=\"/home/lab513/Desktop/eVOLVER_data/\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":2320,"wires":[["59f16d29.ef7ab4","44600d0d.86020c","7c1bf4da.e25a9c","b6825a18.d56a78"]]},{"id":"a745277f.5afd1","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"delay","timeout":"0.2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2360,"wires":[["a1f4e49c.e3fe"]]},{"id":"351c5d27.8582fa","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"nickname","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":2600,"wires":[[]]},{"id":"4edfad16.df0564","type":"function","z":"9e3f83ca.2ddf88","name":".IR","func":"if (msg.payload){\n    msg.payload=\".IR\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2400,"wires":[["59f16d29.ef7ab4"]]},{"id":"c5f792be.3b063","type":"function","z":"9e3f83ca.2ddf88","name":".BL","func":"if (msg.payload){\n    msg.payload=\".BL\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2440,"wires":[["44600d0d.86020c"]]},{"id":"de1a7dae.115518","type":"function","z":"9e3f83ca.2ddf88","name":".Temp","func":"if (msg.payload){\n    msg.payload=\".Temp\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2480,"wires":[["7c1bf4da.e25a9c"]]},{"id":"fca5f2f6.fd342","type":"function","z":"9e3f83ca.2ddf88","name":"Creates Files:","func":"\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":2280,"wires":[["a745277f.5afd1","d3659bce.e8a648","e345185c.bb33","50ecaba3.28792c","ba8849a4.7a2298","9c173d79.18a6a","6de39962.6862c"]]},{"id":"50ecaba3.28792c","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2400,"wires":[["4edfad16.df0564"]]},{"id":"ba8849a4.7a2298","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2440,"wires":[["c5f792be.3b063"]]},{"id":"9c173d79.18a6a","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2480,"wires":[["de1a7dae.115518"]]},{"id":"d3659bce.e8a648","type":"function","z":"9e3f83ca.2ddf88","name":"reset","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":2280,"wires":[["8c88c18b.a9779","82c605e8.6832d8","2e629185.f45cee","6cdd0afb.cc58b4"]]},{"id":"e345185c.bb33","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"delay","timeout":"0.1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2320,"wires":[["b0f9f480.651fd"]]},{"id":"75925515.d93fdc","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2600,"wires":[["351c5d27.8582fa"]]},{"id":"8c88c18b.a9779","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"FileNameIR","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1500,"y":2400,"wires":[[]]},{"id":"82c605e8.6832d8","type":"change","z":"9e3f83ca.2ddf88","name":"FileNameBL","rules":[{"t":"set","p":"FileNameBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1470,"y":2440,"wires":[[]]},{"id":"2e629185.f45cee","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"FileNameTemp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":2480,"wires":[[]]},{"id":"b6825a18.d56a78","type":"join","z":"9e3f83ca.2ddf88","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2520,"wires":[["6cdd0afb.cc58b4"]]},{"id":"93fdeca0.fe9528","type":"function","z":"9e3f83ca.2ddf88","name":".readme","func":"if (msg.payload){\n    msg.payload=\".readme\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":2520,"wires":[["b6825a18.d56a78"]]},{"id":"6de39962.6862c","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2520,"wires":[["93fdeca0.fe9528"]]},{"id":"6cdd0afb.cc58b4","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"FileNameReadme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":2520,"wires":[[]]},{"id":"32a537b5.869968","type":"inject","z":"9e3f83ca.2ddf88","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":810,"y":2560,"wires":[["7dfd0adc.5cf4ec"]]},{"id":"46cb25ab.84d77c","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2560,"wires":[["37405cde.1a979c"]]},{"id":"37405cde.1a979c","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"readme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1480,"y":2560,"wires":[[]]},{"id":"ca90d70f.efe94","type":"function","z":"9e3f83ca.2ddf88","name":"displayname","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":2640,"wires":[["1f93e905.e032c7"]]},{"id":"1f93e905.e032c7","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":2,"width":"15","height":"1","name":"00 Running","label":"Running:","format":"{{msg.payload}}","layout":"row-left","x":1310,"y":2640,"wires":[]},{"id":"aa4beed.28c581","type":"inject","z":"9e3f83ca.2ddf88","name":"","topic":"","payload":"-","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":890,"y":2640,"wires":[["bd0490ce.4ea3b8"]]},{"id":"6fc38f2d.0a5a58","type":"function","z":"9e3f83ca.2ddf88","name":"STOP ACTIONS:","func":"msg.payload=false;\nreturn msg;\n\n//this function allows the fact that the\n//reset button first does the stop action\n//and then resets the buttons etc","outputs":1,"noerr":0,"x":1050,"y":1560,"wires":[["4852a7fb.6890c","37ee5ebe.be94da","69ce2f16.151f08","f03ad029.c35ce","d2c19dd.391656"]]},{"id":"ce7ef3bc.c833","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":300,"y":1480,"wires":[["70f2160.9cba46c"]]},{"id":"f658b38f.f1e5d8","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":850,"y":1460,"wires":[["3d6804d0.ae063c"]]},{"id":"88a53ba6.8d3ad","type":"function","z":"9e3f83ca.2ddf88","name":"disable/enable switches","func":"if (msg.payload===\"launch\"){\n    msg.enabled=false;\n}\nelse if (msg.payload===0){\n    msg.enabled=true;\n}\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":2080,"wires":[[]]},{"id":"bd0490ce.4ea3b8","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=\"-\";\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":2640,"wires":[["1f93e905.e032c7"]]},{"id":"e4634d0f.37d7d8","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":560,"y":2800,"wires":[["2def8e82.38cc1a","fb213b27.5f0be","95124999.ddd27","69e125ff.4df944","85c1bb44.c18348","1c092c1b.7b476c","def715f7.62088","bf97cb34.5ef5d"]]},{"id":"a888347.ce54548","type":"file","z":"9e3f83ca.2ddf88","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3420,"wires":[[]]},{"id":"a09c5711.60d748","type":"file","z":"9e3f83ca.2ddf88","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3380,"wires":[[]]},{"id":"b1c889f5.3e64","type":"file","z":"9e3f83ca.2ddf88","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3460,"wires":[[]]},{"id":"a8e3300f.2181c8","type":"switch","z":"9e3f83ca.2ddf88","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3420,"wires":[["77669f96.74c22"]]},{"id":"fb213b27.5f0be","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"StoreInFile","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":3340,"wires":[[]]},{"id":"5a0f006a.7c3fe8","type":"comment","z":"9e3f83ca.2ddf88","name":"Allows storage in the filenames","info":"","x":1050,"y":3340,"wires":[]},{"id":"f4f45a3f.1cd818","type":"arduino in","z":"9e3f83ca.2ddf88","name":"Blue Light Sensor","pin":"2","state":"ANALOG","arduino":"a749048f.7e77f8","x":790,"y":3420,"wires":[["f40681a1.1982"]]},{"id":"ccbb5903.23783","type":"arduino in","z":"9e3f83ca.2ddf88","name":"IR Sensor","pin":"1","state":"ANALOG","arduino":"a749048f.7e77f8","x":760,"y":3380,"wires":[["aa1a0d25.517e38"]]},{"id":"f40681a1.1982","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3420,"wires":[["a8e3300f.2181c8","7594d043.91721"]]},{"id":"aa1a0d25.517e38","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3380,"wires":[["ad9be099.6c2e78","f4d266ff.5b8da8"]]},{"id":"a4d31de5.946e58","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3460,"wires":[["fb3c7f4e.01b61","42905efd.c5fec8"]]},{"id":"ad9be099.6c2e78","type":"switch","z":"9e3f83ca.2ddf88","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3380,"wires":[["910689ec.9585e"]]},{"id":"fb3c7f4e.01b61","type":"switch","z":"9e3f83ca.2ddf88","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3460,"wires":[["9f277a20.c49ab"]]},{"id":"1030db3f.7cf2dd","type":"inject","z":"9e3f83ca.2ddf88","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":330,"y":3340,"wires":[["222300cf.ddd8"]]},{"id":"2def8e82.38cc1a","type":"function","z":"9e3f83ca.2ddf88","name":"readme","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=flow.get(\"readme\")+\"\\n\"+\n    \"measOD \"+flow.get(\"measOD\").toString()+\"\\n\"+\n    \"measODunits \"+flow.get(\"measODunits\").toString()+\"\\n\"+\n    \"measODtotal \"+flow.get(\"measODtotal\").toString()+\"\\n\"+\n    \n    \"measBL \"+flow.get(\"measBL\").toString()+\"\\n\"+\n    \"measBLunits \"+flow.get(\"measBLunits\").toString()+\"\\n\"+\n    \"measBLtotal \"+flow.get(\"measBLtotal\").toString()+\"\\n\"+\n    \n    \"intBL \"+flow.get(\"intBL\").toString()+\"\\n\"+\n    \n    \"pillBL \"+flow.get(\"pillBL\").toString()+\"\\n\"+\n    \"pillBLunits \"+flow.get(\"pillBLunits\").toString()+\"\\n\"+\n    \"pillBLtotal \"+flow.get(\"pillBLtotal\").toString()+\"\\n\"+\n    \n    \"tillBL \"+flow.get(\"tillBL\").toString()+\"\\n\"+\n    \"tillBLunits \"+flow.get(\"tillBLunits\").toString()+\"\\n\"+\n    \"tillBLtotal \"+flow.get(\"tillBLtotal\").toString()+\"\\n\"+\n    \n    \"Temp \"+flow.get(\"Temp\").toString()+\"\\n\"+\n    \"PID \"+flow.get(\"PID\").toString()+\"\\n\"+\n    \n    \"FANstate \"+flow.get(\"FANstate\").toString()+\"\\n\"+\n    \"intFAN \"+flow.get(\"intFAN\").toString()+\"\\n\"+\n    \n    \"delay \"+flow.get(\"delay\").toString()+\"\\n\"+\n    \"delayunits \"+flow.get(\"delayunits\").toString()+\"\\n\"+\n    \"delaytotal \"+flow.get(\"delaytotal\").toString()+\"\\n\";\n\n//msg.myepoch=msg.myepoch.toString();\n//msg.payload=msg.payload+\";\"+msg.myepoch;\n\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":2940,"wires":[["ff485ce0.73bd98"]]},{"id":"ff485ce0.73bd98","type":"file","z":"9e3f83ca.2ddf88","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":890,"y":2940,"wires":[[]]},{"id":"910689ec.9585e","type":"simpletime","z":"9e3f83ca.2ddf88","name":"","x":1330,"y":3380,"wires":[["1fe4d55.682d2ab"]]},{"id":"1fe4d55.682d2ab","type":"function","z":"9e3f83ca.2ddf88","name":"IR+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameIR\");\nreturn msg;","outputs":1,"noerr":0,"x":1480,"y":3380,"wires":[["a09c5711.60d748"]]},{"id":"77669f96.74c22","type":"simpletime","z":"9e3f83ca.2ddf88","name":"","x":1330,"y":3420,"wires":[["e92deec7.10c0e8"]]},{"id":"e92deec7.10c0e8","type":"function","z":"9e3f83ca.2ddf88","name":"BL+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameBL\");\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":3420,"wires":[["a888347.ce54548"]]},{"id":"9f277a20.c49ab","type":"simpletime","z":"9e3f83ca.2ddf88","name":"","x":1330,"y":3460,"wires":[["ea05b6f.8cb73c8"]]},{"id":"ea05b6f.8cb73c8","type":"function","z":"9e3f83ca.2ddf88","name":"Temp+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameTemp\");\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":3460,"wires":[["b1c889f5.3e64"]]},{"id":"7dfd0adc.5cf4ec","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2560,"wires":[["1bc57b7.2e93585"]]},{"id":"b7610e99.ffe7d","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=\"eV12_\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2600,"wires":[["acd8718.097239"]]},{"id":"4884576f.b3427","type":"function","z":"9e3f83ca.2ddf88","name":"(reset)","func":"\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":2600,"wires":[["7dfd0adc.5cf4ec","b7610e99.ffe7d","bd0490ce.4ea3b8"]]},{"id":"62cac3de.359d74","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=\"launch\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":2040,"wires":[["88a53ba6.8d3ad"]]},{"id":"222300cf.ddd8","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3340,"wires":[["fb213b27.5f0be"]]},{"id":"95124999.ddd27","type":"function","z":"9e3f83ca.2ddf88","name":"255","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":750,"y":3640,"wires":[["dcdc71f1.3ccc3","2cb444f7.db04c4"]]},{"id":"dcdc71f1.3ccc3","type":"function","z":"9e3f83ca.2ddf88","name":"measODtotal","func":"msg.delay=flow.get(\"measODtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":780,"y":3680,"wires":[["779ed714.c41ee8"]]},{"id":"779ed714.c41ee8","type":"delay","z":"9e3f83ca.2ddf88","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":3720,"wires":[["95124999.ddd27"]]},{"id":"8fa387c0.16bf4","type":"function","z":"9e3f83ca.2ddf88","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3640,"wires":[["779ed714.c41ee8","2cb444f7.db04c4"]]},{"id":"2cb444f7.db04c4","type":"trigger","z":"9e3f83ca.2ddf88","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1050,"y":3640,"wires":[["bc4fc6ee.552a98","d69cb9b.9a2bac8","6e4f2216.80d774"]]},{"id":"bc4fc6ee.552a98","type":"function","z":"9e3f83ca.2ddf88","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":3640,"wires":[["22ef663d.5a2a92"]]},{"id":"d69cb9b.9a2bac8","type":"arduino out","z":"9e3f83ca.2ddf88","name":"IR17","pin":"5","state":"PWM","arduino":"a749048f.7e77f8","x":1810,"y":3680,"wires":[]},{"id":"d8c6c1ed.b0e1e8","type":"switch","z":"9e3f83ca.2ddf88","name":"lance ventilo","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"gt","v":"160","vt":"num"},{"t":"btwn","v":"0","vt":"num","v2":"160","v2t":"num"}],"checkall":"false","repair":false,"outputs":3,"x":1470,"y":3820,"wires":[["9cb1a067.d2034"],["9cb1a067.d2034"],["938e5452.5c3168","fe3c60f8.6a4c68"]],"info":"Coz the ventilo wont start if the value is \nbelow 160.\nTo have a value below 160, we need to start w\na bigger value and THEN get down in value"},{"id":"9cb1a067.d2034","type":"arduino out","z":"9e3f83ca.2ddf88","name":"Fan","pin":"9","state":"PWM","arduino":"a749048f.7e77f8","x":1810,"y":3800,"wires":[]},{"id":"fe3c60f8.6a4c68","type":"function","z":"9e3f83ca.2ddf88","name":"200","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":1630,"y":3840,"wires":[["9cb1a067.d2034"]]},{"id":"938e5452.5c3168","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":3880,"wires":[["9cb1a067.d2034"]]},{"id":"22ef663d.5a2a92","type":"arduino out","z":"9e3f83ca.2ddf88","name":"BL17","pin":"6","state":"PWM","arduino":"a749048f.7e77f8","x":1810,"y":3740,"wires":[]},{"id":"69d3bab6.8e02c4","type":"link out","z":"9e3f83ca.2ddf88","name":"RESET17->","links":["66a5f12a.2d44c8","7f97b0c6.8a752","3a668eee.bfb912","440a2d2c.698774","3742e0c8.bcab08","b9fa99c.24e2868","9b3e4119.84a748","948bae02.d8b248"],"x":1755,"y":1480,"wires":[]},{"id":"66a5f12a.2d44c8","type":"link in","z":"9e3f83ca.2ddf88","name":"->Nickname&details","links":["69d3bab6.8e02c4"],"x":595,"y":2560,"wires":[["4884576f.b3427"]]},{"id":"36dbe1d2.522db6","type":"link in","z":"9e3f83ca.2ddf88","name":"->StoreInFile","links":["69ce2f16.151f08"],"x":375,"y":3300,"wires":[["222300cf.ddd8"]]},{"id":"5ea0f1a0.8b7bb","type":"link in","z":"9e3f83ca.2ddf88","name":"->ODmeas","links":["69ce2f16.151f08"],"x":395,"y":3640,"wires":[["8fa387c0.16bf4"]]},{"id":"7f97b0c6.8a752","type":"link in","z":"9e3f83ca.2ddf88","name":"->stop","links":["69d3bab6.8e02c4"],"x":875,"y":1620,"wires":[["6fc38f2d.0a5a58"]]},{"id":"4f2f6894.b34318","type":"function","z":"9e3f83ca.2ddf88","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1740,"y":260,"wires":[["7a302971.25e048"]]},{"id":"2cd0b3e9.732254","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"measOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":260,"wires":[["39f34267.5b47fe"]]},{"id":"7a302971.25e048","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"measODunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":260,"wires":[["39f34267.5b47fe"]]},{"id":"39f34267.5b47fe","type":"function","z":"9e3f83ca.2ddf88","name":"multiply","func":"msg.payload=flow.get(\"measOD\")*flow.get(\"measODunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2100,"y":260,"wires":[["eb25dc2.8d5672"]]},{"id":"781c6134.e13808","type":"function","z":"9e3f83ca.2ddf88","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1760,"y":380,"wires":[["1cc67c8e.3d819b"]]},{"id":"fabf3bcc.0ebbb8","type":"function","z":"9e3f83ca.2ddf88","name":"multiply","func":"msg.payload=flow.get(\"measBL\")*flow.get(\"measBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2120,"y":380,"wires":[["da36fe1f.decec8"]]},{"id":"da36fe1f.decec8","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"measBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":380,"wires":[["79a0d3d6.5a55bc"]]},{"id":"44a3875d.960d","type":"function","z":"9e3f83ca.2ddf88","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1100,"y":600,"wires":[["35935010.f643a8"]]},{"id":"58eb7116.e445a8","type":"function","z":"9e3f83ca.2ddf88","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":600,"wires":[["721d797f.00216"]]},{"id":"a1ef7848.e32b3","type":"function","z":"9e3f83ca.2ddf88","name":"multiply","func":"msg.payload=flow.get(\"pillBL\")*flow.get(\"pillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1000,"y":700,"wires":[["d7a0ca62.604448"]]},{"id":"d7a0ca62.604448","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"pillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1170,"y":700,"wires":[["90debefe.cb39a"]]},{"id":"514b2697.ff8a68","type":"function","z":"9e3f83ca.2ddf88","name":"multiply","func":"msg.payload=flow.get(\"tillBL\")*flow.get(\"tillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":700,"wires":[["a69ecd2a.8a302"]]},{"id":"a69ecd2a.8a302","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"tillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":700,"wires":[[]]},{"id":"c95f4af6.b8cbb8","type":"function","z":"9e3f83ca.2ddf88","name":"multiply","func":"msg.payload=flow.get(\"delay\")*flow.get(\"delayunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":1220,"wires":[["1ba02fb0.2a328"]]},{"id":"1ba02fb0.2a328","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"delaytotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":1220,"wires":[["3a75e7f8.2a2698"]]},{"id":"cd85ac5a.88c2f8","type":"function","z":"9e3f83ca.2ddf88","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1180,"wires":[["96ec2a6d.05976"]]},{"id":"69ce2f16.151f08","type":"link out","z":"9e3f83ca.2ddf88","name":"STOP17.false","links":["c9f1fd05.6d7178","5ea0f1a0.8b7bb","4c48ffa9.856598","36dbe1d2.522db6","ce3fd211.532318","af572c1a.664c5","6d049f14.7366c8","909f1204.db88d8","46857009.17dd9","9718b3b1.3b9328"],"x":1235,"y":1580,"wires":[]},{"id":"6e4f2216.80d774","type":"function","z":"9e3f83ca.2ddf88","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":3680,"wires":[["d8c6c1ed.b0e1e8"]]},{"id":"2183e04b.42e9b8","type":"comment","z":"9e3f83ca.2ddf88","name":"OD mesaurements","info":"","x":790,"y":3600,"wires":[]},{"id":"ea0cf004.fd56","type":"function","z":"9e3f83ca.2ddf88","name":"255","func":"if (flow.get(\"measBLtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":910,"y":4220,"wires":[["905cd8a0.6c26e8","82bb9ccc.21e9b8"]]},{"id":"905cd8a0.6c26e8","type":"function","z":"9e3f83ca.2ddf88","name":"measBLtotal","func":"msg.delay=flow.get(\"measBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":4280,"wires":[["81b1c284.bb1ab8"]]},{"id":"81b1c284.bb1ab8","type":"delay","z":"9e3f83ca.2ddf88","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1050,"y":4320,"wires":[["ea0cf004.fd56"]]},{"id":"a357827c.545e68","type":"trigger","z":"9e3f83ca.2ddf88","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1350,"y":4240,"wires":[["421639c1.1324c","a2f80a5f.bdc97"]]},{"id":"654aa96e.9123b8","type":"comment","z":"9e3f83ca.2ddf88","name":"BL mesaurements","info":"","x":910,"y":4180,"wires":[]},{"id":"82bb9ccc.21e9b8","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"delay","timeout":"7","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1180,"y":4200,"wires":[["a357827c.545e68","2165bcc1.26bae4"]]},{"id":"6484578c.a8e978","type":"function","z":"9e3f83ca.2ddf88","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":4220,"wires":[["81b1c284.bb1ab8","a357827c.545e68","82bb9ccc.21e9b8","9f4c8c55.5ac598","938e5452.5c3168"]]},{"id":"4c48ffa9.856598","type":"link in","z":"9e3f83ca.2ddf88","name":"->BLmeas","links":["69ce2f16.151f08"],"x":335,"y":4220,"wires":[["6484578c.a8e978"]]},{"id":"a2f80a5f.bdc97","type":"function","z":"9e3f83ca.2ddf88","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":4220,"wires":[["22ef663d.5a2a92"]]},{"id":"421639c1.1324c","type":"function","z":"9e3f83ca.2ddf88","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":4260,"wires":[["d8c6c1ed.b0e1e8"]]},{"id":"f03ad029.c35ce","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1540,"wires":[["8f25b4d2.4c0bc"]]},{"id":"8f25b4d2.4c0bc","type":"link out","z":"9e3f83ca.2ddf88","name":"STOP17.0","links":["aa15579e.f20f78","8ade4743.47642","c58951a5.56b19","80db6148.39a0b","48c11f9d.37dde","7b3e4ac7.65d3e4"],"x":1295,"y":1540,"wires":[]},{"id":"aa15579e.f20f78","type":"link in","z":"9e3f83ca.2ddf88","name":"->IT,BL,FAN","links":["8f25b4d2.4c0bc"],"x":1475,"y":3640,"wires":[["22ef663d.5a2a92","d69cb9b.9a2bac8","9cb1a067.d2034"]]},{"id":"73b0dfee.a6b898","type":"ui_button","z":"9e3f83ca.2ddf88","name":"02 OD realtime value","group":"89076f33.868b08","order":11,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3380,"wires":[[]]},{"id":"f4d266ff.5b8da8","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.label=msg.payload;\nif (msg.payload>150){\n    msg.background=\"red\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3380,"wires":[["73b0dfee.a6b898"]]},{"id":"7594d043.91721","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.label=msg.payload;\nif (msg.payload>300){\n    msg.background=\"#44cff1\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3420,"wires":[["341e76f.5cb820a"]]},{"id":"341e76f.5cb820a","type":"ui_button","z":"9e3f83ca.2ddf88","name":"03 BL realtime value","group":"89076f33.868b08","order":18,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3420,"wires":[[]]},{"id":"682159f6.d6ed58","type":"comment","z":"9e3f83ca.2ddf88","name":"Display:","info":"","x":1800,"y":3340,"wires":[]},{"id":"9f4c8c55.5ac598","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":3900,"wires":[["3cda4cfd.e93b24"]]},{"id":"3cda4cfd.e93b24","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=true;\nreturn msg;\n\n","outputs":1,"noerr":0,"x":750,"y":3940,"wires":[["ea0cf004.fd56","86cad50b.4fd0e","16fc4b5e.9f1025","ddcb02ba.9a1d78"]]},{"id":"69e125ff.4df944","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.delay=flow.get(\"delaytotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3860,"wires":[["9f4c8c55.5ac598","ae4ae028.ec9b78","ddcb02ba.9a1d78"]]},{"id":"ae4ae028.ec9b78","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3880,"wires":[["942d203a.54c6b8"]]},{"id":"439a874f.a1249","type":"comment","z":"9e3f83ca.2ddf88","name":"growth delay","info":"","x":770,"y":3820,"wires":[]},{"id":"6aa8a0d5.8efc18","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.delay=flow.get(\"tillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4740,"wires":[["5fee5c7e.b6fed4"]]},{"id":"5fee5c7e.b6fed4","type":"delay","z":"9e3f83ca.2ddf88","name":"part","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4740,"wires":[["e5fbbb9d.44f13"]]},{"id":"86cad50b.4fd0e","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"if (flow.get(\"pillBLtotal\") === 0 || flow.get(\"tillBLtotal\") === 0){\n    return;\n}\nelse{\n    msg.payload=flow.get(\"intBL\");\n    msg.state=\"ON\";\n    return msg;\n}\n\n\n","outputs":1,"noerr":0,"x":910,"y":4600,"wires":[["6aa8a0d5.8efc18","e98d56b1.2aa16","dd305431.826498","198d2f39.d42bb1","5fdd650.24f6f9c"]]},{"id":"e5fbbb9d.44f13","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=0;\nmsg.state=\"OFF\";\nreturn msg;\n","outputs":1,"noerr":0,"x":1010,"y":4740,"wires":[["dd305431.826498","198d2f39.d42bb1","5fdd650.24f6f9c"]]},{"id":"e98d56b1.2aa16","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.delay=flow.get(\"pillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4700,"wires":[["ec59d786.4024"]]},{"id":"ec59d786.4024","type":"delay","z":"9e3f83ca.2ddf88","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4700,"wires":[["86cad50b.4fd0e"]]},{"id":"6b573e12.a615a8","type":"function","z":"9e3f83ca.2ddf88","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":4620,"wires":[["ec59d786.4024","5fee5c7e.b6fed4","823df153.a1b198","5fdd650.24f6f9c"]]},{"id":"3fa0afa4.4b301","type":"comment","z":"9e3f83ca.2ddf88","name":"Cycle w sous cycle la: cool pr la blue LED","info":"","x":990,"y":4500,"wires":[]},{"id":"c9f1fd05.6d7178","type":"link in","z":"9e3f83ca.2ddf88","name":"->BLcycle","links":["69ce2f16.151f08"],"x":635,"y":4620,"wires":[["6b573e12.a615a8"]]},{"id":"dd305431.826498","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"BLstate","pt":"flow","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":4560,"wires":[[]]},{"id":"96fb9ed8.10ce88","type":"inject","z":"9e3f83ca.2ddf88","name":"","topic":"","payload":"OFF","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":890,"y":4540,"wires":[["823df153.a1b198"]]},{"id":"85c1bb44.c18348","type":"function","z":"9e3f83ca.2ddf88","name":"for FAN","func":"if (flow.get(\"FANstate\")===\"ON\"){\n    msg.payload=flow.get(\"intFAN\");\n}\nelse if (flow.get(\"FANstate\")===\"OFF\"){\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":3000,"wires":[["888bf315.7f6938"]]},{"id":"8ade4743.47642","type":"link in","z":"9e3f83ca.2ddf88","name":"->PID","links":["8f25b4d2.4c0bc"],"x":455,"y":3140,"wires":[["1c092c1b.7b476c"]]},{"id":"a81bb46a.b764e","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.label=\"Initialization\";\nmsg.background=\"#f39c12\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1640,"wires":[["d281ba13.751148"]]},{"id":"7f950831.e15868","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":200,"y":1600,"wires":[["cbdd88a6.feacd"]]},{"id":"a9314e79.a56758","type":"ui_button","z":"9e3f83ca.2ddf88","name":"06 Temp realtime value","group":"89076f33.868b08","order":39,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1970,"y":3460,"wires":[[]]},{"id":"42905efd.c5fec8","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.label=msg.payload;\nif (flow.get(\"PIDstate\")>0){\n    msg.background=\"#fdedec\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3460,"wires":[["a9314e79.a56758"]]},{"id":"d836d782.3e86","type":"ui_button","z":"9e3f83ca.2ddf88","name":"05 BLstate","group":"89076f33.868b08","order":27,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1470,"y":4600,"wires":[[]]},{"id":"198d2f39.d42bb1","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.label=msg.state;\nif (msg.label===\"ON\"){\n    msg.background=\"#ebf5fb\";\n}\nelse if (msg.label===\"OFF\"){\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":4600,"wires":[["d836d782.3e86"]]},{"id":"823df153.a1b198","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.state=\"OFF\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":4540,"wires":[["dd305431.826498","198d2f39.d42bb1"]]},{"id":"ce4334fb.175618","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"pillBLtotal\")/1000-(msg.count%(flow.get(\"pillBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":620,"wires":[["62f0b09b.2bed48"]]},{"id":"e3113955.4ccb1","type":"ui_button","z":"9e3f83ca.2ddf88","name":"04 pillBL Cycle counter","group":"89076f33.868b08","order":26,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3330,"y":600,"wires":[[]]},{"id":"90debefe.cb39a","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=flow.get(\"pillBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":580,"wires":[["62f0b09b.2bed48","3a75e7f8.2a2698"]]},{"id":"b7904071.28599","type":"counter","z":"9e3f83ca.2ddf88","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":680,"wires":[["ce4334fb.175618"]]},{"id":"99bc4fb4.abe8e","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"if (flow.get(\"counterpillBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"counterpillBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":640,"wires":[["b7904071.28599"]]},{"id":"16fc4b5e.9f1025","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"counterpillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":4460,"wires":[[]]},{"id":"60bb96a3.49efb","type":"inject","z":"9e3f83ca.2ddf88","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4480,"wires":[["9c348cf6.12a428"]]},{"id":"9c348cf6.12a428","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4460,"wires":[["16fc4b5e.9f1025"]]},{"id":"ce3fd211.532318","type":"link in","z":"9e3f83ca.2ddf88","name":"->Counter","links":["69ce2f16.151f08"],"x":415,"y":4440,"wires":[["9c348cf6.12a428"]]},{"id":"cce3ec62.27b2f8","type":"inject","z":"9e3f83ca.2ddf88","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"3","x":190,"y":1520,"wires":[["70f2160.9cba46c"]]},{"id":"95712d9.ce8cfd","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":1,"width":"3","height":"1","name":"00 eVOLVER12","label":"<font size =5>eVOLVER12","format":"{{msg.payload}}","layout":"row-center","x":700,"y":60,"wires":[]},{"id":"c611e09.cf8182","type":"link out","z":"9e3f83ca.2ddf88","name":"enabled->","links":["4dea90fc.2f6ab"],"x":955,"y":2080,"wires":[]},{"id":"80db6148.39a0b","type":"link in","z":"9e3f83ca.2ddf88","name":"->GL","links":["8f25b4d2.4c0bc"],"x":255,"y":2120,"wires":[["88a53ba6.8d3ad","3e6ea396.8e689c"]]},{"id":"70bdc2de.1f89dc","type":"comment","z":"9e3f83ca.2ddf88","name":"01","info":"","x":550,"y":60,"wires":[]},{"id":"8cc59e50.1c8f28","type":"comment","z":"9e3f83ca.2ddf88","name":"02 ODmeas","info":"","x":650,"y":180,"wires":[]},{"id":"cc6daa95.8e04b8","type":"comment","z":"9e3f83ca.2ddf88","name":"03 BLmeas","info":"","x":670,"y":300,"wires":[]},{"id":"96cb301d.22dfa8","type":"link in","z":"9e3f83ca.2ddf88","name":"->ARDUINO FAN","links":["2d1ea350.7b0324","888bf315.7f6938"],"x":1275,"y":3820,"wires":[["d8c6c1ed.b0e1e8"]]},{"id":"90fcbec9.b0aee8","type":"link in","z":"9e3f83ca.2ddf88","name":"->ARDUINO IR","links":["1fb52a85.3592c5"],"x":1695,"y":3640,"wires":[["d69cb9b.9a2bac8"]]},{"id":"b156edc.cb3711","type":"link in","z":"9e3f83ca.2ddf88","name":"->ARDUINO BL","links":["5fdd650.24f6f9c","894bc7a2.7b126"],"x":1615,"y":3760,"wires":[["22ef663d.5a2a92"]]},{"id":"5fdd650.24f6f9c","type":"link out","z":"9e3f83ca.2ddf88","name":"BLcycle->BL","links":["b156edc.cb3711"],"x":1235,"y":4660,"wires":[]},{"id":"888bf315.7f6938","type":"link out","z":"9e3f83ca.2ddf88","name":"Fancontrol","links":["96cb301d.22dfa8"],"x":895,"y":3000,"wires":[]},{"id":"2d1ea350.7b0324","type":"link out","z":"9e3f83ca.2ddf88","name":"Fansetup","links":["96cb301d.22dfa8"],"x":1735,"y":1060,"wires":[]},{"id":"1fb52a85.3592c5","type":"link out","z":"9e3f83ca.2ddf88","name":"IRsetup","links":["90fcbec9.b0aee8"],"x":1115,"y":180,"wires":[]},{"id":"894bc7a2.7b126","type":"link out","z":"9e3f83ca.2ddf88","name":"BLcycle->BL","links":["b156edc.cb3711"],"x":1135,"y":300,"wires":[]},{"id":"2c414909.e7247e","type":"link out","z":"9e3f83ca.2ddf88","name":"PIDsetup->","links":["f05dd579.533788"],"x":1295,"y":880,"wires":[]},{"id":"f05dd579.533788","type":"link in","z":"9e3f83ca.2ddf88","name":"->ARDUINO HEATER","links":["2c414909.e7247e","adac9125.ca28a8"],"x":1215,"y":3140,"wires":[["70a58247.8915cc"]]},{"id":"3e6ea396.8e689c","type":"link out","z":"9e3f83ca.2ddf88","name":"GRlaunch->","links":["15b84059.f412e8"],"x":515,"y":2160,"wires":[]},{"id":"15b84059.f412e8","type":"link in","z":"9e3f83ca.2ddf88","name":"->GL","links":["3e6ea396.8e689c"],"x":1035,"y":120,"wires":[["c575f63.8f24688"]]},{"id":"a1a62740.dda8a","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":800,"y":3160,"wires":[["7d519de6.fb7ba4"]]},{"id":"9e66ce9d.0e7798","type":"PID","z":"9e3f83ca.2ddf88","name":"","setpoint":"550","pb":"0","ti":"900","td":0,"integral_default":0.5,"smooth_factor":3,"max_interval":600,"enable":"0","disabled_op":0,"x":1010,"y":3100,"wires":[["240a92f0.e017ee","1359d055.337e3"]]},{"id":"9fb3ec96.141a08","type":"arduino in","z":"9e3f83ca.2ddf88","name":"TempSensor","pin":"0","state":"ANALOG","arduino":"a749048f.7e77f8","x":750,"y":3120,"wires":[["a1a62740.dda8a","a4d31de5.946e58"]]},{"id":"70a58247.8915cc","type":"arduino out","z":"9e3f83ca.2ddf88","name":"Heater","pin":"4","state":"OUTPUT","arduino":"a749048f.7e77f8","x":1330,"y":3100,"wires":[]},{"id":"240a92f0.e017ee","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"PIDstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":3060,"wires":[[]]},{"id":"c85590b2.93f8e","type":"inject","z":"9e3f83ca.2ddf88","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":"0.3","x":1130,"y":3020,"wires":[["240a92f0.e017ee"]]},{"id":"1c092c1b.7b476c","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"if (msg.payload===true){\n    msg.enable=1;\n}\nif (msg.payload===0){\n    msg.enable=0;\n}\nif (flow.get(\"PID\")===\"OFF\"){\n    msg.enable=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3080,"wires":[["9e66ce9d.0e7798"]]},{"id":"7d519de6.fb7ba4","type":"function","z":"9e3f83ca.2ddf88","name":"setpoint","func":"msg.setpoint=flow.get(\"Temp\");\nreturn msg;","outputs":1,"noerr":0,"x":840,"y":3200,"wires":[["9e66ce9d.0e7798"]]},{"id":"4ee94f13.0fdcc8","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":940,"y":980,"wires":[["d506b3a5.88484"]]},{"id":"d506b3a5.88484","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    msg.payload=0;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1210,"y":960,"wires":[["854bd38e.724b2"]]},{"id":"1359d055.337e3","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"if (flow.get(\"launched\")===false){\n    return;\n}\nelse if (flow.get(\"launched\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":1170,"y":3100,"wires":[["70a58247.8915cc"]]},{"id":"93c25a24.e2cc1","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"launched","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1960,"wires":[[]]},{"id":"2cbe4b51.4600b4","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":800,"wires":[[]]},{"id":"fdc5e45a.ddcda8","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"PID","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":860,"wires":[["2c20010d.b5c6de"]]},{"id":"28d5f796.a86bd8","type":"inject","z":"9e3f83ca.2ddf88","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":250,"y":1960,"wires":[["93c25a24.e2cc1"]]},{"id":"af572c1a.664c5","type":"link in","z":"9e3f83ca.2ddf88","name":"->launched","links":["69ce2f16.151f08"],"x":275,"y":2000,"wires":[["93c25a24.e2cc1"]]},{"id":"5fd164a9.7787ec","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    return msg;\n}\n","outputs":1,"noerr":0,"x":910,"y":940,"wires":[["4ee94f13.0fdcc8"]]},{"id":"a6723e45.c28c68","type":"inject","z":"9e3f83ca.2ddf88","name":"INITIALIZATION","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":290,"y":720,"wires":[["6bc18b48.35cdbc"]]},{"id":"6bc18b48.35cdbc","type":"function","z":"9e3f83ca.2ddf88","name":"initialization","func":"\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":740,"wires":[["2f802355.6a0644","d1eb9fd4.d06ad8","9a94172e.488db8","332b6b32.06d5b4","e188edfe.0089b","fa2e5f73.728388","f91c33c2.b2a298","d8da05a9.fb58","198a8576.c83373"]]},{"id":"a50a583f.c3186","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=10;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":180,"wires":[["1d6df9fa.9ec9f6","99a772a2.35c7e","10b65516.2b8feb"]]},{"id":"99a772a2.35c7e","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1670,"y":180,"wires":[["3170a7c4.d635","3a6a9304.ec82bc","e08d41f3.ceaa98"]]},{"id":"10b65516.2b8feb","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":300,"wires":[["52090da4.73589c","44d2894.b04e7f8"]]},{"id":"44d2894.b04e7f8","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1710,"y":300,"wires":[["539d3bbf.60bfdc"]]},{"id":"74dbfce8.c0970c","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":520,"wires":[["dd734ac6.801468","316fe755.91c2a8"]]},{"id":"316fe755.91c2a8","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=\"seconds\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":520,"wires":[["adcdd7e0.548098"]]},{"id":"2f802355.6a0644","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=1;\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":520,"wires":[["e787c25c.cefa98","b4d0a615.2b0918"]]},{"id":"b4d0a615.2b0918","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":520,"wires":[["69f3e140.f15c8","74dbfce8.c0970c"]]},{"id":"3d1963fb.610694","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":1140,"wires":[["5b2534d7.637a04","246fe1d3.9e497e"]]},{"id":"d1eb9fd4.d06ad8","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":1140,"wires":[["a247a7e6.87209","3d1963fb.610694"]]},{"id":"9a94172e.488db8","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=550;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":840,"wires":[["1f6cbd43.3e5e4b"]]},{"id":"332b6b32.06d5b4","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":880,"wires":[["854bd38e.724b2"]]},{"id":"246fe1d3.9e497e","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":1020,"wires":[["3170c279.2c0b6e","8972516b.c5f0d"]]},{"id":"8972516b.c5f0d","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=100;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":980,"wires":[["d4873b7a.a8972","de67400c.48d078"]]},{"id":"de67400c.48d078","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":800,"wires":[["fdc5e45a.ddcda8","56aeccb5.06f6bc"]]},{"id":"e188edfe.0089b","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":1020,"wires":[["a0f1b9e2.0cf77"]]},{"id":"fa2e5f73.728388","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":420,"wires":[["fe1efa74.fcb788"]]},{"id":"198a8576.c83373","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":300,"wires":[["a4a6f1cd.e8948"]]},{"id":"d8da05a9.fb58","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":180,"wires":[["e96560a6.687c7","4e1c7417.c53c14"]]},{"id":"f91c33c2.b2a298","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":60,"wires":[["e94a0ee.18d917"]]},{"id":"4e1c7417.c53c14","type":"function","z":"9e3f83ca.2ddf88","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":60,"wires":[["90b35728.48037","a50a583f.c3186"]]},{"id":"3a668eee.bfb912","type":"link in","z":"9e3f83ca.2ddf88","name":"->initialization","links":["69d3bab6.8e02c4"],"x":375,"y":760,"wires":[["6bc18b48.35cdbc"]]},{"id":"3170c279.2c0b6e","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1480,"y":1060,"wires":[["d084e485.e949a"]]},{"id":"62f0b09b.2bed48","type":"function","z":"9e3f83ca.2ddf88","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":600,"wires":[["e3113955.4ccb1"]]},{"id":"ed11b889.83b4f8","type":"inject","z":"9e3f83ca.2ddf88","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":640,"wires":[["99bc4fb4.abe8e"]]},{"id":"1a8a6a3b.bddeae","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measODtotal\")/1000-(msg.count%(flow.get(\"measODtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":300,"wires":[["ae5bc026.d37498"]]},{"id":"71580916.4817e8","type":"ui_button","z":"9e3f83ca.2ddf88","name":"02 ODmeas Cycle counter","group":"89076f33.868b08","order":10,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":280,"wires":[[]]},{"id":"3a6a9304.ec82bc","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=flow.get(\"measODtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":260,"wires":[["ae5bc026.d37498","79a0d3d6.5a55bc"]]},{"id":"3bc192f2.6e8536","type":"counter","z":"9e3f83ca.2ddf88","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":360,"wires":[["1a8a6a3b.bddeae"]]},{"id":"6581ab11.c16d0c","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}if (flow.get(\"countermeasOD\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasOD\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":320,"wires":[["3bc192f2.6e8536"]]},{"id":"ae5bc026.d37498","type":"function","z":"9e3f83ca.2ddf88","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":280,"wires":[["71580916.4817e8"]]},{"id":"99fc6245.68dba","type":"inject","z":"9e3f83ca.2ddf88","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":320,"wires":[["6581ab11.c16d0c"]]},{"id":"d37473.b4c6d39","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measBLtotal\")/1000-(msg.count%(flow.get(\"measBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":460,"wires":[["8103da50.4fc7a"]]},{"id":"44c59809.e1e918","type":"ui_button","z":"9e3f83ca.2ddf88","name":"03 BLmeas Cycle counter","group":"89076f33.868b08","order":17,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":440,"wires":[[]]},{"id":"79a0d3d6.5a55bc","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=flow.get(\"measBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":420,"wires":[["8103da50.4fc7a","90debefe.cb39a"]]},{"id":"2b87e5d4.e1b46a","type":"counter","z":"9e3f83ca.2ddf88","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":520,"wires":[["d37473.b4c6d39"]]},{"id":"46f27baf.80b95c","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"if (flow.get(\"countermeasBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":480,"wires":[["2b87e5d4.e1b46a"]]},{"id":"8103da50.4fc7a","type":"function","z":"9e3f83ca.2ddf88","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":440,"wires":[["44c59809.e1e918"]]},{"id":"63a2a870.d4441","type":"inject","z":"9e3f83ca.2ddf88","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":480,"wires":[["46f27baf.80b95c"]]},{"id":"f7e0ae64.f12648","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"countermeasBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1010,"y":4140,"wires":[[]]},{"id":"6c4a2f22.7a7fd8","type":"inject","z":"9e3f83ca.2ddf88","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4160,"wires":[["28549af3.136496"]]},{"id":"28549af3.136496","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4140,"wires":[["f7e0ae64.f12648"]]},{"id":"6d049f14.7366c8","type":"link in","z":"9e3f83ca.2ddf88","name":"->Counter","links":["69ce2f16.151f08"],"x":415,"y":4120,"wires":[["28549af3.136496"]]},{"id":"def715f7.62088","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"countermeasOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3560,"wires":[[]]},{"id":"fed55561.56db8","type":"inject","z":"9e3f83ca.2ddf88","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":230,"y":3580,"wires":[["1c79caa5.f308cd"]]},{"id":"1c79caa5.f308cd","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":3560,"wires":[["def715f7.62088"]]},{"id":"909f1204.db88d8","type":"link in","z":"9e3f83ca.2ddf88","name":"->Counter","links":["69ce2f16.151f08"],"x":255,"y":3540,"wires":[["1c79caa5.f308cd"]]},{"id":"2165bcc1.26bae4","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":4040,"wires":[["f7e0ae64.f12648"]]},{"id":"4a721dae.3b8034","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":900,"wires":[["408034f8.28d934"]]},{"id":"c9e35d98.12dbd8","type":"counter","z":"9e3f83ca.2ddf88","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":980,"wires":[["3a3b8a0.9795ff6"]]},{"id":"373921c0.e459ce","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"if (flow.get(\"counterlaunch\")===false){\n    return;\n}\nelse if (flow.get(\"counterlaunch\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":940,"wires":[["c9e35d98.12dbd8"]]},{"id":"408034f8.28d934","type":"function","z":"9e3f83ca.2ddf88","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3120,"y":920,"wires":[["598145b2.654c04","d62d5e27.ea87e8"]]},{"id":"268b9966.d1ad96","type":"inject","z":"9e3f83ca.2ddf88","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":940,"wires":[["373921c0.e459ce"]]},{"id":"598145b2.654c04","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":53,"width":"4","height":"1","name":"09 elapsed time","label":"Elapsed time: ","format":"{{msg.payload}}","layout":"row-left","x":3280,"y":940,"wires":[]},{"id":"3a3b8a0.9795ff6","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=msg.count;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":940,"wires":[["408034f8.28d934"]]},{"id":"bf97cb34.5ef5d","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"counterlaunch","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":2880,"wires":[[]]},{"id":"eaa4d320.fd8168","type":"inject","z":"9e3f83ca.2ddf88","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":270,"y":2900,"wires":[["c406b424.ceb6c"]]},{"id":"c406b424.ceb6c","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":2880,"wires":[["bf97cb34.5ef5d"]]},{"id":"46857009.17dd9","type":"link in","z":"9e3f83ca.2ddf88","name":"->Counter","links":["69ce2f16.151f08"],"x":295,"y":2860,"wires":[["c406b424.ceb6c"]]},{"id":"5cf9066e.f3572","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"if (msg.count>=flow.get(\"delaytotal\")/1000){\n    msg.payload=0;\n}\nelse {\n    msg.payload=flow.get(\"delaytotal\")/1000-(msg.count%(flow.get(\"delaytotal\")/1000));\n\n}\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":780,"wires":[["f2442806.388e18"]]},{"id":"53619c1d.33b77c","type":"ui_button","z":"9e3f83ca.2ddf88","name":"08 growthdelay Cycle counter","group":"89076f33.868b08","order":50,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3350,"y":760,"wires":[[]]},{"id":"3a75e7f8.2a2698","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=flow.get(\"delaytotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":740,"wires":[["f2442806.388e18","4a721dae.3b8034"]]},{"id":"f74b39aa.78f8e","type":"counter","z":"9e3f83ca.2ddf88","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":840,"wires":[["5cf9066e.f3572"]]},{"id":"c137ff8d.39c1f8","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"if (flow.get(\"delaytotal\")===0){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===false){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":800,"wires":[["f74b39aa.78f8e"]]},{"id":"f2442806.388e18","type":"function","z":"9e3f83ca.2ddf88","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":760,"wires":[["53619c1d.33b77c"]]},{"id":"85fdab26.5a8a9","type":"inject","z":"9e3f83ca.2ddf88","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":800,"wires":[["c137ff8d.39c1f8"]]},{"id":"942d203a.54c6b8","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"counterdelay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1040,"y":3840,"wires":[[]]},{"id":"5d5bae22.9796b","type":"inject","z":"9e3f83ca.2ddf88","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":430,"y":3860,"wires":[["e467060d.25c17"]]},{"id":"e467060d.25c17","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":3840,"wires":[["942d203a.54c6b8","ddcb02ba.9a1d78"]]},{"id":"9718b3b1.3b9328","type":"link in","z":"9e3f83ca.2ddf88","name":"->Counter","links":["69ce2f16.151f08"],"x":455,"y":3820,"wires":[["e467060d.25c17"]]},{"id":"ae908f17.9c46e","type":"ui_text","z":"9e3f83ca.2ddf88","group":"89076f33.868b08","order":51,"width":"2","height":"1","name":"08 growth delay status","label":"","format":"{{msg.payload}}","layout":"row-center","x":1110,"y":3960,"wires":[]},{"id":"ddcb02ba.9a1d78","type":"function","z":"9e3f83ca.2ddf88","name":"","func":"if (msg.payload===false){\n    msg.payload=\"delay status\";\n}\nif (msg.payload===\"delay\"){\n    msg.payload=\"ongoing\";\n}\nelse if (msg.payload===true){\n    msg.payload=\"over\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3960,"wires":[["ae908f17.9c46e"]]},{"id":"61d4fed1.d084c","type":"function","z":"9e3f83ca.2ddf88","name":"reset","func":"msg.reset=true;\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2410,"y":540,"wires":[["3bc192f2.6e8536","b7904071.28599","f74b39aa.78f8e","c9e35d98.12dbd8"]]},{"id":"e08d41f3.ceaa98","type":"delay","z":"9e3f83ca.2ddf88","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":2240,"y":520,"wires":[["61d4fed1.d084c"]]},{"id":"d62d5e27.ea87e8","type":"change","z":"9e3f83ca.2ddf88","name":"","rules":[{"t":"set","p":"elapsed","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3290,"y":900,"wires":[[]]},{"id":"d2c19dd.391656","type":"function","z":"9e3f83ca.2ddf88","name":"elapsed","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=\"Elapsed time \"+flow.get(\"elapsed\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":1660,"wires":[["fabfee1f.21a72"]]},{"id":"fabfee1f.21a72","type":"file","z":"9e3f83ca.2ddf88","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1270,"y":1660,"wires":[[]]},{"id":"fddcfff9.a9f838","type":"comment","z":"9e3f83ca.2ddf88","name":"BOUGZY DEPLOY","info":"","x":2590,"y":80,"wires":[]},{"id":"2a514986.85997e","type":"arduino out","z":"eda2f12a.3ee13","name":"GL17","pin":"3","state":"OUTPUT","arduino":"4ef1793f.14116","x":1130,"y":60,"wires":[]},{"id":"17786584.58ff12","type":"arduino out","z":"eda2f12a.3ee13","name":"YL17","pin":"2","state":"OUTPUT","arduino":"4ef1793f.14116","x":1550,"y":60,"wires":[]},{"id":"3bb32e57.b1d9ea","type":"ui_slider","z":"eda2f12a.3ee13","name":"05 intensity:","label":"intensity:","tooltip":"","group":"9ebd0a8a.c990b8","order":30,"width":"7","height":"1","passthru":true,"outs":"end","topic":"","min":0,"max":"255","step":"1","x":1170,"y":420,"wires":[["e794255c.0f0918","88657c7.93b3c8"]]},{"id":"e8663b18.29f6f8","type":"ui_numeric","z":"eda2f12a.3ee13","name":"06 and set to 480","label":"and set to","tooltip":"","group":"9ebd0a8a.c990b8","order":37,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"1025","step":"1","x":1030,"y":840,"wires":[["6e603628.61d418"]]},{"id":"81469c47.570d48","type":"ui_switch","z":"eda2f12a.3ee13","name":"01 GL17","label":"","tooltip":"","group":"9ebd0a8a.c990b8","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"green","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"green","x":1000,"y":60,"wires":[["2a514986.85997e"]]},{"id":"ca41843.d153a78","type":"ui_switch","z":"eda2f12a.3ee13","name":"01 YL17","label":"","tooltip":"","group":"9ebd0a8a.c990b8","order":4,"width":"1","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#e2c43c","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"#e2c43c","x":1420,"y":60,"wires":[["17786584.58ff12"]]},{"id":"6d1f41f1.aa97c","type":"ui_switch","z":"eda2f12a.3ee13","name":"02 IR17","label":"","tooltip":"","group":"9ebd0a8a.c990b8","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"red","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1000,"y":180,"wires":[["2665dcd4.f4cc6c"]]},{"id":"7e8f2e30.fd862","type":"ui_switch","z":"eda2f12a.3ee13","name":"03 BL17","label":"","tooltip":"","group":"9ebd0a8a.c990b8","order":12,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#44cff1","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1020,"y":300,"wires":[["88657c7.93b3c8"]]},{"id":"14071445.98c45c","type":"ui_switch","z":"eda2f12a.3ee13","name":"07 FAN","label":"","tooltip":"","group":"9ebd0a8a.c990b8","order":40,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"toys","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1620,"y":1080,"wires":[["50c430ba.2ff9a8"]]},{"id":"3c3195c6.48007a","type":"ui_switch","z":"eda2f12a.3ee13","name":"06 T01 PID","label":"","tooltip":"","group":"9ebd0a8a.c990b8","order":33,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"enable","style":"","onvalue":"1","onvalueType":"num","onicon":"hot_tub","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1030,"y":880,"wires":[["87e9a130.ff00a8","127f0a89.88eb6d"]]},{"id":"87e7c368.b25f28","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":25,"width":"2","height":"1","name":"04 spacer","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1770,"y":520,"wires":[]},{"id":"77853463.0f062c","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":46,"width":"7","height":"1","name":"07 last spacer","label":"(produces sound: fine).","format":"{{msg.payload}}","layout":"row-spread","x":1960,"y":1020,"wires":[]},{"id":"aacad92a.483e2","type":"ui_numeric","z":"eda2f12a.3ee13","name":"02 every 5","label":"every","tooltip":"","group":"9ebd0a8a.c990b8","order":7,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1450,"y":220,"wires":[["7d8e6916.dfd628"]]},{"id":"4a162d4.eb8f2d4","type":"ui_dropdown","z":"eda2f12a.3ee13","name":"02 minutes","label":"","tooltip":"","place":"Select option","group":"9ebd0a8a.c990b8","order":8,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1690,"y":220,"wires":[["7c5040d1.7a55c"]]},{"id":"cebfc952.48e438","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"measODtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2280,"y":320,"wires":[["e23e4466.06698"]]},{"id":"71140360.5d0a54","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":9,"width":"7","height":"1","name":"02 (takes 5 seconds)","label":"(takes 5 seconds).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":180,"wires":[]},{"id":"3cf8df00.efdad","type":"ui_numeric","z":"eda2f12a.3ee13","name":"03 every 5","label":"every","tooltip":"","group":"9ebd0a8a.c990b8","order":14,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1490,"y":340,"wires":[["dd32b859.7a702"]]},{"id":"9b78784a.838d38","type":"ui_dropdown","z":"eda2f12a.3ee13","name":"03 minutes","label":"","tooltip":"","place":"Select option","group":"9ebd0a8a.c990b8","order":15,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1730,"y":340,"wires":[["cdaa41c5.a4e8d8"]]},{"id":"dd32b859.7a702","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"measBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":380,"wires":[["8a62a928.222ce8"]]},{"id":"df5b35ec.22dfe8","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"measBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1940,"y":380,"wires":[["8a62a928.222ce8"]]},{"id":"d5d3b1e8.00a788","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":16,"width":"7","height":"1","name":"03 (takes 5 seconds)","label":"(takes 5 secs, max illum., shifted timing).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":300,"wires":[]},{"id":"e794255c.0f0918","type":"ui_numeric","z":"eda2f12a.3ee13","name":"05 at 255","label":"at","tooltip":"","group":"9ebd0a8a.c990b8","order":29,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":"1","x":1020,"y":420,"wires":[["1f76b443.a3e0a4","3bb32e57.b1d9ea"]]},{"id":"1f76b443.a3e0a4","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"intBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":460,"wires":[[]]},{"id":"88a80004.52709","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":6,"width":"3","height":"1","name":"02 Meaure OD:","label":"Measure OD:","format":"{{msg.payload}}","layout":"row-spread","x":1280,"y":180,"wires":[]},{"id":"4832dac5.e1d6ac","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":13,"width":"3","height":"1","name":"03 Meaure BL:","label":"Measure BL:","format":"{{msg.payload}}","layout":"row-spread","x":1340,"y":300,"wires":[]},{"id":"bf5561ec.60bc18","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":28,"width":"4","height":"1","name":"05 spacer1","label":"","format":"{{msg.payload}}","layout":"row-spread","x":710,"y":420,"wires":[]},{"id":"94ab972d.772c68","type":"ui_button","z":"eda2f12a.3ee13","name":"05 OK","group":"9ebd0a8a.c990b8","order":31,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1350,"y":420,"wires":[["7e8f2e30.fd862"]]},{"id":"bc5f173f.b5b328","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":19,"width":"1","height":"1","name":"04 - -","label":"","format":"{{msg.payload}}","layout":"row-spread","x":630,"y":520,"wires":[]},{"id":"9de5b9eb.06ad4","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":20,"width":"3","height":"1","name":"04 Illuminate BL:","label":"Illuminate BL:","format":"{{msg.payload}}","layout":"row-spread","x":670,"y":560,"wires":[]},{"id":"2cd2ee6.bc1bb92","type":"ui_numeric","z":"eda2f12a.3ee13","name":"04 every 1","label":"every","tooltip":"","group":"9ebd0a8a.c990b8","order":21,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":850,"y":560,"wires":[["e16b0e33.ff2aa"]]},{"id":"7799cefc.2839b8","type":"ui_dropdown","z":"eda2f12a.3ee13","name":"04 hour","label":"","tooltip":"","place":"Select option","group":"9ebd0a8a.c990b8","order":22,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1080,"y":560,"wires":[["7ec4a3ba.29fea4"]]},{"id":"e16b0e33.ff2aa","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"pillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":600,"wires":[["944ca44e.62899"]]},{"id":"e85650e7.380598","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"pillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":640,"wires":[["944ca44e.62899"]]},{"id":"ecc2e882.7c663","type":"ui_numeric","z":"eda2f12a.3ee13","name":"04 for 5","label":"for","tooltip":"","group":"9ebd0a8a.c990b8","order":23,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1340,"y":560,"wires":[["49cb6a9e.4b217c"]]},{"id":"781d55ad.5004fc","type":"ui_dropdown","z":"eda2f12a.3ee13","name":"04 minutes","label":"","tooltip":"","place":"Select option","group":"9ebd0a8a.c990b8","order":24,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1590,"y":560,"wires":[["ee8ba808.8d27c"]]},{"id":"49cb6a9e.4b217c","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"tillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":600,"wires":[["39b8289e.fc273"]]},{"id":"5ca0cbe7.4c34dc","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"tillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1610,"y":640,"wires":[["39b8289e.fc273"]]},{"id":"1418394.64281c7","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":32,"width":"5","height":"1","name":"05 spacer2","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1530,"y":420,"wires":[]},{"id":"b0687617.87caf","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":35,"width":"2","height":"1","name":"06 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1850,"y":860,"wires":[]},{"id":"e4d92636.b5012","type":"ui_switch","z":"eda2f12a.3ee13","name":"06 act.switch","label":"","tooltip":"","group":"9ebd0a8a.c990b8","order":36,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"hot_tub","oncolor":"red","offvalue":"OFF","offvalueType":"str","officon":"ac_unit","offcolor":"grey","x":1520,"y":880,"wires":[["c29ece6f.d2fec"]]},{"id":"40fcc3d9.8c417c","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":38,"width":"6","height":"1","name":"06 Volts.","label":"Volts.","format":"{{msg.payload}}","layout":"row-spread","x":1220,"y":840,"wires":[]},{"id":"beab8aeb.af8fb8","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":34,"width":"4","height":"1","name":"06 Temperature control:","label":"Temperature control:","format":"{{msg.payload}}","layout":"row-spread","x":2050,"y":860,"wires":[]},{"id":"92d7b3ee.6659","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":41,"width":"4","height":"1","name":"07 Fan:","label":"Fan:","format":"{{msg.payload}}","layout":"row-spread","x":700,"y":1060,"wires":[]},{"id":"2728dd84.3c455a","type":"ui_switch","z":"eda2f12a.3ee13","name":"07 enable switch","label":"","tooltip":"","group":"9ebd0a8a.c990b8","order":43,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"toys","oncolor":"green","offvalue":"OFF","offvalueType":"str","officon":"radio_button_unchecked","offcolor":"grey","x":910,"y":1060,"wires":[["2948d4b6.0c5bcc","8ad7fdba.9736c8"]]},{"id":"8ad7fdba.9736c8","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":42,"width":"2","height":"1","name":"07 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1230,"y":1060,"wires":[]},{"id":"2948d4b6.0c5bcc","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"FANstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1020,"wires":[[]]},{"id":"3b1cb73d.936138","type":"ui_numeric","z":"eda2f12a.3ee13","name":"07 and set to 100","label":"and set to","tooltip":"","group":"9ebd0a8a.c990b8","order":44,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"255","step":"1","x":1590,"y":1020,"wires":[["3dcd9125.d3d416","50c430ba.2ff9a8"]]},{"id":"3dcd9125.d3d416","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"intFAN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1780,"y":1000,"wires":[[]]},{"id":"e410ff41.fe9c6","type":"ui_button","z":"eda2f12a.3ee13","name":"07 OK","group":"9ebd0a8a.c990b8","order":45,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1430,"y":1100,"wires":[["14071445.98c45c"]]},{"id":"4828c2b3.5d72bc","type":"ui_numeric","z":"eda2f12a.3ee13","name":"08 add delay","label":"Add growing delay of","tooltip":"","group":"9ebd0a8a.c990b8","order":47,"width":"6","height":"1","passthru":true,"topic":"setpoint","format":"{{value}}","min":"0","max":"100","step":"1","x":870,"y":1180,"wires":[["b4c7ed44.9b58"]]},{"id":"42deee3e.e16af8","type":"ui_dropdown","z":"eda2f12a.3ee13","name":"08 hour","label":"","tooltip":"","place":"Select option","group":"9ebd0a8a.c990b8","order":48,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1060,"y":1180,"wires":[["10c3b54e.e8863b"]]},{"id":"b4c7ed44.9b58","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"delay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":1220,"wires":[["7c457099.f06918"]]},{"id":"fc4e25b.65e22d8","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"delayunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1090,"y":1220,"wires":[["7c457099.f06918"]]},{"id":"b4c8a63a.74ad5","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":49,"width":"8","height":"1","name":"08 finalspacer","label":"(during which no BL measure will be made).","format":"{{msg.payload}}","layout":"row-spread","x":1240,"y":1140,"wires":[]},{"id":"c11ced3.5ff0b9","type":"ui_text_input","z":"eda2f12a.3ee13","name":"09 DETAILS","label":"DETAILS:","tooltip":"","group":"9ebd0a8a.c990b8","order":52,"width":"16","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1110,"y":2560,"wires":[["c9d92b5f.5acb78"]]},{"id":"6113d5c9.b590e4","type":"ui_text_input","z":"eda2f12a.3ee13","name":"10 Nickname","label":"Nickname:","tooltip":"","group":"9ebd0a8a.c990b8","order":54,"width":"4","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1120,"y":2600,"wires":[["58131314.de96b4"]]},{"id":"ab539d7e.d7f4f8","type":"inject","z":"eda2f12a.3ee13","name":"","topic":"","payload":"eV13_","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":830,"y":2600,"wires":[["f7d68795.f07af8"]]},{"id":"b0ddf18f.9f1b98","type":"ui_button","z":"eda2f12a.3ee13","name":"10 LAUNCH EXP","group":"9ebd0a8a.c990b8","order":55,"width":"10","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"bool","topic":"","x":310,"y":1900,"wires":[["ffaddc1.27de22","996a6610.6e50e8","1cfbadc4.ac9012","d6c99f45.ed3bf","39d54.8687f2ac8","9c83083e.cce2","c9b65c4.03057a"]]},{"id":"4635b936.7cdc1","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.label=\"Running...\";\nmsg.background=\"#FFC300\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1600,"wires":[["b0ddf18f.9f1b98"]]},{"id":"be0478af.776ef","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.label=\"LAUNCH EXPERIMENT\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1520,"wires":[["b0ddf18f.9f1b98"]]},{"id":"5303a91c.3db28","type":"inject","z":"eda2f12a.3ee13","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":210,"y":1640,"wires":[["d6c99f45.ed3bf"]]},{"id":"cdf2faf2.6afc2","type":"ui_button","z":"eda2f12a.3ee13","name":"10 RESET","group":"9ebd0a8a.c990b8","order":57,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"reset","payloadType":"str","topic":"","x":1610,"y":1480,"wires":[["ee696689.9ef8c8","e0aea61e.b6f09","64b68d7e.bb7dec","736c1126.17d4c8"]]},{"id":"ee696689.9ef8c8","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.label=\"Reseting...\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1520,"wires":[["cdf2faf2.6afc2","3478f989.05842e"]]},{"id":"85a26dd4.17f978","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.label=\"RESET\";\nmsg.background=\"grey\";\nreturn msg;","outputs":1,"noerr":0,"x":1750,"y":1660,"wires":[["cdf2faf2.6afc2"]]},{"id":"e4aaff9a.541b2","type":"inject","z":"eda2f12a.3ee13","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1630,"y":1680,"wires":[["85a26dd4.17f978"]]},{"id":"3478f989.05842e","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1560,"wires":[["b208bfa.e6074c"]]},{"id":"b208bfa.e6074c","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.label=\"SUCCESS\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1600,"wires":[["1bce45e7.6091fa","cdf2faf2.6afc2"]]},{"id":"1bce45e7.6091fa","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1640,"wires":[["85a26dd4.17f978"]]},{"id":"c173c56.8acd8b8","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.label=\"Halted experiment\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1560,"wires":[["b0ddf18f.9f1b98"]]},{"id":"61b7a4a0.88ddcc","type":"ui_button","z":"eda2f12a.3ee13","name":"10 STOP","group":"9ebd0a8a.c990b8","order":56,"width":"4","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"str","topic":"","x":860,"y":1540,"wires":[["ccddce63.a1abd"]]},{"id":"6dbeae59.f37d38","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.label=\"Stopped.\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":1580,"wires":[["61b7a4a0.88ddcc"]]},{"id":"5e04ff25.13ffe8","type":"inject","z":"eda2f12a.3ee13","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":710,"y":1500,"wires":[["3ecc5d87.bb0b8a"]]},{"id":"3ecc5d87.bb0b8a","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.label=\"STOP\";\nmsg.background=\"#cb4335\";\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1500,"wires":[["61b7a4a0.88ddcc"]]},{"id":"cfc8e147.79ca08","type":"comment","z":"eda2f12a.3ee13","name":"Launch TODOs","info":"Turn off and disable all above switches\ndisable the launch button\nCA MARCHE PAS","x":840,"y":2080,"wires":[]},{"id":"4f358255.c7fe0c","type":"comment","z":"eda2f12a.3ee13","name":"Reset TODOs","info":"Enable anew all above switches\nReset all default values in exp menu\nBlink LEDs as indicators ;)","x":1440,"y":1660,"wires":[]},{"id":"dadd35d0.f4c3","type":"comment","z":"eda2f12a.3ee13","name":"Stop TODOs","info":"","x":850,"y":1420,"wires":[]},{"id":"67e36dbf.0d0194","type":"simpletime","z":"eda2f12a.3ee13","name":"","x":910,"y":2360,"wires":[["9168ab22.a02d08","aaa4e9c2.5670d"]]},{"id":"9168ab22.a02d08","type":"function","z":"eda2f12a.3ee13","name":"20190417_172653_nickname/...","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\")+\"/\"+msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1180,"y":2360,"wires":[["47f384c7.efde8c","afff39fc.437e18","48d2fedf.fd61c","1a6e46c2.cbf2a9"]]},{"id":"48d2fedf.fd61c","type":"join","z":"eda2f12a.3ee13","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2400,"wires":[["446b5c37.9c9ab4"]]},{"id":"47f384c7.efde8c","type":"join","z":"eda2f12a.3ee13","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2440,"wires":[["794bc692.3614"]]},{"id":"afff39fc.437e18","type":"join","z":"eda2f12a.3ee13","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2480,"wires":[["a1b3d9d.55ab7a8"]]},{"id":"c5f7a80d.44b15","type":"function","z":"eda2f12a.3ee13","name":"/home/lab513/Desktop/eVOLVER_data/","func":"if (msg.payload){\n    msg.payload=\"/home/lab513/Desktop/eVOLVER_data/\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":2320,"wires":[["48d2fedf.fd61c","47f384c7.efde8c","afff39fc.437e18","1a6e46c2.cbf2a9"]]},{"id":"12447a7c.0218ce","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"delay","timeout":"0.2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2360,"wires":[["67e36dbf.0d0194"]]},{"id":"681de5e7.a86194","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"nickname","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":2600,"wires":[[]]},{"id":"19cd19e0.3d3fee","type":"function","z":"eda2f12a.3ee13","name":".IR","func":"if (msg.payload){\n    msg.payload=\".IR\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2400,"wires":[["48d2fedf.fd61c"]]},{"id":"a6eea9db.42d988","type":"function","z":"eda2f12a.3ee13","name":".BL","func":"if (msg.payload){\n    msg.payload=\".BL\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2440,"wires":[["47f384c7.efde8c"]]},{"id":"9b4fb054.d165a8","type":"function","z":"eda2f12a.3ee13","name":".Temp","func":"if (msg.payload){\n    msg.payload=\".Temp\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2480,"wires":[["afff39fc.437e18"]]},{"id":"ffaddc1.27de22","type":"function","z":"eda2f12a.3ee13","name":"Creates Files:","func":"\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":2280,"wires":[["12447a7c.0218ce","f04a10da.ef5298","386cd594.af9d02","2aeab752.188","fb1cad5b.f4028","3cf826f4.b6d4fa","8e2f0f37.1f6258"]]},{"id":"2aeab752.188","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2400,"wires":[["19cd19e0.3d3fee"]]},{"id":"fb1cad5b.f4028","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2440,"wires":[["a6eea9db.42d988"]]},{"id":"3cf826f4.b6d4fa","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2480,"wires":[["9b4fb054.d165a8"]]},{"id":"f04a10da.ef5298","type":"function","z":"eda2f12a.3ee13","name":"reset","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":2280,"wires":[["446b5c37.9c9ab4","794bc692.3614","a1b3d9d.55ab7a8","93ad13ba.243c38"]]},{"id":"386cd594.af9d02","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"delay","timeout":"0.1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2320,"wires":[["c5f7a80d.44b15"]]},{"id":"58131314.de96b4","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2600,"wires":[["681de5e7.a86194"]]},{"id":"446b5c37.9c9ab4","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"FileNameIR","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1500,"y":2400,"wires":[[]]},{"id":"794bc692.3614","type":"change","z":"eda2f12a.3ee13","name":"FileNameBL","rules":[{"t":"set","p":"FileNameBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1470,"y":2440,"wires":[[]]},{"id":"a1b3d9d.55ab7a8","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"FileNameTemp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":2480,"wires":[[]]},{"id":"1a6e46c2.cbf2a9","type":"join","z":"eda2f12a.3ee13","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2520,"wires":[["93ad13ba.243c38"]]},{"id":"6812bd5.82e1fc4","type":"function","z":"eda2f12a.3ee13","name":".readme","func":"if (msg.payload){\n    msg.payload=\".readme\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":2520,"wires":[["1a6e46c2.cbf2a9"]]},{"id":"8e2f0f37.1f6258","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2520,"wires":[["6812bd5.82e1fc4"]]},{"id":"93ad13ba.243c38","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"FileNameReadme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":2520,"wires":[[]]},{"id":"b1534c5f.28f168","type":"inject","z":"eda2f12a.3ee13","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":810,"y":2560,"wires":[["6538fe6a.14dc9"]]},{"id":"c9d92b5f.5acb78","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2560,"wires":[["e7b14db6.d01548"]]},{"id":"e7b14db6.d01548","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"readme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1480,"y":2560,"wires":[[]]},{"id":"aaa4e9c2.5670d","type":"function","z":"eda2f12a.3ee13","name":"displayname","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":2640,"wires":[["6e1821c6.2dc148"]]},{"id":"6e1821c6.2dc148","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":2,"width":"15","height":"1","name":"00 Running","label":"Running:","format":"{{msg.payload}}","layout":"row-left","x":1310,"y":2640,"wires":[]},{"id":"df257dea.dba0b","type":"inject","z":"eda2f12a.3ee13","name":"","topic":"","payload":"-","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":890,"y":2640,"wires":[["8e9cb635.9e9f78"]]},{"id":"ccddce63.a1abd","type":"function","z":"eda2f12a.3ee13","name":"STOP ACTIONS:","func":"msg.payload=false;\nreturn msg;\n\n//this function allows the fact that the\n//reset button first does the stop action\n//and then resets the buttons etc","outputs":1,"noerr":0,"x":1050,"y":1560,"wires":[["c173c56.8acd8b8","6dbeae59.f37d38","ae812286.2a0f48","1f2c7ffb.ad8858","f2f45c20.db3dd"]]},{"id":"e0aea61e.b6f09","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":300,"y":1480,"wires":[["be0478af.776ef"]]},{"id":"64b68d7e.bb7dec","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":850,"y":1460,"wires":[["3ecc5d87.bb0b8a"]]},{"id":"b5521a80.4fe0e","type":"function","z":"eda2f12a.3ee13","name":"disable/enable switches","func":"if (msg.payload===\"launch\"){\n    msg.enabled=false;\n}\nelse if (msg.payload===0){\n    msg.enabled=true;\n}\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":2080,"wires":[[]]},{"id":"8e9cb635.9e9f78","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=\"-\";\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":2640,"wires":[["6e1821c6.2dc148"]]},{"id":"996a6610.6e50e8","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":560,"y":2800,"wires":[["29fa1f04.75949","ccc22172.09a4","278eede4.6a1062","e7fa3cde.b8376","d9c7575c.a5eea8","c136847b.2a383","bb6d4693.db8618","d14f5033.2cffb8"]]},{"id":"37e34224.23ef0e","type":"file","z":"eda2f12a.3ee13","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3420,"wires":[[]]},{"id":"a34a5038.c83d58","type":"file","z":"eda2f12a.3ee13","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3380,"wires":[[]]},{"id":"58ba288c.4dee9","type":"file","z":"eda2f12a.3ee13","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3460,"wires":[[]]},{"id":"d0e10e19.b595e","type":"switch","z":"eda2f12a.3ee13","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3420,"wires":[["12b83437.acc914"]]},{"id":"ccc22172.09a4","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"StoreInFile","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":3340,"wires":[[]]},{"id":"a7be502.fb3b33","type":"comment","z":"eda2f12a.3ee13","name":"Allows storage in the filenames","info":"","x":1050,"y":3340,"wires":[]},{"id":"6966ca86.1a0ab4","type":"arduino in","z":"eda2f12a.3ee13","name":"Blue Light Sensor","pin":"2","state":"ANALOG","arduino":"28efad38.45a01a","x":790,"y":3420,"wires":[["2a9d0944.e292c6"]]},{"id":"d9b15769.52605","type":"arduino in","z":"eda2f12a.3ee13","name":"IR Sensor","pin":"1","state":"ANALOG","arduino":"28efad38.45a01a","x":760,"y":3380,"wires":[["4c252a7.4c407d4"]]},{"id":"2a9d0944.e292c6","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3420,"wires":[["d0e10e19.b595e","e5427ae2.27a2a8"]]},{"id":"4c252a7.4c407d4","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3380,"wires":[["7b231dc4.486d84","e8cce2ef.49b6b8"]]},{"id":"35a0a7e3.adbfd8","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3460,"wires":[["54489f59.1ef54","d14d7c96.aa7d48"]]},{"id":"7b231dc4.486d84","type":"switch","z":"eda2f12a.3ee13","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3380,"wires":[["63383d38.8e098c"]]},{"id":"54489f59.1ef54","type":"switch","z":"eda2f12a.3ee13","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3460,"wires":[["c3d9175b.cc6758"]]},{"id":"b99cff39.e14268","type":"inject","z":"eda2f12a.3ee13","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":330,"y":3340,"wires":[["247c4592.4da652"]]},{"id":"29fa1f04.75949","type":"function","z":"eda2f12a.3ee13","name":"readme","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=flow.get(\"readme\")+\"\\n\"+\n    \"measOD \"+flow.get(\"measOD\").toString()+\"\\n\"+\n    \"measODunits \"+flow.get(\"measODunits\").toString()+\"\\n\"+\n    \"measODtotal \"+flow.get(\"measODtotal\").toString()+\"\\n\"+\n    \n    \"measBL \"+flow.get(\"measBL\").toString()+\"\\n\"+\n    \"measBLunits \"+flow.get(\"measBLunits\").toString()+\"\\n\"+\n    \"measBLtotal \"+flow.get(\"measBLtotal\").toString()+\"\\n\"+\n    \n    \"intBL \"+flow.get(\"intBL\").toString()+\"\\n\"+\n    \n    \"pillBL \"+flow.get(\"pillBL\").toString()+\"\\n\"+\n    \"pillBLunits \"+flow.get(\"pillBLunits\").toString()+\"\\n\"+\n    \"pillBLtotal \"+flow.get(\"pillBLtotal\").toString()+\"\\n\"+\n    \n    \"tillBL \"+flow.get(\"tillBL\").toString()+\"\\n\"+\n    \"tillBLunits \"+flow.get(\"tillBLunits\").toString()+\"\\n\"+\n    \"tillBLtotal \"+flow.get(\"tillBLtotal\").toString()+\"\\n\"+\n    \n    \"Temp \"+flow.get(\"Temp\").toString()+\"\\n\"+\n    \"PID \"+flow.get(\"PID\").toString()+\"\\n\"+\n    \n    \"FANstate \"+flow.get(\"FANstate\").toString()+\"\\n\"+\n    \"intFAN \"+flow.get(\"intFAN\").toString()+\"\\n\"+\n    \n    \"delay \"+flow.get(\"delay\").toString()+\"\\n\"+\n    \"delayunits \"+flow.get(\"delayunits\").toString()+\"\\n\"+\n    \"delaytotal \"+flow.get(\"delaytotal\").toString()+\"\\n\";\n\n//msg.myepoch=msg.myepoch.toString();\n//msg.payload=msg.payload+\";\"+msg.myepoch;\n\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":2940,"wires":[["fdd9d2f.1b3bd3"]]},{"id":"fdd9d2f.1b3bd3","type":"file","z":"eda2f12a.3ee13","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":890,"y":2940,"wires":[[]]},{"id":"63383d38.8e098c","type":"simpletime","z":"eda2f12a.3ee13","name":"","x":1330,"y":3380,"wires":[["fc621dc9.e761d8"]]},{"id":"fc621dc9.e761d8","type":"function","z":"eda2f12a.3ee13","name":"IR+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameIR\");\nreturn msg;","outputs":1,"noerr":0,"x":1480,"y":3380,"wires":[["a34a5038.c83d58"]]},{"id":"12b83437.acc914","type":"simpletime","z":"eda2f12a.3ee13","name":"","x":1330,"y":3420,"wires":[["3a394862.5159e8"]]},{"id":"3a394862.5159e8","type":"function","z":"eda2f12a.3ee13","name":"BL+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameBL\");\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":3420,"wires":[["37e34224.23ef0e"]]},{"id":"c3d9175b.cc6758","type":"simpletime","z":"eda2f12a.3ee13","name":"","x":1330,"y":3460,"wires":[["d6e5f6d2.585e98"]]},{"id":"d6e5f6d2.585e98","type":"function","z":"eda2f12a.3ee13","name":"Temp+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameTemp\");\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":3460,"wires":[["58ba288c.4dee9"]]},{"id":"6538fe6a.14dc9","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2560,"wires":[["c11ced3.5ff0b9"]]},{"id":"f7d68795.f07af8","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=\"eV13_\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2600,"wires":[["6113d5c9.b590e4"]]},{"id":"5ca14738.153e28","type":"function","z":"eda2f12a.3ee13","name":"(reset)","func":"\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":2600,"wires":[["6538fe6a.14dc9","f7d68795.f07af8","8e9cb635.9e9f78"]]},{"id":"1cfbadc4.ac9012","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=\"launch\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":2040,"wires":[["b5521a80.4fe0e"]]},{"id":"247c4592.4da652","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3340,"wires":[["ccc22172.09a4"]]},{"id":"278eede4.6a1062","type":"function","z":"eda2f12a.3ee13","name":"255","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":750,"y":3640,"wires":[["75bf3c3.8d9c244","994f7deb.844268"]]},{"id":"75bf3c3.8d9c244","type":"function","z":"eda2f12a.3ee13","name":"measODtotal","func":"msg.delay=flow.get(\"measODtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":780,"y":3680,"wires":[["ca5e2288.e11c3"]]},{"id":"ca5e2288.e11c3","type":"delay","z":"eda2f12a.3ee13","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":3720,"wires":[["278eede4.6a1062"]]},{"id":"a9d2bf99.bca4d","type":"function","z":"eda2f12a.3ee13","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3640,"wires":[["ca5e2288.e11c3","994f7deb.844268"]]},{"id":"994f7deb.844268","type":"trigger","z":"eda2f12a.3ee13","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1050,"y":3640,"wires":[["34f01804.84343","96137171.ce0c2","40d69eb4.204068"]]},{"id":"34f01804.84343","type":"function","z":"eda2f12a.3ee13","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":3640,"wires":[["edec7e32.736a28"]]},{"id":"96137171.ce0c2","type":"arduino out","z":"eda2f12a.3ee13","name":"IR17","pin":"5","state":"PWM","arduino":"28efad38.45a01a","x":1810,"y":3680,"wires":[]},{"id":"65eef5a4.93017c","type":"switch","z":"eda2f12a.3ee13","name":"lance ventilo","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"gt","v":"160","vt":"num"},{"t":"btwn","v":"0","vt":"num","v2":"160","v2t":"num"}],"checkall":"false","repair":false,"outputs":3,"x":1470,"y":3820,"wires":[["ab0e4e69.94edc"],["ab0e4e69.94edc"],["d2cccdcd.d237c8","b737b99d.91ee08"]],"info":"Coz the ventilo wont start if the value is \nbelow 160.\nTo have a value below 160, we need to start w\na bigger value and THEN get down in value"},{"id":"ab0e4e69.94edc","type":"arduino out","z":"eda2f12a.3ee13","name":"Fan","pin":"9","state":"PWM","arduino":"28efad38.45a01a","x":1810,"y":3800,"wires":[]},{"id":"b737b99d.91ee08","type":"function","z":"eda2f12a.3ee13","name":"200","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":1630,"y":3840,"wires":[["ab0e4e69.94edc"]]},{"id":"d2cccdcd.d237c8","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":3880,"wires":[["ab0e4e69.94edc"]]},{"id":"edec7e32.736a28","type":"arduino out","z":"eda2f12a.3ee13","name":"BL17","pin":"6","state":"PWM","arduino":"28efad38.45a01a","x":1810,"y":3740,"wires":[]},{"id":"736c1126.17d4c8","type":"link out","z":"eda2f12a.3ee13","name":"RESET17->","links":["7f4194d6.4e6d64","49f21770.327c48","fed733ff.f2db08","440a2d2c.698774","3742e0c8.bcab08","b9fa99c.24e2868","9b3e4119.84a748","948bae02.d8b248"],"x":1755,"y":1480,"wires":[]},{"id":"7f4194d6.4e6d64","type":"link in","z":"eda2f12a.3ee13","name":"->Nickname&details","links":["736c1126.17d4c8"],"x":595,"y":2560,"wires":[["5ca14738.153e28"]]},{"id":"7e0e72c1.9da4cc","type":"link in","z":"eda2f12a.3ee13","name":"->StoreInFile","links":["ae812286.2a0f48"],"x":375,"y":3300,"wires":[["247c4592.4da652"]]},{"id":"67b8172c.0b4168","type":"link in","z":"eda2f12a.3ee13","name":"->ODmeas","links":["ae812286.2a0f48"],"x":395,"y":3640,"wires":[["a9d2bf99.bca4d"]]},{"id":"49f21770.327c48","type":"link in","z":"eda2f12a.3ee13","name":"->stop","links":["736c1126.17d4c8"],"x":875,"y":1620,"wires":[["ccddce63.a1abd"]]},{"id":"7c5040d1.7a55c","type":"function","z":"eda2f12a.3ee13","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1740,"y":260,"wires":[["97714ff2.3a4d68"]]},{"id":"7d8e6916.dfd628","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"measOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":260,"wires":[["9dd484c8.25668"]]},{"id":"97714ff2.3a4d68","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"measODunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":260,"wires":[["9dd484c8.25668"]]},{"id":"9dd484c8.25668","type":"function","z":"eda2f12a.3ee13","name":"multiply","func":"msg.payload=flow.get(\"measOD\")*flow.get(\"measODunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2100,"y":260,"wires":[["cebfc952.48e438"]]},{"id":"cdaa41c5.a4e8d8","type":"function","z":"eda2f12a.3ee13","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1760,"y":380,"wires":[["df5b35ec.22dfe8"]]},{"id":"8a62a928.222ce8","type":"function","z":"eda2f12a.3ee13","name":"multiply","func":"msg.payload=flow.get(\"measBL\")*flow.get(\"measBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2120,"y":380,"wires":[["a02af7df.51687"]]},{"id":"a02af7df.51687","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"measBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":380,"wires":[["22ef4c0.f5aa0b4"]]},{"id":"7ec4a3ba.29fea4","type":"function","z":"eda2f12a.3ee13","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1100,"y":600,"wires":[["e85650e7.380598"]]},{"id":"ee8ba808.8d27c","type":"function","z":"eda2f12a.3ee13","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":600,"wires":[["5ca0cbe7.4c34dc"]]},{"id":"944ca44e.62899","type":"function","z":"eda2f12a.3ee13","name":"multiply","func":"msg.payload=flow.get(\"pillBL\")*flow.get(\"pillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1000,"y":700,"wires":[["a6fc00e6.26615"]]},{"id":"a6fc00e6.26615","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"pillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1170,"y":700,"wires":[["376d4ecf.b04532"]]},{"id":"39b8289e.fc273","type":"function","z":"eda2f12a.3ee13","name":"multiply","func":"msg.payload=flow.get(\"tillBL\")*flow.get(\"tillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":700,"wires":[["6dd2468.5fe1538"]]},{"id":"6dd2468.5fe1538","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"tillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":700,"wires":[[]]},{"id":"7c457099.f06918","type":"function","z":"eda2f12a.3ee13","name":"multiply","func":"msg.payload=flow.get(\"delay\")*flow.get(\"delayunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":1220,"wires":[["48f7c47e.5a4984"]]},{"id":"48f7c47e.5a4984","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"delaytotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":1220,"wires":[["2a54ff86.ab8d2"]]},{"id":"10c3b54e.e8863b","type":"function","z":"eda2f12a.3ee13","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1180,"wires":[["fc4e25b.65e22d8"]]},{"id":"ae812286.2a0f48","type":"link out","z":"eda2f12a.3ee13","name":"STOP17.false","links":["aa4f21cd.f9f11","67b8172c.0b4168","8d4f4998.c902","7e0e72c1.9da4cc","9fd0d41d.ff3d38","cba10dcc.368e","ec57ee8a.e1092","51e92b54.106b4c","aa626643.a3a278","3cb2df7a.dea7c"],"x":1235,"y":1580,"wires":[]},{"id":"40d69eb4.204068","type":"function","z":"eda2f12a.3ee13","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":3680,"wires":[["65eef5a4.93017c"]]},{"id":"d2d5169b.359b2","type":"comment","z":"eda2f12a.3ee13","name":"OD mesaurements","info":"","x":790,"y":3600,"wires":[]},{"id":"dbb72793.edeb58","type":"function","z":"eda2f12a.3ee13","name":"255","func":"if (flow.get(\"measBLtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":910,"y":4220,"wires":[["52725f5e.8184b8","eb823fe3.ae46a8"]]},{"id":"52725f5e.8184b8","type":"function","z":"eda2f12a.3ee13","name":"measBLtotal","func":"msg.delay=flow.get(\"measBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":4280,"wires":[["2f772aa2.81d126"]]},{"id":"2f772aa2.81d126","type":"delay","z":"eda2f12a.3ee13","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1050,"y":4320,"wires":[["dbb72793.edeb58"]]},{"id":"8e8ca1ae.7f9e98","type":"trigger","z":"eda2f12a.3ee13","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1350,"y":4240,"wires":[["a1c1e014.84677","142264e3.36a2b3"]]},{"id":"304cc350.4ffe04","type":"comment","z":"eda2f12a.3ee13","name":"BL mesaurements","info":"","x":910,"y":4180,"wires":[]},{"id":"eb823fe3.ae46a8","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"delay","timeout":"7","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1180,"y":4200,"wires":[["8e8ca1ae.7f9e98","20a16c4a.43052c"]]},{"id":"65bb4013.575de8","type":"function","z":"eda2f12a.3ee13","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":4220,"wires":[["2f772aa2.81d126","8e8ca1ae.7f9e98","eb823fe3.ae46a8","183d60ec.41134f","d2cccdcd.d237c8"]]},{"id":"8d4f4998.c902","type":"link in","z":"eda2f12a.3ee13","name":"->BLmeas","links":["ae812286.2a0f48"],"x":335,"y":4220,"wires":[["65bb4013.575de8"]]},{"id":"142264e3.36a2b3","type":"function","z":"eda2f12a.3ee13","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":4220,"wires":[["edec7e32.736a28"]]},{"id":"a1c1e014.84677","type":"function","z":"eda2f12a.3ee13","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":4260,"wires":[["65eef5a4.93017c"]]},{"id":"1f2c7ffb.ad8858","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1540,"wires":[["b20819fc.5da1b8"]]},{"id":"b20819fc.5da1b8","type":"link out","z":"eda2f12a.3ee13","name":"STOP17.0","links":["91a352cf.2411c","5ffb6b0e.5b3d14","c58951a5.56b19","5e6446e7.05f7e8","48c11f9d.37dde","7b3e4ac7.65d3e4"],"x":1295,"y":1540,"wires":[]},{"id":"91a352cf.2411c","type":"link in","z":"eda2f12a.3ee13","name":"->IT,BL,FAN","links":["b20819fc.5da1b8"],"x":1475,"y":3640,"wires":[["edec7e32.736a28","96137171.ce0c2","ab0e4e69.94edc"]]},{"id":"e16813c6.dcefe","type":"ui_button","z":"eda2f12a.3ee13","name":"02 OD realtime value","group":"9ebd0a8a.c990b8","order":11,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3380,"wires":[[]]},{"id":"e8cce2ef.49b6b8","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.label=msg.payload;\nif (msg.payload>150){\n    msg.background=\"red\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3380,"wires":[["e16813c6.dcefe"]]},{"id":"e5427ae2.27a2a8","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.label=msg.payload;\nif (msg.payload>300){\n    msg.background=\"#44cff1\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3420,"wires":[["53b83669.24d008"]]},{"id":"53b83669.24d008","type":"ui_button","z":"eda2f12a.3ee13","name":"03 BL realtime value","group":"9ebd0a8a.c990b8","order":18,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3420,"wires":[[]]},{"id":"df4026dd.ab6de8","type":"comment","z":"eda2f12a.3ee13","name":"Display:","info":"","x":1800,"y":3340,"wires":[]},{"id":"183d60ec.41134f","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":3900,"wires":[["886ca3a4.b9a49"]]},{"id":"886ca3a4.b9a49","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=true;\nreturn msg;\n\n","outputs":1,"noerr":0,"x":750,"y":3940,"wires":[["dbb72793.edeb58","b71e654b.e6185","ccc25581.846ea","b5a7c76b.c6cd88"]]},{"id":"e7fa3cde.b8376","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.delay=flow.get(\"delaytotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3860,"wires":[["183d60ec.41134f","6c3a037f.11b654","b5a7c76b.c6cd88"]]},{"id":"6c3a037f.11b654","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3880,"wires":[["499cbdf9.1dab74"]]},{"id":"f5548b60.4d827","type":"comment","z":"eda2f12a.3ee13","name":"growth delay","info":"","x":770,"y":3820,"wires":[]},{"id":"c8e46cbb.330e48","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.delay=flow.get(\"tillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4740,"wires":[["25ae5e62.39d132"]]},{"id":"25ae5e62.39d132","type":"delay","z":"eda2f12a.3ee13","name":"part","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4740,"wires":[["e20bd7b1.1334d"]]},{"id":"b71e654b.e6185","type":"function","z":"eda2f12a.3ee13","name":"","func":"if (flow.get(\"pillBLtotal\") === 0 || flow.get(\"tillBLtotal\") === 0){\n    return;\n}\nelse{\n    msg.payload=flow.get(\"intBL\");\n    msg.state=\"ON\";\n    return msg;\n}\n\n\n","outputs":1,"noerr":0,"x":910,"y":4600,"wires":[["c8e46cbb.330e48","d0c401fb.593868","ef611b1a.7ff55","d267b078.b4cfa","136378f4.ec76c7"]]},{"id":"e20bd7b1.1334d","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=0;\nmsg.state=\"OFF\";\nreturn msg;\n","outputs":1,"noerr":0,"x":1010,"y":4740,"wires":[["ef611b1a.7ff55","d267b078.b4cfa","136378f4.ec76c7"]]},{"id":"d0c401fb.593868","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.delay=flow.get(\"pillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4700,"wires":[["b35bb3cf.2ebac8"]]},{"id":"b35bb3cf.2ebac8","type":"delay","z":"eda2f12a.3ee13","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4700,"wires":[["b71e654b.e6185"]]},{"id":"e2733e51.3cd5e8","type":"function","z":"eda2f12a.3ee13","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":4620,"wires":[["b35bb3cf.2ebac8","25ae5e62.39d132","48a5d093.15b8c8","136378f4.ec76c7"]]},{"id":"47640ef6.2b2678","type":"comment","z":"eda2f12a.3ee13","name":"Cycle w sous cycle la: cool pr la blue LED","info":"","x":990,"y":4500,"wires":[]},{"id":"aa4f21cd.f9f11","type":"link in","z":"eda2f12a.3ee13","name":"->BLcycle","links":["ae812286.2a0f48"],"x":635,"y":4620,"wires":[["e2733e51.3cd5e8"]]},{"id":"ef611b1a.7ff55","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"BLstate","pt":"flow","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":4560,"wires":[[]]},{"id":"3cc7177b.4c4ed8","type":"inject","z":"eda2f12a.3ee13","name":"","topic":"","payload":"OFF","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":890,"y":4540,"wires":[["48a5d093.15b8c8"]]},{"id":"d9c7575c.a5eea8","type":"function","z":"eda2f12a.3ee13","name":"for FAN","func":"if (flow.get(\"FANstate\")===\"ON\"){\n    msg.payload=flow.get(\"intFAN\");\n}\nelse if (flow.get(\"FANstate\")===\"OFF\"){\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":3000,"wires":[["ddb5d067.74425"]]},{"id":"5ffb6b0e.5b3d14","type":"link in","z":"eda2f12a.3ee13","name":"->PID","links":["b20819fc.5da1b8"],"x":455,"y":3140,"wires":[["c136847b.2a383"]]},{"id":"d6c99f45.ed3bf","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.label=\"Initialization\";\nmsg.background=\"#f39c12\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1640,"wires":[["b0ddf18f.9f1b98"]]},{"id":"39d54.8687f2ac8","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":200,"y":1600,"wires":[["4635b936.7cdc1"]]},{"id":"84053bf3.8ad758","type":"ui_button","z":"eda2f12a.3ee13","name":"06 Temp realtime value","group":"9ebd0a8a.c990b8","order":39,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1970,"y":3460,"wires":[[]]},{"id":"d14d7c96.aa7d48","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.label=msg.payload;\nif (flow.get(\"PIDstate\")>0){\n    msg.background=\"#fdedec\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3460,"wires":[["84053bf3.8ad758"]]},{"id":"4f0e2367.c365c4","type":"ui_button","z":"eda2f12a.3ee13","name":"05 BLstate","group":"9ebd0a8a.c990b8","order":27,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1470,"y":4600,"wires":[[]]},{"id":"d267b078.b4cfa","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.label=msg.state;\nif (msg.label===\"ON\"){\n    msg.background=\"#ebf5fb\";\n}\nelse if (msg.label===\"OFF\"){\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":4600,"wires":[["4f0e2367.c365c4"]]},{"id":"48a5d093.15b8c8","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.state=\"OFF\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":4540,"wires":[["ef611b1a.7ff55","d267b078.b4cfa"]]},{"id":"b7f52a72.394488","type":"function","z":"eda2f12a.3ee13","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"pillBLtotal\")/1000-(msg.count%(flow.get(\"pillBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":620,"wires":[["45e1c230.df1c44"]]},{"id":"b6668cde.7efe8","type":"ui_button","z":"eda2f12a.3ee13","name":"04 pillBL Cycle counter","group":"9ebd0a8a.c990b8","order":26,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3330,"y":600,"wires":[[]]},{"id":"376d4ecf.b04532","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=flow.get(\"pillBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":580,"wires":[["45e1c230.df1c44","2a54ff86.ab8d2"]]},{"id":"f54108f5.c6fbc8","type":"counter","z":"eda2f12a.3ee13","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":680,"wires":[["b7f52a72.394488"]]},{"id":"338f68bd.afad38","type":"function","z":"eda2f12a.3ee13","name":"","func":"if (flow.get(\"counterpillBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"counterpillBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":640,"wires":[["f54108f5.c6fbc8"]]},{"id":"ccc25581.846ea","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"counterpillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":4460,"wires":[[]]},{"id":"b4aff144.23f498","type":"inject","z":"eda2f12a.3ee13","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4480,"wires":[["a71318ee.24e36"]]},{"id":"a71318ee.24e36","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4460,"wires":[["ccc25581.846ea"]]},{"id":"9fd0d41d.ff3d38","type":"link in","z":"eda2f12a.3ee13","name":"->Counter","links":["ae812286.2a0f48"],"x":415,"y":4440,"wires":[["a71318ee.24e36"]]},{"id":"7e61305f.bfa088","type":"inject","z":"eda2f12a.3ee13","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"3","x":190,"y":1520,"wires":[["be0478af.776ef"]]},{"id":"cd05049f.f3ac38","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":1,"width":"3","height":"1","name":"00 eVOLVER13","label":"<font size =5>eVOLVER13","format":"{{msg.payload}}","layout":"row-center","x":700,"y":60,"wires":[]},{"id":"7dd373da.7d5acc","type":"link out","z":"eda2f12a.3ee13","name":"enabled->","links":["4dea90fc.2f6ab"],"x":955,"y":2080,"wires":[]},{"id":"5e6446e7.05f7e8","type":"link in","z":"eda2f12a.3ee13","name":"->GL","links":["b20819fc.5da1b8"],"x":255,"y":2120,"wires":[["b5521a80.4fe0e","9c83083e.cce2"]]},{"id":"f49ddf1c.da1fb8","type":"comment","z":"eda2f12a.3ee13","name":"01","info":"","x":550,"y":60,"wires":[]},{"id":"76b4664.10ad698","type":"comment","z":"eda2f12a.3ee13","name":"02 ODmeas","info":"","x":650,"y":180,"wires":[]},{"id":"8d4bc57c.55e68","type":"comment","z":"eda2f12a.3ee13","name":"03 BLmeas","info":"","x":670,"y":300,"wires":[]},{"id":"57a42b4d.f8198c","type":"link in","z":"eda2f12a.3ee13","name":"->ARDUINO FAN","links":["50c430ba.2ff9a8","ddb5d067.74425"],"x":1275,"y":3820,"wires":[["65eef5a4.93017c"]]},{"id":"8e4959df.8b8928","type":"link in","z":"eda2f12a.3ee13","name":"->ARDUINO IR","links":["2665dcd4.f4cc6c"],"x":1695,"y":3640,"wires":[["96137171.ce0c2"]]},{"id":"b26e6aff.c0e65","type":"link in","z":"eda2f12a.3ee13","name":"->ARDUINO BL","links":["136378f4.ec76c7","88657c7.93b3c8"],"x":1615,"y":3760,"wires":[["edec7e32.736a28"]]},{"id":"136378f4.ec76c7","type":"link out","z":"eda2f12a.3ee13","name":"BLcycle->BL","links":["b26e6aff.c0e65"],"x":1235,"y":4660,"wires":[]},{"id":"ddb5d067.74425","type":"link out","z":"eda2f12a.3ee13","name":"Fancontrol","links":["57a42b4d.f8198c"],"x":895,"y":3000,"wires":[]},{"id":"50c430ba.2ff9a8","type":"link out","z":"eda2f12a.3ee13","name":"Fansetup","links":["57a42b4d.f8198c"],"x":1735,"y":1060,"wires":[]},{"id":"2665dcd4.f4cc6c","type":"link out","z":"eda2f12a.3ee13","name":"IRsetup","links":["8e4959df.8b8928"],"x":1115,"y":180,"wires":[]},{"id":"88657c7.93b3c8","type":"link out","z":"eda2f12a.3ee13","name":"BLcycle->BL","links":["b26e6aff.c0e65"],"x":1135,"y":300,"wires":[]},{"id":"87e9a130.ff00a8","type":"link out","z":"eda2f12a.3ee13","name":"PIDsetup->","links":["acb3497d.80c5d8"],"x":1295,"y":880,"wires":[]},{"id":"acb3497d.80c5d8","type":"link in","z":"eda2f12a.3ee13","name":"->ARDUINO HEATER","links":["87e9a130.ff00a8","adac9125.ca28a8"],"x":1215,"y":3140,"wires":[["877545fa.2686a8"]]},{"id":"9c83083e.cce2","type":"link out","z":"eda2f12a.3ee13","name":"GRlaunch->","links":["a951f365.f18018"],"x":515,"y":2160,"wires":[]},{"id":"a951f365.f18018","type":"link in","z":"eda2f12a.3ee13","name":"->GL","links":["9c83083e.cce2"],"x":1035,"y":120,"wires":[["2a514986.85997e"]]},{"id":"bc4dfe9.a563c8","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":800,"y":3160,"wires":[["9424a114.af8488"]]},{"id":"b0f31afa.4d006","type":"PID","z":"eda2f12a.3ee13","name":"","setpoint":"550","pb":"0","ti":"900","td":0,"integral_default":0.5,"smooth_factor":3,"max_interval":600,"enable":"0","disabled_op":0,"x":1010,"y":3100,"wires":[["f6610773.c3fb78","86b5d233.7803f"]]},{"id":"b0ba99c2.9d126","type":"arduino in","z":"eda2f12a.3ee13","name":"TempSensor","pin":"0","state":"ANALOG","arduino":"28efad38.45a01a","x":750,"y":3120,"wires":[["bc4dfe9.a563c8","35a0a7e3.adbfd8"]]},{"id":"877545fa.2686a8","type":"arduino out","z":"eda2f12a.3ee13","name":"Heater","pin":"4","state":"OUTPUT","arduino":"28efad38.45a01a","x":1330,"y":3100,"wires":[]},{"id":"f6610773.c3fb78","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"PIDstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":3060,"wires":[[]]},{"id":"7d87365f.bca13","type":"inject","z":"eda2f12a.3ee13","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":"0.3","x":1130,"y":3020,"wires":[["f6610773.c3fb78"]]},{"id":"c136847b.2a383","type":"function","z":"eda2f12a.3ee13","name":"","func":"if (msg.payload===true){\n    msg.enable=1;\n}\nif (msg.payload===0){\n    msg.enable=0;\n}\nif (flow.get(\"PID\")===\"OFF\"){\n    msg.enable=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3080,"wires":[["b0f31afa.4d006"]]},{"id":"9424a114.af8488","type":"function","z":"eda2f12a.3ee13","name":"setpoint","func":"msg.setpoint=flow.get(\"Temp\");\nreturn msg;","outputs":1,"noerr":0,"x":840,"y":3200,"wires":[["b0f31afa.4d006"]]},{"id":"93d164d8.5f8028","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":940,"y":980,"wires":[["6ce3a7ea.704a3"]]},{"id":"6ce3a7ea.704a3","type":"function","z":"eda2f12a.3ee13","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    msg.payload=0;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1210,"y":960,"wires":[["3c3195c6.48007a"]]},{"id":"86b5d233.7803f","type":"function","z":"eda2f12a.3ee13","name":"","func":"if (flow.get(\"launched\")===false){\n    return;\n}\nelse if (flow.get(\"launched\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":1170,"y":3100,"wires":[["877545fa.2686a8"]]},{"id":"c9b65c4.03057a","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"launched","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1960,"wires":[[]]},{"id":"6e603628.61d418","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":800,"wires":[[]]},{"id":"c29ece6f.d2fec","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"PID","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":860,"wires":[["b0687617.87caf"]]},{"id":"3580e51d.52132a","type":"inject","z":"eda2f12a.3ee13","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":250,"y":1960,"wires":[["c9b65c4.03057a"]]},{"id":"cba10dcc.368e","type":"link in","z":"eda2f12a.3ee13","name":"->launched","links":["ae812286.2a0f48"],"x":275,"y":2000,"wires":[["c9b65c4.03057a"]]},{"id":"127f0a89.88eb6d","type":"function","z":"eda2f12a.3ee13","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    return msg;\n}\n","outputs":1,"noerr":0,"x":910,"y":940,"wires":[["93d164d8.5f8028"]]},{"id":"625e757b.d996d4","type":"inject","z":"eda2f12a.3ee13","name":"INITIALIZATION","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":290,"y":720,"wires":[["c13fec8.5f7dd1"]]},{"id":"c13fec8.5f7dd1","type":"function","z":"eda2f12a.3ee13","name":"initialization","func":"\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":740,"wires":[["2405bc94.e2bd7c","801d1b0e.4fdcf8","3468ea9d.b024e6","3e17f409.cc346c","41bb0f68.1dbab8","8ac85221.28a2","7c07a113.b35688","1099def7.e90259","8c657413.7b91a8"]]},{"id":"58d37483.99690c","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=10;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":180,"wires":[["aacad92a.483e2","ab4faaff.241c78","8c7b2081.8bb218"]]},{"id":"ab4faaff.241c78","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1670,"y":180,"wires":[["4a162d4.eb8f2d4","e23e4466.06698","40f67dad.c06e24"]]},{"id":"8c7b2081.8bb218","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":300,"wires":[["3cf8df00.efdad","61f1a57a.85829c"]]},{"id":"61f1a57a.85829c","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1710,"y":300,"wires":[["9b78784a.838d38"]]},{"id":"153e97f8.d1924","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":520,"wires":[["ecc2e882.7c663","66116dd3.92a514"]]},{"id":"66116dd3.92a514","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=\"seconds\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":520,"wires":[["781d55ad.5004fc"]]},{"id":"2405bc94.e2bd7c","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=1;\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":520,"wires":[["2cd2ee6.bc1bb92","252c2d46.6c1fc2"]]},{"id":"252c2d46.6c1fc2","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":520,"wires":[["7799cefc.2839b8","153e97f8.d1924"]]},{"id":"c9c80d02.aa9798","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":1140,"wires":[["42deee3e.e16af8","b9d027e2.7732d8"]]},{"id":"801d1b0e.4fdcf8","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":1140,"wires":[["4828c2b3.5d72bc","c9c80d02.aa9798"]]},{"id":"3468ea9d.b024e6","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=550;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":840,"wires":[["e8663b18.29f6f8"]]},{"id":"3e17f409.cc346c","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":880,"wires":[["3c3195c6.48007a"]]},{"id":"b9d027e2.7732d8","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":1020,"wires":[["45c5792a.355a78","32b7ccd.e8797b4"]]},{"id":"32b7ccd.e8797b4","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=100;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":980,"wires":[["3b1cb73d.936138","4ca963b1.ed1364"]]},{"id":"4ca963b1.ed1364","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":800,"wires":[["c29ece6f.d2fec","e4d92636.b5012"]]},{"id":"41bb0f68.1dbab8","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":1020,"wires":[["2728dd84.3c455a"]]},{"id":"8ac85221.28a2","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":420,"wires":[["e794255c.0f0918"]]},{"id":"8c657413.7b91a8","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":300,"wires":[["7e8f2e30.fd862"]]},{"id":"1099def7.e90259","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":180,"wires":[["6d1f41f1.aa97c","e7663fa0.24575"]]},{"id":"7c07a113.b35688","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":60,"wires":[["81469c47.570d48"]]},{"id":"e7663fa0.24575","type":"function","z":"eda2f12a.3ee13","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":60,"wires":[["ca41843.d153a78","58d37483.99690c"]]},{"id":"fed733ff.f2db08","type":"link in","z":"eda2f12a.3ee13","name":"->initialization","links":["736c1126.17d4c8"],"x":375,"y":760,"wires":[["c13fec8.5f7dd1"]]},{"id":"45c5792a.355a78","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1480,"y":1060,"wires":[["14071445.98c45c"]]},{"id":"45e1c230.df1c44","type":"function","z":"eda2f12a.3ee13","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":600,"wires":[["b6668cde.7efe8"]]},{"id":"f9193a01.332098","type":"inject","z":"eda2f12a.3ee13","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":640,"wires":[["338f68bd.afad38"]]},{"id":"c92776c3.0648f8","type":"function","z":"eda2f12a.3ee13","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measODtotal\")/1000-(msg.count%(flow.get(\"measODtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":300,"wires":[["7d3aa5d1.84d07c"]]},{"id":"cdf7026b.a19f78","type":"ui_button","z":"eda2f12a.3ee13","name":"02 ODmeas Cycle counter","group":"9ebd0a8a.c990b8","order":10,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":280,"wires":[[]]},{"id":"e23e4466.06698","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=flow.get(\"measODtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":260,"wires":[["7d3aa5d1.84d07c","22ef4c0.f5aa0b4"]]},{"id":"cd9ed97b.1d3a68","type":"counter","z":"eda2f12a.3ee13","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":360,"wires":[["c92776c3.0648f8"]]},{"id":"d79d9a6.c1676e8","type":"function","z":"eda2f12a.3ee13","name":"","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}if (flow.get(\"countermeasOD\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasOD\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":320,"wires":[["cd9ed97b.1d3a68"]]},{"id":"7d3aa5d1.84d07c","type":"function","z":"eda2f12a.3ee13","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":280,"wires":[["cdf7026b.a19f78"]]},{"id":"a2fd06d2.241198","type":"inject","z":"eda2f12a.3ee13","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":320,"wires":[["d79d9a6.c1676e8"]]},{"id":"fc421c18.b96708","type":"function","z":"eda2f12a.3ee13","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measBLtotal\")/1000-(msg.count%(flow.get(\"measBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":460,"wires":[["decdf87f.3e1a38"]]},{"id":"1b4eafb.3e4055","type":"ui_button","z":"eda2f12a.3ee13","name":"03 BLmeas Cycle counter","group":"9ebd0a8a.c990b8","order":17,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":440,"wires":[[]]},{"id":"22ef4c0.f5aa0b4","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=flow.get(\"measBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":420,"wires":[["decdf87f.3e1a38","376d4ecf.b04532"]]},{"id":"7d80a88c.3df0f8","type":"counter","z":"eda2f12a.3ee13","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":520,"wires":[["fc421c18.b96708"]]},{"id":"19bed64a.96229a","type":"function","z":"eda2f12a.3ee13","name":"","func":"if (flow.get(\"countermeasBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":480,"wires":[["7d80a88c.3df0f8"]]},{"id":"decdf87f.3e1a38","type":"function","z":"eda2f12a.3ee13","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":440,"wires":[["1b4eafb.3e4055"]]},{"id":"603f3752.6c928","type":"inject","z":"eda2f12a.3ee13","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":480,"wires":[["19bed64a.96229a"]]},{"id":"3f8c0cd9.3acd64","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"countermeasBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1010,"y":4140,"wires":[[]]},{"id":"34d8fe14.feecea","type":"inject","z":"eda2f12a.3ee13","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4160,"wires":[["2703f82b.4ab9"]]},{"id":"2703f82b.4ab9","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4140,"wires":[["3f8c0cd9.3acd64"]]},{"id":"ec57ee8a.e1092","type":"link in","z":"eda2f12a.3ee13","name":"->Counter","links":["ae812286.2a0f48"],"x":415,"y":4120,"wires":[["2703f82b.4ab9"]]},{"id":"bb6d4693.db8618","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"countermeasOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3560,"wires":[[]]},{"id":"125b3b56.2b0a15","type":"inject","z":"eda2f12a.3ee13","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":230,"y":3580,"wires":[["ad20f4fc.735a9"]]},{"id":"ad20f4fc.735a9","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":3560,"wires":[["bb6d4693.db8618"]]},{"id":"51e92b54.106b4c","type":"link in","z":"eda2f12a.3ee13","name":"->Counter","links":["ae812286.2a0f48"],"x":255,"y":3540,"wires":[["ad20f4fc.735a9"]]},{"id":"20a16c4a.43052c","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":4040,"wires":[["3f8c0cd9.3acd64"]]},{"id":"67082444.be9b04","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":900,"wires":[["2bb74d4e.9a1882"]]},{"id":"d94111b6.062968","type":"counter","z":"eda2f12a.3ee13","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":980,"wires":[["e594c3e8.eb8138"]]},{"id":"1eb5d8a0.677e87","type":"function","z":"eda2f12a.3ee13","name":"","func":"if (flow.get(\"counterlaunch\")===false){\n    return;\n}\nelse if (flow.get(\"counterlaunch\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":940,"wires":[["d94111b6.062968"]]},{"id":"2bb74d4e.9a1882","type":"function","z":"eda2f12a.3ee13","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3120,"y":920,"wires":[["78f704b8.b1acbc","591ef83.ab65508"]]},{"id":"5ebafe45.702c","type":"inject","z":"eda2f12a.3ee13","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":940,"wires":[["1eb5d8a0.677e87"]]},{"id":"78f704b8.b1acbc","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":53,"width":"4","height":"1","name":"09 elapsed time","label":"Elapsed time: ","format":"{{msg.payload}}","layout":"row-left","x":3280,"y":940,"wires":[]},{"id":"e594c3e8.eb8138","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=msg.count;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":940,"wires":[["2bb74d4e.9a1882"]]},{"id":"d14f5033.2cffb8","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"counterlaunch","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":2880,"wires":[[]]},{"id":"ee7b4c2.cb7acb","type":"inject","z":"eda2f12a.3ee13","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":270,"y":2900,"wires":[["203ea51a.67ad7a"]]},{"id":"203ea51a.67ad7a","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":2880,"wires":[["d14f5033.2cffb8"]]},{"id":"aa626643.a3a278","type":"link in","z":"eda2f12a.3ee13","name":"->Counter","links":["ae812286.2a0f48"],"x":295,"y":2860,"wires":[["203ea51a.67ad7a"]]},{"id":"3ae68d64.8b2352","type":"function","z":"eda2f12a.3ee13","name":"","func":"if (msg.count>=flow.get(\"delaytotal\")/1000){\n    msg.payload=0;\n}\nelse {\n    msg.payload=flow.get(\"delaytotal\")/1000-(msg.count%(flow.get(\"delaytotal\")/1000));\n\n}\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":780,"wires":[["c305d37b.31272"]]},{"id":"b37b5667.4e4378","type":"ui_button","z":"eda2f12a.3ee13","name":"08 growthdelay Cycle counter","group":"9ebd0a8a.c990b8","order":50,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3350,"y":760,"wires":[[]]},{"id":"2a54ff86.ab8d2","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=flow.get(\"delaytotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":740,"wires":[["c305d37b.31272","67082444.be9b04"]]},{"id":"aaa8fab4.a87868","type":"counter","z":"eda2f12a.3ee13","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":840,"wires":[["3ae68d64.8b2352"]]},{"id":"c178fa71.9a6308","type":"function","z":"eda2f12a.3ee13","name":"","func":"if (flow.get(\"delaytotal\")===0){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===false){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":800,"wires":[["aaa8fab4.a87868"]]},{"id":"c305d37b.31272","type":"function","z":"eda2f12a.3ee13","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":760,"wires":[["b37b5667.4e4378"]]},{"id":"4936e942.3e63b","type":"inject","z":"eda2f12a.3ee13","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":800,"wires":[["c178fa71.9a6308"]]},{"id":"499cbdf9.1dab74","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"counterdelay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1040,"y":3840,"wires":[[]]},{"id":"e1101eff.fb0348","type":"inject","z":"eda2f12a.3ee13","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":430,"y":3860,"wires":[["9d8cb19e.c631a"]]},{"id":"9d8cb19e.c631a","type":"function","z":"eda2f12a.3ee13","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":3840,"wires":[["499cbdf9.1dab74","b5a7c76b.c6cd88"]]},{"id":"3cb2df7a.dea7c","type":"link in","z":"eda2f12a.3ee13","name":"->Counter","links":["ae812286.2a0f48"],"x":455,"y":3820,"wires":[["9d8cb19e.c631a"]]},{"id":"4dcf2c4c.8228ac","type":"ui_text","z":"eda2f12a.3ee13","group":"9ebd0a8a.c990b8","order":51,"width":"2","height":"1","name":"08 growth delay status","label":"","format":"{{msg.payload}}","layout":"row-center","x":1110,"y":3960,"wires":[]},{"id":"b5a7c76b.c6cd88","type":"function","z":"eda2f12a.3ee13","name":"","func":"if (msg.payload===false){\n    msg.payload=\"delay status\";\n}\nif (msg.payload===\"delay\"){\n    msg.payload=\"ongoing\";\n}\nelse if (msg.payload===true){\n    msg.payload=\"over\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3960,"wires":[["4dcf2c4c.8228ac"]]},{"id":"44ad3ded.59976c","type":"function","z":"eda2f12a.3ee13","name":"reset","func":"msg.reset=true;\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2410,"y":540,"wires":[["cd9ed97b.1d3a68","f54108f5.c6fbc8","aaa8fab4.a87868","d94111b6.062968"]]},{"id":"40f67dad.c06e24","type":"delay","z":"eda2f12a.3ee13","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":2240,"y":520,"wires":[["44ad3ded.59976c"]]},{"id":"591ef83.ab65508","type":"change","z":"eda2f12a.3ee13","name":"","rules":[{"t":"set","p":"elapsed","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3290,"y":900,"wires":[[]]},{"id":"f2f45c20.db3dd","type":"function","z":"eda2f12a.3ee13","name":"elapsed","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=\"Elapsed time \"+flow.get(\"elapsed\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":1660,"wires":[["2dfc83b2.e7075c"]]},{"id":"2dfc83b2.e7075c","type":"file","z":"eda2f12a.3ee13","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1270,"y":1660,"wires":[[]]},{"id":"4aee5831.562378","type":"comment","z":"eda2f12a.3ee13","name":"BOUGZY DEPLOY","info":"","x":2590,"y":80,"wires":[]},{"id":"1fd66dc1.7335e2","type":"arduino out","z":"cafacf4c.e0827","name":"GL17","pin":"3","state":"OUTPUT","arduino":"486e3895.7ccb6","x":1130,"y":60,"wires":[]},{"id":"6b4f9491.190e04","type":"arduino out","z":"cafacf4c.e0827","name":"YL17","pin":"2","state":"OUTPUT","arduino":"486e3895.7ccb6","x":1550,"y":60,"wires":[]},{"id":"2b59bf75.9856c","type":"ui_slider","z":"cafacf4c.e0827","name":"05 intensity:","label":"intensity:","tooltip":"","group":"a6258d41.e8e188","order":30,"width":"7","height":"1","passthru":true,"outs":"end","topic":"","min":0,"max":"255","step":"1","x":1170,"y":420,"wires":[["cd6e8075.4b4ca","d77da45b.f10468"]]},{"id":"8ab22cba.9ba1a","type":"ui_numeric","z":"cafacf4c.e0827","name":"06 and set to 480","label":"and set to","tooltip":"","group":"a6258d41.e8e188","order":37,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"1025","step":"1","x":1030,"y":840,"wires":[["ef897acf.b60b5"]]},{"id":"b6af412d.0d5fe8","type":"ui_switch","z":"cafacf4c.e0827","name":"01 GL17","label":"","tooltip":"","group":"a6258d41.e8e188","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"green","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"green","x":1000,"y":60,"wires":[["1fd66dc1.7335e2"]]},{"id":"89e50bc8.ff889","type":"ui_switch","z":"cafacf4c.e0827","name":"01 YL17","label":"","tooltip":"","group":"a6258d41.e8e188","order":4,"width":"1","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#e2c43c","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"#e2c43c","x":1420,"y":60,"wires":[["6b4f9491.190e04"]]},{"id":"4b40e03b.4750f8","type":"ui_switch","z":"cafacf4c.e0827","name":"02 IR17","label":"","tooltip":"","group":"a6258d41.e8e188","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"red","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1000,"y":180,"wires":[["ee64bc8d.a1e228"]]},{"id":"65bb65e4.da14c4","type":"ui_switch","z":"cafacf4c.e0827","name":"03 BL17","label":"","tooltip":"","group":"a6258d41.e8e188","order":12,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#44cff1","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1020,"y":300,"wires":[["d77da45b.f10468"]]},{"id":"3f4ee572.f180ea","type":"ui_switch","z":"cafacf4c.e0827","name":"07 FAN","label":"","tooltip":"","group":"a6258d41.e8e188","order":40,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"toys","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1620,"y":1080,"wires":[["f7e847c9.2195c"]]},{"id":"e85f969f.166758","type":"ui_switch","z":"cafacf4c.e0827","name":"06 T01 PID","label":"","tooltip":"","group":"a6258d41.e8e188","order":33,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"enable","style":"","onvalue":"1","onvalueType":"num","onicon":"hot_tub","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1030,"y":880,"wires":[["53350839.9a293","7aace39b.719e84"]]},{"id":"610e2fb9.1fb62","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":25,"width":"2","height":"1","name":"04 spacer","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1770,"y":520,"wires":[]},{"id":"e6d79ba0.3e04c8","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":46,"width":"7","height":"1","name":"07 last spacer","label":"(produces sound: fine).","format":"{{msg.payload}}","layout":"row-spread","x":1960,"y":1020,"wires":[]},{"id":"5abe0df5.79052c","type":"ui_numeric","z":"cafacf4c.e0827","name":"02 every 5","label":"every","tooltip":"","group":"a6258d41.e8e188","order":7,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1450,"y":220,"wires":[["2aa8f5c0.b6969a"]]},{"id":"24b0e7f9.ea0e1","type":"ui_dropdown","z":"cafacf4c.e0827","name":"02 minutes","label":"","tooltip":"","place":"Select option","group":"a6258d41.e8e188","order":8,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1690,"y":220,"wires":[["79ebaac9.eac404"]]},{"id":"c43e8697.3fe73","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"measODtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2280,"y":320,"wires":[["4d5f8735.211a68"]]},{"id":"a14cf538.a839","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":9,"width":"7","height":"1","name":"02 (takes 5 seconds)","label":"(takes 5 seconds).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":180,"wires":[]},{"id":"12bd4747.6132e9","type":"ui_numeric","z":"cafacf4c.e0827","name":"03 every 5","label":"every","tooltip":"","group":"a6258d41.e8e188","order":14,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1490,"y":340,"wires":[["5cd60f1.09b437"]]},{"id":"b48bdb0b.4d2a48","type":"ui_dropdown","z":"cafacf4c.e0827","name":"03 minutes","label":"","tooltip":"","place":"Select option","group":"a6258d41.e8e188","order":15,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1730,"y":340,"wires":[["947851af.de5f98"]]},{"id":"5cd60f1.09b437","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"measBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":380,"wires":[["8003c7e3.42ac98"]]},{"id":"ce32aae0.3cddb8","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"measBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1940,"y":380,"wires":[["8003c7e3.42ac98"]]},{"id":"2e6ca6dd.960ff2","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":16,"width":"7","height":"1","name":"03 (takes 5 seconds)","label":"(takes 5 secs, max illum., shifted timing).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":300,"wires":[]},{"id":"cd6e8075.4b4ca","type":"ui_numeric","z":"cafacf4c.e0827","name":"05 at 255","label":"at","tooltip":"","group":"a6258d41.e8e188","order":29,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":"1","x":1020,"y":420,"wires":[["13c86151.3eb807","2b59bf75.9856c"]]},{"id":"13c86151.3eb807","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"intBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":460,"wires":[[]]},{"id":"fcef2bfd.e84e68","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":6,"width":"3","height":"1","name":"02 Meaure OD:","label":"Measure OD:","format":"{{msg.payload}}","layout":"row-spread","x":1280,"y":180,"wires":[]},{"id":"4001a38a.1ee2dc","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":13,"width":"3","height":"1","name":"03 Meaure BL:","label":"Measure BL:","format":"{{msg.payload}}","layout":"row-spread","x":1340,"y":300,"wires":[]},{"id":"453614e5.b76f0c","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":28,"width":"4","height":"1","name":"05 spacer1","label":"","format":"{{msg.payload}}","layout":"row-spread","x":710,"y":420,"wires":[]},{"id":"b837f35d.b32b38","type":"ui_button","z":"cafacf4c.e0827","name":"05 OK","group":"a6258d41.e8e188","order":31,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1350,"y":420,"wires":[["65bb65e4.da14c4"]]},{"id":"20439db.86bbc62","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":19,"width":"1","height":"1","name":"04 - -","label":"","format":"{{msg.payload}}","layout":"row-spread","x":630,"y":520,"wires":[]},{"id":"76215f5e.6d1498","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":20,"width":"3","height":"1","name":"04 Illuminate BL:","label":"Illuminate BL:","format":"{{msg.payload}}","layout":"row-spread","x":670,"y":560,"wires":[]},{"id":"76136321.6d8e94","type":"ui_numeric","z":"cafacf4c.e0827","name":"04 every 1","label":"every","tooltip":"","group":"a6258d41.e8e188","order":21,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":850,"y":560,"wires":[["659d4afd.fd9254"]]},{"id":"50a4ff84.28cea","type":"ui_dropdown","z":"cafacf4c.e0827","name":"04 hour","label":"","tooltip":"","place":"Select option","group":"a6258d41.e8e188","order":22,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1080,"y":560,"wires":[["8026eda9.fad9"]]},{"id":"659d4afd.fd9254","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"pillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":600,"wires":[["abfcc3c0.07eb1"]]},{"id":"c94f71cc.e9558","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"pillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":640,"wires":[["abfcc3c0.07eb1"]]},{"id":"e69d79be.120e2","type":"ui_numeric","z":"cafacf4c.e0827","name":"04 for 5","label":"for","tooltip":"","group":"a6258d41.e8e188","order":23,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1340,"y":560,"wires":[["c02a0cd4.75c228"]]},{"id":"86b4b148.ef36","type":"ui_dropdown","z":"cafacf4c.e0827","name":"04 minutes","label":"","tooltip":"","place":"Select option","group":"a6258d41.e8e188","order":24,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1590,"y":560,"wires":[["f4979e21.0dbff8"]]},{"id":"c02a0cd4.75c228","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"tillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":600,"wires":[["32745ca2.c01bac"]]},{"id":"96e29678.1a54e8","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"tillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1610,"y":640,"wires":[["32745ca2.c01bac"]]},{"id":"40c2ddc7.e837cc","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":32,"width":"5","height":"1","name":"05 spacer2","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1530,"y":420,"wires":[]},{"id":"ee132a6b.940db8","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":35,"width":"2","height":"1","name":"06 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1850,"y":860,"wires":[]},{"id":"90df9b74.85bb28","type":"ui_switch","z":"cafacf4c.e0827","name":"06 act.switch","label":"","tooltip":"","group":"a6258d41.e8e188","order":36,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"hot_tub","oncolor":"red","offvalue":"OFF","offvalueType":"str","officon":"ac_unit","offcolor":"grey","x":1520,"y":880,"wires":[["eb67cd9d.1dd5b"]]},{"id":"90781ff7.70ef38","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":38,"width":"6","height":"1","name":"06 Volts.","label":"Volts.","format":"{{msg.payload}}","layout":"row-spread","x":1220,"y":840,"wires":[]},{"id":"69f097a9.45bf","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":34,"width":"4","height":"1","name":"06 Temperature control:","label":"Temperature control:","format":"{{msg.payload}}","layout":"row-spread","x":2050,"y":860,"wires":[]},{"id":"d248f45f.c5d5d","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":41,"width":"4","height":"1","name":"07 Fan:","label":"Fan:","format":"{{msg.payload}}","layout":"row-spread","x":700,"y":1060,"wires":[]},{"id":"341156b4.a06b6a","type":"ui_switch","z":"cafacf4c.e0827","name":"07 enable switch","label":"","tooltip":"","group":"a6258d41.e8e188","order":43,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"toys","oncolor":"green","offvalue":"OFF","offvalueType":"str","officon":"radio_button_unchecked","offcolor":"grey","x":910,"y":1060,"wires":[["62d29e1.9a2d66","90d6e295.60b05"]]},{"id":"90d6e295.60b05","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":42,"width":"2","height":"1","name":"07 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1230,"y":1060,"wires":[]},{"id":"62d29e1.9a2d66","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"FANstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1020,"wires":[[]]},{"id":"19eabbcd.78b6a4","type":"ui_numeric","z":"cafacf4c.e0827","name":"07 and set to 100","label":"and set to","tooltip":"","group":"a6258d41.e8e188","order":44,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"255","step":"1","x":1590,"y":1020,"wires":[["22f04037.d126e","f7e847c9.2195c"]]},{"id":"22f04037.d126e","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"intFAN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1780,"y":1000,"wires":[[]]},{"id":"f1edd564.595948","type":"ui_button","z":"cafacf4c.e0827","name":"07 OK","group":"a6258d41.e8e188","order":45,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1430,"y":1100,"wires":[["3f4ee572.f180ea"]]},{"id":"cfdb8449.243b58","type":"ui_numeric","z":"cafacf4c.e0827","name":"08 add delay","label":"Add growing delay of","tooltip":"","group":"a6258d41.e8e188","order":47,"width":"6","height":"1","passthru":true,"topic":"setpoint","format":"{{value}}","min":"0","max":"100","step":"1","x":870,"y":1180,"wires":[["5d51874b.537a9"]]},{"id":"499d850c.a54c04","type":"ui_dropdown","z":"cafacf4c.e0827","name":"08 hour","label":"","tooltip":"","place":"Select option","group":"a6258d41.e8e188","order":48,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1060,"y":1180,"wires":[["7f08aa15.0264fc"]]},{"id":"5d51874b.537a9","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"delay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":1220,"wires":[["2cca5ff4.c0da"]]},{"id":"8f382645.f6cef","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"delayunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1090,"y":1220,"wires":[["2cca5ff4.c0da"]]},{"id":"cc19238d.c46188","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":49,"width":"8","height":"1","name":"08 finalspacer","label":"(during which no BL measure will be made).","format":"{{msg.payload}}","layout":"row-spread","x":1240,"y":1140,"wires":[]},{"id":"da603ac2.1f58e8","type":"ui_text_input","z":"cafacf4c.e0827","name":"09 DETAILS","label":"DETAILS:","tooltip":"","group":"a6258d41.e8e188","order":52,"width":"16","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1110,"y":2560,"wires":[["c3653af2.3416b8"]]},{"id":"44345a49.5170d4","type":"ui_text_input","z":"cafacf4c.e0827","name":"10 Nickname","label":"Nickname:","tooltip":"","group":"a6258d41.e8e188","order":54,"width":"4","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1120,"y":2600,"wires":[["fc98b864.9b18c"]]},{"id":"88ad0739.b9caf","type":"inject","z":"cafacf4c.e0827","name":"","topic":"","payload":"eV14_","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":830,"y":2600,"wires":[["1deadc.21105525"]]},{"id":"1e37bdf8.358562","type":"ui_button","z":"cafacf4c.e0827","name":"10 LAUNCH EXP","group":"a6258d41.e8e188","order":55,"width":"10","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"bool","topic":"","x":310,"y":1900,"wires":[["1919104b.5229c","5d025408.6929d4","860d769b.a7334","6ce52f38.996ca8","d7950b5c.a185b8","d55174bd.f3435","ef292bab.cc8348"]]},{"id":"3a9d1c9f.7b151c","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.label=\"Running...\";\nmsg.background=\"#FFC300\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1600,"wires":[["1e37bdf8.358562"]]},{"id":"29379ae5.69edce","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.label=\"LAUNCH EXPERIMENT\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1520,"wires":[["1e37bdf8.358562"]]},{"id":"9c439b77.f1b6e8","type":"inject","z":"cafacf4c.e0827","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":210,"y":1640,"wires":[["6ce52f38.996ca8"]]},{"id":"679cf484.17fffc","type":"ui_button","z":"cafacf4c.e0827","name":"10 RESET","group":"a6258d41.e8e188","order":57,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"reset","payloadType":"str","topic":"","x":1610,"y":1480,"wires":[["90494eb8.1c13b8","9442996b.aaba8","67d66b97.81d934","6efbd381.363284"]]},{"id":"90494eb8.1c13b8","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.label=\"Reseting...\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1520,"wires":[["679cf484.17fffc","1f1a6389.8ba32c"]]},{"id":"e5fd91d5.66f61","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.label=\"RESET\";\nmsg.background=\"grey\";\nreturn msg;","outputs":1,"noerr":0,"x":1750,"y":1660,"wires":[["679cf484.17fffc"]]},{"id":"28bb415d.47c09e","type":"inject","z":"cafacf4c.e0827","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1630,"y":1680,"wires":[["e5fd91d5.66f61"]]},{"id":"1f1a6389.8ba32c","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1560,"wires":[["c66dd542.904268"]]},{"id":"c66dd542.904268","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.label=\"SUCCESS\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1600,"wires":[["59e3b1df.581628","679cf484.17fffc"]]},{"id":"59e3b1df.581628","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1640,"wires":[["e5fd91d5.66f61"]]},{"id":"f5086f57.a4f35","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.label=\"Halted experiment\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1560,"wires":[["1e37bdf8.358562"]]},{"id":"be7899b.c00bd68","type":"ui_button","z":"cafacf4c.e0827","name":"10 STOP","group":"a6258d41.e8e188","order":56,"width":"4","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"str","topic":"","x":860,"y":1540,"wires":[["42b2f791.0c2f58"]]},{"id":"840b0e23.56a388","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.label=\"Stopped.\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":1580,"wires":[["be7899b.c00bd68"]]},{"id":"c51581b9.fe1228","type":"inject","z":"cafacf4c.e0827","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":710,"y":1500,"wires":[["51c11054.69bf18"]]},{"id":"51c11054.69bf18","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.label=\"STOP\";\nmsg.background=\"#cb4335\";\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1500,"wires":[["be7899b.c00bd68"]]},{"id":"5167b9cd.b7fb28","type":"comment","z":"cafacf4c.e0827","name":"Launch TODOs","info":"Turn off and disable all above switches\ndisable the launch button\nCA MARCHE PAS","x":840,"y":2080,"wires":[]},{"id":"58799653.cb441","type":"comment","z":"cafacf4c.e0827","name":"Reset TODOs","info":"Enable anew all above switches\nReset all default values in exp menu\nBlink LEDs as indicators ;)","x":1440,"y":1660,"wires":[]},{"id":"f38cc5ae.b84e78","type":"comment","z":"cafacf4c.e0827","name":"Stop TODOs","info":"","x":850,"y":1420,"wires":[]},{"id":"7395befa.86424","type":"simpletime","z":"cafacf4c.e0827","name":"","x":910,"y":2360,"wires":[["8a852741.b6c08","64947591.65976c"]]},{"id":"8a852741.b6c08","type":"function","z":"cafacf4c.e0827","name":"20190417_172653_nickname/...","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\")+\"/\"+msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1180,"y":2360,"wires":[["ae393f9f.a8df4","b3ce5129.68a8e8","9886c746.d7b67","77515838.6a6358"]]},{"id":"9886c746.d7b67","type":"join","z":"cafacf4c.e0827","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2400,"wires":[["b8226f94.753d78"]]},{"id":"ae393f9f.a8df4","type":"join","z":"cafacf4c.e0827","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2440,"wires":[["ec4eba0f.ee4c28"]]},{"id":"b3ce5129.68a8e8","type":"join","z":"cafacf4c.e0827","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2480,"wires":[["4ae33616.ae4d7"]]},{"id":"53da7a37.24990c","type":"function","z":"cafacf4c.e0827","name":"/home/lab513/Desktop/eVOLVER_data/","func":"if (msg.payload){\n    msg.payload=\"/home/lab513/Desktop/eVOLVER_data/\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":2320,"wires":[["9886c746.d7b67","ae393f9f.a8df4","b3ce5129.68a8e8","77515838.6a6358"]]},{"id":"3306c5b1.77ffba","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"delay","timeout":"0.2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2360,"wires":[["7395befa.86424"]]},{"id":"f8bbdf78.b45708","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"nickname","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":2600,"wires":[[]]},{"id":"1de6210a.2456b7","type":"function","z":"cafacf4c.e0827","name":".IR","func":"if (msg.payload){\n    msg.payload=\".IR\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2400,"wires":[["9886c746.d7b67"]]},{"id":"60e43b0c.2adc9c","type":"function","z":"cafacf4c.e0827","name":".BL","func":"if (msg.payload){\n    msg.payload=\".BL\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2440,"wires":[["ae393f9f.a8df4"]]},{"id":"ff6c3f93.c0d998","type":"function","z":"cafacf4c.e0827","name":".Temp","func":"if (msg.payload){\n    msg.payload=\".Temp\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2480,"wires":[["b3ce5129.68a8e8"]]},{"id":"1919104b.5229c","type":"function","z":"cafacf4c.e0827","name":"Creates Files:","func":"\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":2280,"wires":[["3306c5b1.77ffba","ac8a5a04.4d156","a8d84949.475338","1c2c2317.595e9d","dbe44837.91fbb8","6d79ebb2.04d3a4","5b72df01.dc72d8"]]},{"id":"1c2c2317.595e9d","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2400,"wires":[["1de6210a.2456b7"]]},{"id":"dbe44837.91fbb8","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2440,"wires":[["60e43b0c.2adc9c"]]},{"id":"6d79ebb2.04d3a4","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2480,"wires":[["ff6c3f93.c0d998"]]},{"id":"ac8a5a04.4d156","type":"function","z":"cafacf4c.e0827","name":"reset","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":2280,"wires":[["b8226f94.753d78","ec4eba0f.ee4c28","4ae33616.ae4d7","5432953e.a53474"]]},{"id":"a8d84949.475338","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"delay","timeout":"0.1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2320,"wires":[["53da7a37.24990c"]]},{"id":"fc98b864.9b18c","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2600,"wires":[["f8bbdf78.b45708"]]},{"id":"b8226f94.753d78","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"FileNameIR","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1500,"y":2400,"wires":[[]]},{"id":"ec4eba0f.ee4c28","type":"change","z":"cafacf4c.e0827","name":"FileNameBL","rules":[{"t":"set","p":"FileNameBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1470,"y":2440,"wires":[[]]},{"id":"4ae33616.ae4d7","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"FileNameTemp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":2480,"wires":[[]]},{"id":"77515838.6a6358","type":"join","z":"cafacf4c.e0827","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2520,"wires":[["5432953e.a53474"]]},{"id":"f09cc8b4.43fe6","type":"function","z":"cafacf4c.e0827","name":".readme","func":"if (msg.payload){\n    msg.payload=\".readme\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":2520,"wires":[["77515838.6a6358"]]},{"id":"5b72df01.dc72d8","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2520,"wires":[["f09cc8b4.43fe6"]]},{"id":"5432953e.a53474","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"FileNameReadme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":2520,"wires":[[]]},{"id":"78ed344a.f15e3c","type":"inject","z":"cafacf4c.e0827","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":810,"y":2560,"wires":[["1c5fb39d.9e0214"]]},{"id":"c3653af2.3416b8","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2560,"wires":[["a0750c66.057c88"]]},{"id":"a0750c66.057c88","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"readme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1480,"y":2560,"wires":[[]]},{"id":"64947591.65976c","type":"function","z":"cafacf4c.e0827","name":"displayname","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":2640,"wires":[["58a0cf3f.d0006"]]},{"id":"58a0cf3f.d0006","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":2,"width":"15","height":"1","name":"00 Running","label":"Running:","format":"{{msg.payload}}","layout":"row-left","x":1310,"y":2640,"wires":[]},{"id":"3cb9c4f6.4a3d54","type":"inject","z":"cafacf4c.e0827","name":"","topic":"","payload":"-","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":890,"y":2640,"wires":[["802e7e26.0fe88"]]},{"id":"42b2f791.0c2f58","type":"function","z":"cafacf4c.e0827","name":"STOP ACTIONS:","func":"msg.payload=false;\nreturn msg;\n\n//this function allows the fact that the\n//reset button first does the stop action\n//and then resets the buttons etc","outputs":1,"noerr":0,"x":1050,"y":1560,"wires":[["f5086f57.a4f35","840b0e23.56a388","71815b10.45eac4","e480dd99.554a88","89d444f0.f06288"]]},{"id":"9442996b.aaba8","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":300,"y":1480,"wires":[["29379ae5.69edce"]]},{"id":"67d66b97.81d934","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":850,"y":1460,"wires":[["51c11054.69bf18"]]},{"id":"90950327.068e5","type":"function","z":"cafacf4c.e0827","name":"disable/enable switches","func":"if (msg.payload===\"launch\"){\n    msg.enabled=false;\n}\nelse if (msg.payload===0){\n    msg.enabled=true;\n}\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":2080,"wires":[[]]},{"id":"802e7e26.0fe88","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=\"-\";\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":2640,"wires":[["58a0cf3f.d0006"]]},{"id":"5d025408.6929d4","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":560,"y":2800,"wires":[["613887db.1f8608","366bcf18.892ab","af26f9e0.a6548","81a6c5d5.b631c8","7f28c9b6.1059e","475d6a1d.1c7004","5911dc5b.62a95c","8e4f0ff2.922dd8"]]},{"id":"cf0c1a04.e84a88","type":"file","z":"cafacf4c.e0827","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3420,"wires":[[]]},{"id":"6aef1066.ea4648","type":"file","z":"cafacf4c.e0827","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3380,"wires":[[]]},{"id":"9ef70fdb.4a96d8","type":"file","z":"cafacf4c.e0827","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3460,"wires":[[]]},{"id":"c27bb92f.bc0ed","type":"switch","z":"cafacf4c.e0827","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3420,"wires":[["55c1cf03.7cc278"]]},{"id":"366bcf18.892ab","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"StoreInFile","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":3340,"wires":[[]]},{"id":"67b5ae9d.f4dd8","type":"comment","z":"cafacf4c.e0827","name":"Allows storage in the filenames","info":"","x":1050,"y":3340,"wires":[]},{"id":"b79e7049.bc7638","type":"arduino in","z":"cafacf4c.e0827","name":"Blue Light Sensor","pin":"2","state":"ANALOG","arduino":"b65698e0.7cc6f8","x":790,"y":3420,"wires":[["2648a9ac.1641fe"]]},{"id":"20b0646.771891c","type":"arduino in","z":"cafacf4c.e0827","name":"IR Sensor","pin":"1","state":"ANALOG","arduino":"b65698e0.7cc6f8","x":760,"y":3380,"wires":[["b83ab68d.245b78"]]},{"id":"2648a9ac.1641fe","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3420,"wires":[["c27bb92f.bc0ed","9ecc18ff.1e4068"]]},{"id":"b83ab68d.245b78","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3380,"wires":[["4ba8b462.f38774","2ed05624.5a4642"]]},{"id":"cae2a7b7.2dd528","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3460,"wires":[["1c6c38cf.0f35cf","df9d9af7.5a4ff8"]]},{"id":"4ba8b462.f38774","type":"switch","z":"cafacf4c.e0827","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3380,"wires":[["af074731.fec66"]]},{"id":"1c6c38cf.0f35cf","type":"switch","z":"cafacf4c.e0827","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3460,"wires":[["ae921d1e.f717f8"]]},{"id":"1fe3fa83.536525","type":"inject","z":"cafacf4c.e0827","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":330,"y":3340,"wires":[["820902ae.2a15"]]},{"id":"613887db.1f8608","type":"function","z":"cafacf4c.e0827","name":"readme","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=flow.get(\"readme\")+\"\\n\"+\n    \"measOD \"+flow.get(\"measOD\").toString()+\"\\n\"+\n    \"measODunits \"+flow.get(\"measODunits\").toString()+\"\\n\"+\n    \"measODtotal \"+flow.get(\"measODtotal\").toString()+\"\\n\"+\n    \n    \"measBL \"+flow.get(\"measBL\").toString()+\"\\n\"+\n    \"measBLunits \"+flow.get(\"measBLunits\").toString()+\"\\n\"+\n    \"measBLtotal \"+flow.get(\"measBLtotal\").toString()+\"\\n\"+\n    \n    \"intBL \"+flow.get(\"intBL\").toString()+\"\\n\"+\n    \n    \"pillBL \"+flow.get(\"pillBL\").toString()+\"\\n\"+\n    \"pillBLunits \"+flow.get(\"pillBLunits\").toString()+\"\\n\"+\n    \"pillBLtotal \"+flow.get(\"pillBLtotal\").toString()+\"\\n\"+\n    \n    \"tillBL \"+flow.get(\"tillBL\").toString()+\"\\n\"+\n    \"tillBLunits \"+flow.get(\"tillBLunits\").toString()+\"\\n\"+\n    \"tillBLtotal \"+flow.get(\"tillBLtotal\").toString()+\"\\n\"+\n    \n    \"Temp \"+flow.get(\"Temp\").toString()+\"\\n\"+\n    \"PID \"+flow.get(\"PID\").toString()+\"\\n\"+\n    \n    \"FANstate \"+flow.get(\"FANstate\").toString()+\"\\n\"+\n    \"intFAN \"+flow.get(\"intFAN\").toString()+\"\\n\"+\n    \n    \"delay \"+flow.get(\"delay\").toString()+\"\\n\"+\n    \"delayunits \"+flow.get(\"delayunits\").toString()+\"\\n\"+\n    \"delaytotal \"+flow.get(\"delaytotal\").toString()+\"\\n\";\n\n//msg.myepoch=msg.myepoch.toString();\n//msg.payload=msg.payload+\";\"+msg.myepoch;\n\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":2940,"wires":[["1703e5c.a66171a"]]},{"id":"1703e5c.a66171a","type":"file","z":"cafacf4c.e0827","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":890,"y":2940,"wires":[[]]},{"id":"af074731.fec66","type":"simpletime","z":"cafacf4c.e0827","name":"","x":1330,"y":3380,"wires":[["5d97f741.796b8"]]},{"id":"5d97f741.796b8","type":"function","z":"cafacf4c.e0827","name":"IR+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameIR\");\nreturn msg;","outputs":1,"noerr":0,"x":1480,"y":3380,"wires":[["6aef1066.ea4648"]]},{"id":"55c1cf03.7cc278","type":"simpletime","z":"cafacf4c.e0827","name":"","x":1330,"y":3420,"wires":[["9965a486.0d8f38"]]},{"id":"9965a486.0d8f38","type":"function","z":"cafacf4c.e0827","name":"BL+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameBL\");\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":3420,"wires":[["cf0c1a04.e84a88"]]},{"id":"ae921d1e.f717f8","type":"simpletime","z":"cafacf4c.e0827","name":"","x":1330,"y":3460,"wires":[["57fb2495.704bf4"]]},{"id":"57fb2495.704bf4","type":"function","z":"cafacf4c.e0827","name":"Temp+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameTemp\");\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":3460,"wires":[["9ef70fdb.4a96d8"]]},{"id":"1c5fb39d.9e0214","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2560,"wires":[["da603ac2.1f58e8"]]},{"id":"1deadc.21105525","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=\"eV14_\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2600,"wires":[["44345a49.5170d4"]]},{"id":"14c253dd.4a1ecc","type":"function","z":"cafacf4c.e0827","name":"(reset)","func":"\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":2600,"wires":[["1c5fb39d.9e0214","1deadc.21105525","802e7e26.0fe88"]]},{"id":"860d769b.a7334","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=\"launch\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":2040,"wires":[["90950327.068e5"]]},{"id":"820902ae.2a15","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3340,"wires":[["366bcf18.892ab"]]},{"id":"af26f9e0.a6548","type":"function","z":"cafacf4c.e0827","name":"255","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":750,"y":3640,"wires":[["75f1942f.737074","e374f1f2.5aa388"]]},{"id":"75f1942f.737074","type":"function","z":"cafacf4c.e0827","name":"measODtotal","func":"msg.delay=flow.get(\"measODtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":780,"y":3680,"wires":[["da6fed7d.99434"]]},{"id":"da6fed7d.99434","type":"delay","z":"cafacf4c.e0827","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":3720,"wires":[["af26f9e0.a6548"]]},{"id":"7d38ed42.85bb64","type":"function","z":"cafacf4c.e0827","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3640,"wires":[["da6fed7d.99434","e374f1f2.5aa388"]]},{"id":"e374f1f2.5aa388","type":"trigger","z":"cafacf4c.e0827","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1050,"y":3640,"wires":[["73a3db5.25940a4","19999527.15a2eb","51cddfc.e046b2"]]},{"id":"73a3db5.25940a4","type":"function","z":"cafacf4c.e0827","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":3640,"wires":[["33f6531e.74f1f4"]]},{"id":"19999527.15a2eb","type":"arduino out","z":"cafacf4c.e0827","name":"IR17","pin":"5","state":"PWM","arduino":"b65698e0.7cc6f8","x":1810,"y":3680,"wires":[]},{"id":"ff950014.861d48","type":"switch","z":"cafacf4c.e0827","name":"lance ventilo","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"gt","v":"160","vt":"num"},{"t":"btwn","v":"0","vt":"num","v2":"160","v2t":"num"}],"checkall":"false","repair":false,"outputs":3,"x":1470,"y":3820,"wires":[["4f50265e.d99368"],["4f50265e.d99368"],["a5031c3e.49d73","433c982a.594638"]],"info":"Coz the ventilo wont start if the value is \nbelow 160.\nTo have a value below 160, we need to start w\na bigger value and THEN get down in value"},{"id":"4f50265e.d99368","type":"arduino out","z":"cafacf4c.e0827","name":"Fan","pin":"9","state":"PWM","arduino":"b65698e0.7cc6f8","x":1810,"y":3800,"wires":[]},{"id":"433c982a.594638","type":"function","z":"cafacf4c.e0827","name":"200","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":1630,"y":3840,"wires":[["4f50265e.d99368"]]},{"id":"a5031c3e.49d73","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":3880,"wires":[["4f50265e.d99368"]]},{"id":"33f6531e.74f1f4","type":"arduino out","z":"cafacf4c.e0827","name":"BL17","pin":"6","state":"PWM","arduino":"b65698e0.7cc6f8","x":1810,"y":3740,"wires":[]},{"id":"6efbd381.363284","type":"link out","z":"cafacf4c.e0827","name":"RESET17->","links":["cc37a223.d93c18","c99290ef.7870e8","cf3987c1.97ab28","440a2d2c.698774","3742e0c8.bcab08","b9fa99c.24e2868","9b3e4119.84a748","948bae02.d8b248"],"x":1755,"y":1480,"wires":[]},{"id":"cc37a223.d93c18","type":"link in","z":"cafacf4c.e0827","name":"->Nickname&details","links":["6efbd381.363284"],"x":595,"y":2560,"wires":[["14c253dd.4a1ecc"]]},{"id":"1c5da2fc.952735","type":"link in","z":"cafacf4c.e0827","name":"->StoreInFile","links":["71815b10.45eac4"],"x":375,"y":3300,"wires":[["820902ae.2a15"]]},{"id":"612ef59c.b3bb6c","type":"link in","z":"cafacf4c.e0827","name":"->ODmeas","links":["71815b10.45eac4"],"x":395,"y":3640,"wires":[["7d38ed42.85bb64"]]},{"id":"c99290ef.7870e8","type":"link in","z":"cafacf4c.e0827","name":"->stop","links":["6efbd381.363284"],"x":875,"y":1620,"wires":[["42b2f791.0c2f58"]]},{"id":"79ebaac9.eac404","type":"function","z":"cafacf4c.e0827","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1740,"y":260,"wires":[["d68a9f4f.0e06a"]]},{"id":"2aa8f5c0.b6969a","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"measOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":260,"wires":[["88db3fa.e4749c"]]},{"id":"d68a9f4f.0e06a","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"measODunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":260,"wires":[["88db3fa.e4749c"]]},{"id":"88db3fa.e4749c","type":"function","z":"cafacf4c.e0827","name":"multiply","func":"msg.payload=flow.get(\"measOD\")*flow.get(\"measODunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2100,"y":260,"wires":[["c43e8697.3fe73"]]},{"id":"947851af.de5f98","type":"function","z":"cafacf4c.e0827","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1760,"y":380,"wires":[["ce32aae0.3cddb8"]]},{"id":"8003c7e3.42ac98","type":"function","z":"cafacf4c.e0827","name":"multiply","func":"msg.payload=flow.get(\"measBL\")*flow.get(\"measBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2120,"y":380,"wires":[["11a35ef7.843db9"]]},{"id":"11a35ef7.843db9","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"measBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":380,"wires":[["e2d46bc6.4aca58"]]},{"id":"8026eda9.fad9","type":"function","z":"cafacf4c.e0827","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1100,"y":600,"wires":[["c94f71cc.e9558"]]},{"id":"f4979e21.0dbff8","type":"function","z":"cafacf4c.e0827","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":600,"wires":[["96e29678.1a54e8"]]},{"id":"abfcc3c0.07eb1","type":"function","z":"cafacf4c.e0827","name":"multiply","func":"msg.payload=flow.get(\"pillBL\")*flow.get(\"pillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1000,"y":700,"wires":[["bcc8aad4.599c28"]]},{"id":"bcc8aad4.599c28","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"pillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1170,"y":700,"wires":[["c1912e1.355efd"]]},{"id":"32745ca2.c01bac","type":"function","z":"cafacf4c.e0827","name":"multiply","func":"msg.payload=flow.get(\"tillBL\")*flow.get(\"tillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":700,"wires":[["ed3327ce.40d5f8"]]},{"id":"ed3327ce.40d5f8","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"tillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":700,"wires":[[]]},{"id":"2cca5ff4.c0da","type":"function","z":"cafacf4c.e0827","name":"multiply","func":"msg.payload=flow.get(\"delay\")*flow.get(\"delayunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":1220,"wires":[["a72f32cd.391ec"]]},{"id":"a72f32cd.391ec","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"delaytotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":1220,"wires":[["c31d4885.8b92d8"]]},{"id":"7f08aa15.0264fc","type":"function","z":"cafacf4c.e0827","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1180,"wires":[["8f382645.f6cef"]]},{"id":"71815b10.45eac4","type":"link out","z":"cafacf4c.e0827","name":"STOP17.false","links":["6a9efeb8.8048a8","612ef59c.b3bb6c","14eadb9e.a48fc4","1c5da2fc.952735","b55b5829.4821a8","c97fd175.719bf8","28bb8e33.cdff0a","c31e389f.033dc8","fb823ca5.663a","310ac6aa.fc2b32"],"x":1235,"y":1580,"wires":[]},{"id":"51cddfc.e046b2","type":"function","z":"cafacf4c.e0827","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":3680,"wires":[["ff950014.861d48"]]},{"id":"fa973aae.65dc5","type":"comment","z":"cafacf4c.e0827","name":"OD mesaurements","info":"","x":790,"y":3600,"wires":[]},{"id":"f24aecbb.56162","type":"function","z":"cafacf4c.e0827","name":"255","func":"if (flow.get(\"measBLtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":910,"y":4220,"wires":[["ab00d595.054b6","8dd35cc5.b928d"]]},{"id":"ab00d595.054b6","type":"function","z":"cafacf4c.e0827","name":"measBLtotal","func":"msg.delay=flow.get(\"measBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":4280,"wires":[["d1bc27e0.539a1"]]},{"id":"d1bc27e0.539a1","type":"delay","z":"cafacf4c.e0827","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1050,"y":4320,"wires":[["f24aecbb.56162"]]},{"id":"72732ae3.3125c4","type":"trigger","z":"cafacf4c.e0827","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1350,"y":4240,"wires":[["9d4f396c.f8226","836deb6e.735bd8"]]},{"id":"8faf5600.e700d8","type":"comment","z":"cafacf4c.e0827","name":"BL mesaurements","info":"","x":910,"y":4180,"wires":[]},{"id":"8dd35cc5.b928d","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"delay","timeout":"7","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1180,"y":4200,"wires":[["72732ae3.3125c4","28503469.5b4f84"]]},{"id":"fd7c38f6.299af","type":"function","z":"cafacf4c.e0827","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":4220,"wires":[["d1bc27e0.539a1","72732ae3.3125c4","8dd35cc5.b928d","e0205a7d.55dda","a5031c3e.49d73"]]},{"id":"14eadb9e.a48fc4","type":"link in","z":"cafacf4c.e0827","name":"->BLmeas","links":["71815b10.45eac4"],"x":335,"y":4220,"wires":[["fd7c38f6.299af"]]},{"id":"836deb6e.735bd8","type":"function","z":"cafacf4c.e0827","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":4220,"wires":[["33f6531e.74f1f4"]]},{"id":"9d4f396c.f8226","type":"function","z":"cafacf4c.e0827","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":4260,"wires":[["ff950014.861d48"]]},{"id":"e480dd99.554a88","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1540,"wires":[["5914e9d5.aa4cf"]]},{"id":"5914e9d5.aa4cf","type":"link out","z":"cafacf4c.e0827","name":"STOP17.0","links":["b6e8dc41.505b58","d0fb2e85.ff2eb8","c58951a5.56b19","d4ee035a.9e0708","48c11f9d.37dde","7b3e4ac7.65d3e4"],"x":1295,"y":1540,"wires":[]},{"id":"b6e8dc41.505b58","type":"link in","z":"cafacf4c.e0827","name":"->IT,BL,FAN","links":["5914e9d5.aa4cf"],"x":1475,"y":3640,"wires":[["33f6531e.74f1f4","19999527.15a2eb","4f50265e.d99368"]]},{"id":"4a910cb.1725ef4","type":"ui_button","z":"cafacf4c.e0827","name":"02 OD realtime value","group":"a6258d41.e8e188","order":11,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3380,"wires":[[]]},{"id":"2ed05624.5a4642","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.label=msg.payload;\nif (msg.payload>150){\n    msg.background=\"red\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3380,"wires":[["4a910cb.1725ef4"]]},{"id":"9ecc18ff.1e4068","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.label=msg.payload;\nif (msg.payload>300){\n    msg.background=\"#44cff1\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3420,"wires":[["9f4a5df3.460d3"]]},{"id":"9f4a5df3.460d3","type":"ui_button","z":"cafacf4c.e0827","name":"03 BL realtime value","group":"a6258d41.e8e188","order":18,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3420,"wires":[[]]},{"id":"85bb1865.c957d8","type":"comment","z":"cafacf4c.e0827","name":"Display:","info":"","x":1800,"y":3340,"wires":[]},{"id":"e0205a7d.55dda","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":3900,"wires":[["a2d4888a.f92068"]]},{"id":"a2d4888a.f92068","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=true;\nreturn msg;\n\n","outputs":1,"noerr":0,"x":750,"y":3940,"wires":[["f24aecbb.56162","627cb443.51ce5c","c83cb447.da68b","9fba5bac.a655f"]]},{"id":"81a6c5d5.b631c8","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.delay=flow.get(\"delaytotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3860,"wires":[["e0205a7d.55dda","a498de03.0a11b8","9fba5bac.a655f"]]},{"id":"a498de03.0a11b8","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3880,"wires":[["c95367e4.555b6"]]},{"id":"fb52ea80.2c92b8","type":"comment","z":"cafacf4c.e0827","name":"growth delay","info":"","x":770,"y":3820,"wires":[]},{"id":"54e6e23a.fe799c","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.delay=flow.get(\"tillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4740,"wires":[["9a1be306.3b8048"]]},{"id":"9a1be306.3b8048","type":"delay","z":"cafacf4c.e0827","name":"part","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4740,"wires":[["4890bfa1.dd7f8"]]},{"id":"627cb443.51ce5c","type":"function","z":"cafacf4c.e0827","name":"","func":"if (flow.get(\"pillBLtotal\") === 0 || flow.get(\"tillBLtotal\") === 0){\n    return;\n}\nelse{\n    msg.payload=flow.get(\"intBL\");\n    msg.state=\"ON\";\n    return msg;\n}\n\n\n","outputs":1,"noerr":0,"x":910,"y":4600,"wires":[["54e6e23a.fe799c","43a4aab0.332294","b07e668.ab9b898","49330780.0bcc8","6053273a.e83278"]]},{"id":"4890bfa1.dd7f8","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=0;\nmsg.state=\"OFF\";\nreturn msg;\n","outputs":1,"noerr":0,"x":1010,"y":4740,"wires":[["b07e668.ab9b898","49330780.0bcc8","6053273a.e83278"]]},{"id":"43a4aab0.332294","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.delay=flow.get(\"pillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4700,"wires":[["29d7b019.761358"]]},{"id":"29d7b019.761358","type":"delay","z":"cafacf4c.e0827","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4700,"wires":[["627cb443.51ce5c"]]},{"id":"3fb503c5.55e0c4","type":"function","z":"cafacf4c.e0827","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":4620,"wires":[["29d7b019.761358","9a1be306.3b8048","58f9fda3.a2ba64","6053273a.e83278"]]},{"id":"89cca653.a243c8","type":"comment","z":"cafacf4c.e0827","name":"Cycle w sous cycle la: cool pr la blue LED","info":"","x":990,"y":4500,"wires":[]},{"id":"6a9efeb8.8048a8","type":"link in","z":"cafacf4c.e0827","name":"->BLcycle","links":["71815b10.45eac4"],"x":635,"y":4620,"wires":[["3fb503c5.55e0c4"]]},{"id":"b07e668.ab9b898","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"BLstate","pt":"flow","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":4560,"wires":[[]]},{"id":"46506acf.ee1d04","type":"inject","z":"cafacf4c.e0827","name":"","topic":"","payload":"OFF","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":890,"y":4540,"wires":[["58f9fda3.a2ba64"]]},{"id":"7f28c9b6.1059e","type":"function","z":"cafacf4c.e0827","name":"for FAN","func":"if (flow.get(\"FANstate\")===\"ON\"){\n    msg.payload=flow.get(\"intFAN\");\n}\nelse if (flow.get(\"FANstate\")===\"OFF\"){\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":3000,"wires":[["f6447406.004658"]]},{"id":"d0fb2e85.ff2eb8","type":"link in","z":"cafacf4c.e0827","name":"->PID","links":["5914e9d5.aa4cf"],"x":455,"y":3140,"wires":[["475d6a1d.1c7004"]]},{"id":"6ce52f38.996ca8","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.label=\"Initialization\";\nmsg.background=\"#f39c12\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1640,"wires":[["1e37bdf8.358562"]]},{"id":"d7950b5c.a185b8","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":200,"y":1600,"wires":[["3a9d1c9f.7b151c"]]},{"id":"1c9273dd.e59d1c","type":"ui_button","z":"cafacf4c.e0827","name":"06 Temp realtime value","group":"a6258d41.e8e188","order":39,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1970,"y":3460,"wires":[[]]},{"id":"df9d9af7.5a4ff8","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.label=msg.payload;\nif (flow.get(\"PIDstate\")>0){\n    msg.background=\"#fdedec\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3460,"wires":[["1c9273dd.e59d1c"]]},{"id":"96d0176b.53883","type":"ui_button","z":"cafacf4c.e0827","name":"05 BLstate","group":"a6258d41.e8e188","order":27,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1470,"y":4600,"wires":[[]]},{"id":"49330780.0bcc8","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.label=msg.state;\nif (msg.label===\"ON\"){\n    msg.background=\"#ebf5fb\";\n}\nelse if (msg.label===\"OFF\"){\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":4600,"wires":[["96d0176b.53883"]]},{"id":"58f9fda3.a2ba64","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.state=\"OFF\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":4540,"wires":[["b07e668.ab9b898","49330780.0bcc8"]]},{"id":"4d87eed5.d95aa8","type":"function","z":"cafacf4c.e0827","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"pillBLtotal\")/1000-(msg.count%(flow.get(\"pillBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":620,"wires":[["9e279fd9.dd716"]]},{"id":"4237347a.66e304","type":"ui_button","z":"cafacf4c.e0827","name":"04 pillBL Cycle counter","group":"a6258d41.e8e188","order":26,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3330,"y":600,"wires":[[]]},{"id":"c1912e1.355efd","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=flow.get(\"pillBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":580,"wires":[["9e279fd9.dd716","c31d4885.8b92d8"]]},{"id":"82fa0b77.fde47","type":"counter","z":"cafacf4c.e0827","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":680,"wires":[["4d87eed5.d95aa8"]]},{"id":"668d39e.940a448","type":"function","z":"cafacf4c.e0827","name":"","func":"if (flow.get(\"counterpillBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"counterpillBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":640,"wires":[["82fa0b77.fde47"]]},{"id":"c83cb447.da68b","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"counterpillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":4460,"wires":[[]]},{"id":"70abdb4a.9cbc74","type":"inject","z":"cafacf4c.e0827","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4480,"wires":[["829c6bed.005bf"]]},{"id":"829c6bed.005bf","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4460,"wires":[["c83cb447.da68b"]]},{"id":"b55b5829.4821a8","type":"link in","z":"cafacf4c.e0827","name":"->Counter","links":["71815b10.45eac4"],"x":415,"y":4440,"wires":[["829c6bed.005bf"]]},{"id":"bf459f28.b79f1","type":"inject","z":"cafacf4c.e0827","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"3","x":190,"y":1520,"wires":[["29379ae5.69edce"]]},{"id":"f22fe219.9fe9f8","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":1,"width":"3","height":"1","name":"00 eVOLVER14","label":"<font size =5>eVOLVER14","format":"{{msg.payload}}","layout":"row-center","x":700,"y":60,"wires":[]},{"id":"c47b72a5.89239","type":"link out","z":"cafacf4c.e0827","name":"enabled->","links":["4dea90fc.2f6ab"],"x":955,"y":2080,"wires":[]},{"id":"d4ee035a.9e0708","type":"link in","z":"cafacf4c.e0827","name":"->GL","links":["5914e9d5.aa4cf"],"x":255,"y":2120,"wires":[["90950327.068e5","d55174bd.f3435"]]},{"id":"994c63e5.b57948","type":"comment","z":"cafacf4c.e0827","name":"01","info":"","x":550,"y":60,"wires":[]},{"id":"12ea54d2.ba031b","type":"comment","z":"cafacf4c.e0827","name":"02 ODmeas","info":"","x":650,"y":180,"wires":[]},{"id":"8c96b199.567c5","type":"comment","z":"cafacf4c.e0827","name":"03 BLmeas","info":"","x":670,"y":300,"wires":[]},{"id":"122c6618.89b552","type":"link in","z":"cafacf4c.e0827","name":"->ARDUINO FAN","links":["f7e847c9.2195c","f6447406.004658"],"x":1275,"y":3820,"wires":[["ff950014.861d48"]]},{"id":"bbd4a275.ee8da8","type":"link in","z":"cafacf4c.e0827","name":"->ARDUINO IR","links":["ee64bc8d.a1e228"],"x":1695,"y":3640,"wires":[["19999527.15a2eb"]]},{"id":"ae0f72f2.c91428","type":"link in","z":"cafacf4c.e0827","name":"->ARDUINO BL","links":["6053273a.e83278","d77da45b.f10468"],"x":1615,"y":3760,"wires":[["33f6531e.74f1f4"]]},{"id":"6053273a.e83278","type":"link out","z":"cafacf4c.e0827","name":"BLcycle->BL","links":["ae0f72f2.c91428"],"x":1235,"y":4660,"wires":[]},{"id":"f6447406.004658","type":"link out","z":"cafacf4c.e0827","name":"Fancontrol","links":["122c6618.89b552"],"x":895,"y":3000,"wires":[]},{"id":"f7e847c9.2195c","type":"link out","z":"cafacf4c.e0827","name":"Fansetup","links":["122c6618.89b552"],"x":1735,"y":1060,"wires":[]},{"id":"ee64bc8d.a1e228","type":"link out","z":"cafacf4c.e0827","name":"IRsetup","links":["bbd4a275.ee8da8"],"x":1115,"y":180,"wires":[]},{"id":"d77da45b.f10468","type":"link out","z":"cafacf4c.e0827","name":"BLcycle->BL","links":["ae0f72f2.c91428"],"x":1135,"y":300,"wires":[]},{"id":"53350839.9a293","type":"link out","z":"cafacf4c.e0827","name":"PIDsetup->","links":["cce4b596.d3e7f8"],"x":1295,"y":880,"wires":[]},{"id":"cce4b596.d3e7f8","type":"link in","z":"cafacf4c.e0827","name":"->ARDUINO HEATER","links":["53350839.9a293","adac9125.ca28a8"],"x":1215,"y":3140,"wires":[["4c9da19b.cadc08"]]},{"id":"d55174bd.f3435","type":"link out","z":"cafacf4c.e0827","name":"GRlaunch->","links":["d342ce36.a99c68"],"x":515,"y":2160,"wires":[]},{"id":"d342ce36.a99c68","type":"link in","z":"cafacf4c.e0827","name":"->GL","links":["d55174bd.f3435"],"x":1035,"y":120,"wires":[["1fd66dc1.7335e2"]]},{"id":"1ee3ad21.af4673","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":800,"y":3160,"wires":[["a2b11b2.10327e8"]]},{"id":"706871cc.191fa8","type":"PID","z":"cafacf4c.e0827","name":"","setpoint":"550","pb":"0","ti":"900","td":0,"integral_default":0.5,"smooth_factor":3,"max_interval":600,"enable":"0","disabled_op":0,"x":1010,"y":3100,"wires":[["bb02fc91.1e2fe8","438d087e.7df678"]]},{"id":"e152f421.1053e8","type":"arduino in","z":"cafacf4c.e0827","name":"TempSensor","pin":"0","state":"ANALOG","arduino":"b65698e0.7cc6f8","x":750,"y":3120,"wires":[["1ee3ad21.af4673","cae2a7b7.2dd528"]]},{"id":"4c9da19b.cadc08","type":"arduino out","z":"cafacf4c.e0827","name":"Heater","pin":"4","state":"OUTPUT","arduino":"b65698e0.7cc6f8","x":1330,"y":3100,"wires":[]},{"id":"bb02fc91.1e2fe8","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"PIDstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":3060,"wires":[[]]},{"id":"9b64fa3d.de1db8","type":"inject","z":"cafacf4c.e0827","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":"0.3","x":1130,"y":3020,"wires":[["bb02fc91.1e2fe8"]]},{"id":"475d6a1d.1c7004","type":"function","z":"cafacf4c.e0827","name":"","func":"if (msg.payload===true){\n    msg.enable=1;\n}\nif (msg.payload===0){\n    msg.enable=0;\n}\nif (flow.get(\"PID\")===\"OFF\"){\n    msg.enable=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3080,"wires":[["706871cc.191fa8"]]},{"id":"a2b11b2.10327e8","type":"function","z":"cafacf4c.e0827","name":"setpoint","func":"msg.setpoint=flow.get(\"Temp\");\nreturn msg;","outputs":1,"noerr":0,"x":840,"y":3200,"wires":[["706871cc.191fa8"]]},{"id":"d0b46515.ac3388","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":940,"y":980,"wires":[["5e821fde.c8b608"]]},{"id":"5e821fde.c8b608","type":"function","z":"cafacf4c.e0827","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    msg.payload=0;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1210,"y":960,"wires":[["e85f969f.166758"]]},{"id":"438d087e.7df678","type":"function","z":"cafacf4c.e0827","name":"","func":"if (flow.get(\"launched\")===false){\n    return;\n}\nelse if (flow.get(\"launched\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":1170,"y":3100,"wires":[["4c9da19b.cadc08"]]},{"id":"ef292bab.cc8348","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"launched","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1960,"wires":[[]]},{"id":"ef897acf.b60b5","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":800,"wires":[[]]},{"id":"eb67cd9d.1dd5b","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"PID","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":860,"wires":[["ee132a6b.940db8"]]},{"id":"839dc256.5b9b8","type":"inject","z":"cafacf4c.e0827","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":250,"y":1960,"wires":[["ef292bab.cc8348"]]},{"id":"c97fd175.719bf8","type":"link in","z":"cafacf4c.e0827","name":"->launched","links":["71815b10.45eac4"],"x":275,"y":2000,"wires":[["ef292bab.cc8348"]]},{"id":"7aace39b.719e84","type":"function","z":"cafacf4c.e0827","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    return msg;\n}\n","outputs":1,"noerr":0,"x":910,"y":940,"wires":[["d0b46515.ac3388"]]},{"id":"f3e6c663.91edc","type":"inject","z":"cafacf4c.e0827","name":"INITIALIZATION","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":290,"y":720,"wires":[["ccc5a7d2.e7a9c8"]]},{"id":"ccc5a7d2.e7a9c8","type":"function","z":"cafacf4c.e0827","name":"initialization","func":"\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":740,"wires":[["7fe4b88d.9372a8","5dcf2d70.da8c04","c3ad9628.39b8a8","3020d8a1.24241","3802e0b2.87b278","c82909e4.51221","4390c302.366cbc","91921d34.889028","492c85c9.f6f924"]]},{"id":"adc754a4.25ed58","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=10;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":180,"wires":[["5abe0df5.79052c","c7bdc442.f8409","4a18581b.79219"]]},{"id":"c7bdc442.f8409","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1670,"y":180,"wires":[["24b0e7f9.ea0e1","4d5f8735.211a68","b3e95f05.b129b8"]]},{"id":"4a18581b.79219","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":300,"wires":[["12bd4747.6132e9","63ccf080.22cda8"]]},{"id":"63ccf080.22cda8","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1710,"y":300,"wires":[["b48bdb0b.4d2a48"]]},{"id":"2616c8b8.8802b8","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":520,"wires":[["e69d79be.120e2","58fc4d.31dd6bb4"]]},{"id":"58fc4d.31dd6bb4","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=\"seconds\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":520,"wires":[["86b4b148.ef36"]]},{"id":"7fe4b88d.9372a8","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=1;\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":520,"wires":[["76136321.6d8e94","5daaee54.92a55"]]},{"id":"5daaee54.92a55","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":520,"wires":[["50a4ff84.28cea","2616c8b8.8802b8"]]},{"id":"a2f3c011.7362a8","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":1140,"wires":[["499d850c.a54c04","fad724a4.b650d8"]]},{"id":"5dcf2d70.da8c04","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":1140,"wires":[["cfdb8449.243b58","a2f3c011.7362a8"]]},{"id":"c3ad9628.39b8a8","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=550;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":840,"wires":[["8ab22cba.9ba1a"]]},{"id":"3020d8a1.24241","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":880,"wires":[["e85f969f.166758"]]},{"id":"fad724a4.b650d8","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":1020,"wires":[["d4549b2.5def5e8","7b8ae903.49fcf"]]},{"id":"7b8ae903.49fcf","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=100;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":980,"wires":[["19eabbcd.78b6a4","31651e81.6498b2"]]},{"id":"31651e81.6498b2","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":800,"wires":[["eb67cd9d.1dd5b","90df9b74.85bb28"]]},{"id":"3802e0b2.87b278","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":1020,"wires":[["341156b4.a06b6a"]]},{"id":"c82909e4.51221","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":420,"wires":[["cd6e8075.4b4ca"]]},{"id":"492c85c9.f6f924","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":300,"wires":[["65bb65e4.da14c4"]]},{"id":"91921d34.889028","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":180,"wires":[["4b40e03b.4750f8","90aaa7a5.83ec98"]]},{"id":"4390c302.366cbc","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":60,"wires":[["b6af412d.0d5fe8"]]},{"id":"90aaa7a5.83ec98","type":"function","z":"cafacf4c.e0827","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":60,"wires":[["89e50bc8.ff889","adc754a4.25ed58"]]},{"id":"cf3987c1.97ab28","type":"link in","z":"cafacf4c.e0827","name":"->initialization","links":["6efbd381.363284"],"x":375,"y":760,"wires":[["ccc5a7d2.e7a9c8"]]},{"id":"d4549b2.5def5e8","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1480,"y":1060,"wires":[["3f4ee572.f180ea"]]},{"id":"9e279fd9.dd716","type":"function","z":"cafacf4c.e0827","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":600,"wires":[["4237347a.66e304"]]},{"id":"f9954589.a4e99","type":"inject","z":"cafacf4c.e0827","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":640,"wires":[["668d39e.940a448"]]},{"id":"44fe4ee6.e26128","type":"function","z":"cafacf4c.e0827","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measODtotal\")/1000-(msg.count%(flow.get(\"measODtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":300,"wires":[["93f8c642.fcc94"]]},{"id":"165431f2.740276","type":"ui_button","z":"cafacf4c.e0827","name":"02 ODmeas Cycle counter","group":"a6258d41.e8e188","order":10,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":280,"wires":[[]]},{"id":"4d5f8735.211a68","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=flow.get(\"measODtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":260,"wires":[["93f8c642.fcc94","e2d46bc6.4aca58"]]},{"id":"31df40e4.9db7f8","type":"counter","z":"cafacf4c.e0827","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":360,"wires":[["44fe4ee6.e26128"]]},{"id":"7efa959.7dfcc6c","type":"function","z":"cafacf4c.e0827","name":"","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}if (flow.get(\"countermeasOD\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasOD\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":320,"wires":[["31df40e4.9db7f8"]]},{"id":"93f8c642.fcc94","type":"function","z":"cafacf4c.e0827","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":280,"wires":[["165431f2.740276"]]},{"id":"faf82b8e.939bf8","type":"inject","z":"cafacf4c.e0827","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":320,"wires":[["7efa959.7dfcc6c"]]},{"id":"88a10f18.e5bbc","type":"function","z":"cafacf4c.e0827","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measBLtotal\")/1000-(msg.count%(flow.get(\"measBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":460,"wires":[["b58207bb.91d6"]]},{"id":"d81ff04b.38ff6","type":"ui_button","z":"cafacf4c.e0827","name":"03 BLmeas Cycle counter","group":"a6258d41.e8e188","order":17,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":440,"wires":[[]]},{"id":"e2d46bc6.4aca58","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=flow.get(\"measBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":420,"wires":[["b58207bb.91d6","c1912e1.355efd"]]},{"id":"a728172e.e1e0e","type":"counter","z":"cafacf4c.e0827","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":520,"wires":[["88a10f18.e5bbc"]]},{"id":"a76cb533.cd97a","type":"function","z":"cafacf4c.e0827","name":"","func":"if (flow.get(\"countermeasBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":480,"wires":[["a728172e.e1e0e"]]},{"id":"b58207bb.91d6","type":"function","z":"cafacf4c.e0827","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":440,"wires":[["d81ff04b.38ff6"]]},{"id":"b6d35550.568ca8","type":"inject","z":"cafacf4c.e0827","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":480,"wires":[["a76cb533.cd97a"]]},{"id":"e875904a.36724","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"countermeasBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1010,"y":4140,"wires":[[]]},{"id":"5a95facb.0f3ecc","type":"inject","z":"cafacf4c.e0827","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4160,"wires":[["19990890.25424f"]]},{"id":"19990890.25424f","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4140,"wires":[["e875904a.36724"]]},{"id":"28bb8e33.cdff0a","type":"link in","z":"cafacf4c.e0827","name":"->Counter","links":["71815b10.45eac4"],"x":415,"y":4120,"wires":[["19990890.25424f"]]},{"id":"5911dc5b.62a95c","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"countermeasOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3560,"wires":[[]]},{"id":"8c9ee72.4420798","type":"inject","z":"cafacf4c.e0827","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":230,"y":3580,"wires":[["9227202d.0c4a2"]]},{"id":"9227202d.0c4a2","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":3560,"wires":[["5911dc5b.62a95c"]]},{"id":"c31e389f.033dc8","type":"link in","z":"cafacf4c.e0827","name":"->Counter","links":["71815b10.45eac4"],"x":255,"y":3540,"wires":[["9227202d.0c4a2"]]},{"id":"28503469.5b4f84","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":4040,"wires":[["e875904a.36724"]]},{"id":"15680eb7.150051","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":900,"wires":[["d639cc1c.5659a"]]},{"id":"b0f15076.0185b8","type":"counter","z":"cafacf4c.e0827","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":980,"wires":[["287c89fd.7d955e"]]},{"id":"3fd83c21.5fa1dc","type":"function","z":"cafacf4c.e0827","name":"","func":"if (flow.get(\"counterlaunch\")===false){\n    return;\n}\nelse if (flow.get(\"counterlaunch\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":940,"wires":[["b0f15076.0185b8"]]},{"id":"d639cc1c.5659a","type":"function","z":"cafacf4c.e0827","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3120,"y":920,"wires":[["8d3903d8.b3557","c0de9b5b.49bea8"]]},{"id":"66b055fe.a16c24","type":"inject","z":"cafacf4c.e0827","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":940,"wires":[["3fd83c21.5fa1dc"]]},{"id":"8d3903d8.b3557","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":53,"width":"4","height":"1","name":"09 elapsed time","label":"Elapsed time: ","format":"{{msg.payload}}","layout":"row-left","x":3280,"y":940,"wires":[]},{"id":"287c89fd.7d955e","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=msg.count;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":940,"wires":[["d639cc1c.5659a"]]},{"id":"8e4f0ff2.922dd8","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"counterlaunch","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":2880,"wires":[[]]},{"id":"67d962a1.4e497c","type":"inject","z":"cafacf4c.e0827","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":270,"y":2900,"wires":[["d21df448.4a9b08"]]},{"id":"d21df448.4a9b08","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":2880,"wires":[["8e4f0ff2.922dd8"]]},{"id":"fb823ca5.663a","type":"link in","z":"cafacf4c.e0827","name":"->Counter","links":["71815b10.45eac4"],"x":295,"y":2860,"wires":[["d21df448.4a9b08"]]},{"id":"dd5ee11.6e8d2a","type":"function","z":"cafacf4c.e0827","name":"","func":"if (msg.count>=flow.get(\"delaytotal\")/1000){\n    msg.payload=0;\n}\nelse {\n    msg.payload=flow.get(\"delaytotal\")/1000-(msg.count%(flow.get(\"delaytotal\")/1000));\n\n}\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":780,"wires":[["eb00c901.a031b8"]]},{"id":"df337e97.2d817","type":"ui_button","z":"cafacf4c.e0827","name":"08 growthdelay Cycle counter","group":"a6258d41.e8e188","order":50,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3350,"y":760,"wires":[[]]},{"id":"c31d4885.8b92d8","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=flow.get(\"delaytotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":740,"wires":[["eb00c901.a031b8","15680eb7.150051"]]},{"id":"d49fae5.93d39d","type":"counter","z":"cafacf4c.e0827","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":840,"wires":[["dd5ee11.6e8d2a"]]},{"id":"8bd9164a.85d76","type":"function","z":"cafacf4c.e0827","name":"","func":"if (flow.get(\"delaytotal\")===0){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===false){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":800,"wires":[["d49fae5.93d39d"]]},{"id":"eb00c901.a031b8","type":"function","z":"cafacf4c.e0827","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":760,"wires":[["df337e97.2d817"]]},{"id":"32645eaf.c0c742","type":"inject","z":"cafacf4c.e0827","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":800,"wires":[["8bd9164a.85d76"]]},{"id":"c95367e4.555b6","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"counterdelay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1040,"y":3840,"wires":[[]]},{"id":"2cd37ff8.bd8388","type":"inject","z":"cafacf4c.e0827","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":430,"y":3860,"wires":[["5879963d.afb958"]]},{"id":"5879963d.afb958","type":"function","z":"cafacf4c.e0827","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":3840,"wires":[["c95367e4.555b6","9fba5bac.a655f"]]},{"id":"310ac6aa.fc2b32","type":"link in","z":"cafacf4c.e0827","name":"->Counter","links":["71815b10.45eac4"],"x":455,"y":3820,"wires":[["5879963d.afb958"]]},{"id":"3b376bec.22be2c","type":"ui_text","z":"cafacf4c.e0827","group":"a6258d41.e8e188","order":51,"width":"2","height":"1","name":"08 growth delay status","label":"","format":"{{msg.payload}}","layout":"row-center","x":1110,"y":3960,"wires":[]},{"id":"9fba5bac.a655f","type":"function","z":"cafacf4c.e0827","name":"","func":"if (msg.payload===false){\n    msg.payload=\"delay status\";\n}\nif (msg.payload===\"delay\"){\n    msg.payload=\"ongoing\";\n}\nelse if (msg.payload===true){\n    msg.payload=\"over\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3960,"wires":[["3b376bec.22be2c"]]},{"id":"6d091cef.466c24","type":"function","z":"cafacf4c.e0827","name":"reset","func":"msg.reset=true;\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2410,"y":540,"wires":[["31df40e4.9db7f8","82fa0b77.fde47","d49fae5.93d39d","b0f15076.0185b8"]]},{"id":"b3e95f05.b129b8","type":"delay","z":"cafacf4c.e0827","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":2240,"y":520,"wires":[["6d091cef.466c24"]]},{"id":"c0de9b5b.49bea8","type":"change","z":"cafacf4c.e0827","name":"","rules":[{"t":"set","p":"elapsed","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3290,"y":900,"wires":[[]]},{"id":"89d444f0.f06288","type":"function","z":"cafacf4c.e0827","name":"elapsed","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=\"Elapsed time \"+flow.get(\"elapsed\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":1660,"wires":[["798d8238.5b28cc"]]},{"id":"798d8238.5b28cc","type":"file","z":"cafacf4c.e0827","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1270,"y":1660,"wires":[[]]},{"id":"673e5b05.e7615c","type":"comment","z":"cafacf4c.e0827","name":"BOUGZY DEPLOY","info":"","x":2590,"y":80,"wires":[]},{"id":"e755e558.301f18","type":"arduino out","z":"1ddf0442.60e8f4","name":"GL17","pin":"3","state":"OUTPUT","arduino":"11b534cd.fa16cb","x":1130,"y":60,"wires":[]},{"id":"4981b2af.3bddc4","type":"arduino out","z":"1ddf0442.60e8f4","name":"YL17","pin":"2","state":"OUTPUT","arduino":"11b534cd.fa16cb","x":1550,"y":60,"wires":[]},{"id":"c42af196.1d1f5","type":"ui_slider","z":"1ddf0442.60e8f4","name":"05 intensity:","label":"intensity:","tooltip":"","group":"178a1720.914539","order":30,"width":"7","height":"1","passthru":true,"outs":"end","topic":"","min":0,"max":"255","step":"1","x":1170,"y":420,"wires":[["9143f7da.254828","a550d006.ce5f2"]]},{"id":"b2319709.2d9e5","type":"ui_numeric","z":"1ddf0442.60e8f4","name":"06 and set to 480","label":"and set to","tooltip":"","group":"178a1720.914539","order":37,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"1025","step":"1","x":1030,"y":840,"wires":[["5bca8056.76a3c"]]},{"id":"b7947bec.fe33f","type":"ui_switch","z":"1ddf0442.60e8f4","name":"01 GL17","label":"","tooltip":"","group":"178a1720.914539","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"green","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"green","x":1000,"y":60,"wires":[["e755e558.301f18"]]},{"id":"80cdaf4e.09cc5","type":"ui_switch","z":"1ddf0442.60e8f4","name":"01 YL17","label":"","tooltip":"","group":"178a1720.914539","order":4,"width":"1","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#e2c43c","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"#e2c43c","x":1420,"y":60,"wires":[["4981b2af.3bddc4"]]},{"id":"cf9a5b31.aabc6","type":"ui_switch","z":"1ddf0442.60e8f4","name":"02 IR17","label":"","tooltip":"","group":"178a1720.914539","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"red","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1000,"y":180,"wires":[["f5fff4be.b7611"]]},{"id":"6a6a403.4d064c","type":"ui_switch","z":"1ddf0442.60e8f4","name":"03 BL17","label":"","tooltip":"","group":"178a1720.914539","order":12,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#44cff1","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1020,"y":300,"wires":[["a550d006.ce5f2"]]},{"id":"8f7eb932.28b5b","type":"ui_switch","z":"1ddf0442.60e8f4","name":"07 FAN","label":"","tooltip":"","group":"178a1720.914539","order":40,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"toys","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1620,"y":1080,"wires":[["27c6e7ad.dcd558"]]},{"id":"8a00e6c7.8116c","type":"ui_switch","z":"1ddf0442.60e8f4","name":"06 T01 PID","label":"","tooltip":"","group":"178a1720.914539","order":33,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"enable","style":"","onvalue":"1","onvalueType":"num","onicon":"hot_tub","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1030,"y":880,"wires":[["fbd2da2.acc90a8","b7405609.388c78"]]},{"id":"92a06d01.916148","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":25,"width":"2","height":"1","name":"04 spacer","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1770,"y":520,"wires":[]},{"id":"a936e179.971de","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":46,"width":"7","height":"1","name":"07 last spacer","label":"(produces sound: fine).","format":"{{msg.payload}}","layout":"row-spread","x":1960,"y":1020,"wires":[]},{"id":"99296467.b8f21","type":"ui_numeric","z":"1ddf0442.60e8f4","name":"02 every 5","label":"every","tooltip":"","group":"178a1720.914539","order":7,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1450,"y":220,"wires":[["97fb53d7.ea545"]]},{"id":"2fdf868f.c9c07a","type":"ui_dropdown","z":"1ddf0442.60e8f4","name":"02 minutes","label":"","tooltip":"","place":"Select option","group":"178a1720.914539","order":8,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1690,"y":220,"wires":[["f79b3ef3.f96838"]]},{"id":"c259e9e5.da3ec8","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"measODtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2280,"y":320,"wires":[["602b09fd.3e0588"]]},{"id":"58861574.f7a4b4","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":9,"width":"7","height":"1","name":"02 (takes 5 seconds)","label":"(takes 5 seconds).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":180,"wires":[]},{"id":"63dcfec7.b0bf6","type":"ui_numeric","z":"1ddf0442.60e8f4","name":"03 every 5","label":"every","tooltip":"","group":"178a1720.914539","order":14,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1490,"y":340,"wires":[["13c074f6.efcba3"]]},{"id":"12d788f7.e3b487","type":"ui_dropdown","z":"1ddf0442.60e8f4","name":"03 minutes","label":"","tooltip":"","place":"Select option","group":"178a1720.914539","order":15,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1730,"y":340,"wires":[["c47e9874.816758"]]},{"id":"13c074f6.efcba3","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"measBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":380,"wires":[["44ee6c69.1506f4"]]},{"id":"8ba93464.69aa28","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"measBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1940,"y":380,"wires":[["44ee6c69.1506f4"]]},{"id":"edb6603c.22b59","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":16,"width":"7","height":"1","name":"03 (takes 5 seconds)","label":"(takes 5 secs, max illum., shifted timing).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":300,"wires":[]},{"id":"9143f7da.254828","type":"ui_numeric","z":"1ddf0442.60e8f4","name":"05 at 255","label":"at","tooltip":"","group":"178a1720.914539","order":29,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":"1","x":1020,"y":420,"wires":[["de308b0b.2dc8d","c42af196.1d1f5"]]},{"id":"de308b0b.2dc8d","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"intBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":460,"wires":[[]]},{"id":"1fbc6d71.094573","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":6,"width":"3","height":"1","name":"02 Meaure OD:","label":"Measure OD:","format":"{{msg.payload}}","layout":"row-spread","x":1280,"y":180,"wires":[]},{"id":"b80e78e8.4e7cf8","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":13,"width":"3","height":"1","name":"03 Meaure BL:","label":"Measure BL:","format":"{{msg.payload}}","layout":"row-spread","x":1340,"y":300,"wires":[]},{"id":"710e65d6.f349e4","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":28,"width":"4","height":"1","name":"05 spacer1","label":"","format":"{{msg.payload}}","layout":"row-spread","x":710,"y":420,"wires":[]},{"id":"23afca06.193916","type":"ui_button","z":"1ddf0442.60e8f4","name":"05 OK","group":"178a1720.914539","order":31,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1350,"y":420,"wires":[["6a6a403.4d064c"]]},{"id":"bf6c3072.503a28","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":19,"width":"1","height":"1","name":"04 - -","label":"","format":"{{msg.payload}}","layout":"row-spread","x":630,"y":520,"wires":[]},{"id":"9eb73634.a4ad58","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":20,"width":"3","height":"1","name":"04 Illuminate BL:","label":"Illuminate BL:","format":"{{msg.payload}}","layout":"row-spread","x":670,"y":560,"wires":[]},{"id":"7487bbb8.7e347c","type":"ui_numeric","z":"1ddf0442.60e8f4","name":"04 every 1","label":"every","tooltip":"","group":"178a1720.914539","order":21,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":850,"y":560,"wires":[["9a9b1add.77f138"]]},{"id":"e2e04e4b.0ebe","type":"ui_dropdown","z":"1ddf0442.60e8f4","name":"04 hour","label":"","tooltip":"","place":"Select option","group":"178a1720.914539","order":22,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1080,"y":560,"wires":[["beec577e.ca73d8"]]},{"id":"9a9b1add.77f138","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"pillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":600,"wires":[["4c6a7d7d.8992b4"]]},{"id":"d9aa0a56.148538","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"pillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":640,"wires":[["4c6a7d7d.8992b4"]]},{"id":"cef76385.47b32","type":"ui_numeric","z":"1ddf0442.60e8f4","name":"04 for 5","label":"for","tooltip":"","group":"178a1720.914539","order":23,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1340,"y":560,"wires":[["991d31e2.89cb7"]]},{"id":"292029a4.2d09be","type":"ui_dropdown","z":"1ddf0442.60e8f4","name":"04 minutes","label":"","tooltip":"","place":"Select option","group":"178a1720.914539","order":24,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1590,"y":560,"wires":[["ccb5a624.8fefb8"]]},{"id":"991d31e2.89cb7","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"tillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":600,"wires":[["96349b4b.b38488"]]},{"id":"c11fb8ce.49bce8","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"tillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1610,"y":640,"wires":[["96349b4b.b38488"]]},{"id":"38de0dd6.8657aa","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":32,"width":"5","height":"1","name":"05 spacer2","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1530,"y":420,"wires":[]},{"id":"20c1287c.c4e67","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":35,"width":"2","height":"1","name":"06 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1850,"y":860,"wires":[]},{"id":"fb6a982e.b43518","type":"ui_switch","z":"1ddf0442.60e8f4","name":"06 act.switch","label":"","tooltip":"","group":"178a1720.914539","order":36,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"hot_tub","oncolor":"red","offvalue":"OFF","offvalueType":"str","officon":"ac_unit","offcolor":"grey","x":1520,"y":880,"wires":[["124e4085.677787"]]},{"id":"176ff0ca.6e42df","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":38,"width":"6","height":"1","name":"06 Volts.","label":"Volts.","format":"{{msg.payload}}","layout":"row-spread","x":1220,"y":840,"wires":[]},{"id":"34655810.8990a","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":34,"width":"4","height":"1","name":"06 Temperature control:","label":"Temperature control:","format":"{{msg.payload}}","layout":"row-spread","x":2050,"y":860,"wires":[]},{"id":"833e4f0d.e7e29","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":41,"width":"4","height":"1","name":"07 Fan:","label":"Fan:","format":"{{msg.payload}}","layout":"row-spread","x":700,"y":1060,"wires":[]},{"id":"59ba567c.1eb3","type":"ui_switch","z":"1ddf0442.60e8f4","name":"07 enable switch","label":"","tooltip":"","group":"178a1720.914539","order":43,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"toys","oncolor":"green","offvalue":"OFF","offvalueType":"str","officon":"radio_button_unchecked","offcolor":"grey","x":910,"y":1060,"wires":[["3a24eb81.4f1a2c","51326df1.1cfba4"]]},{"id":"51326df1.1cfba4","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":42,"width":"2","height":"1","name":"07 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1230,"y":1060,"wires":[]},{"id":"3a24eb81.4f1a2c","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"FANstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1020,"wires":[[]]},{"id":"f34d37ba.ebd778","type":"ui_numeric","z":"1ddf0442.60e8f4","name":"07 and set to 100","label":"and set to","tooltip":"","group":"178a1720.914539","order":44,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"255","step":"1","x":1590,"y":1020,"wires":[["f6ee625e.6a4bf8","27c6e7ad.dcd558"]]},{"id":"f6ee625e.6a4bf8","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"intFAN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1780,"y":1000,"wires":[[]]},{"id":"5734dcec.bcebd4","type":"ui_button","z":"1ddf0442.60e8f4","name":"07 OK","group":"178a1720.914539","order":45,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1430,"y":1100,"wires":[["8f7eb932.28b5b"]]},{"id":"52287466.366dd4","type":"ui_numeric","z":"1ddf0442.60e8f4","name":"08 add delay","label":"Add growing delay of","tooltip":"","group":"178a1720.914539","order":47,"width":"6","height":"1","passthru":true,"topic":"setpoint","format":"{{value}}","min":"0","max":"100","step":"1","x":870,"y":1180,"wires":[["ff644ab0.f30778"]]},{"id":"82d43dc0.57e99","type":"ui_dropdown","z":"1ddf0442.60e8f4","name":"08 hour","label":"","tooltip":"","place":"Select option","group":"178a1720.914539","order":48,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1060,"y":1180,"wires":[["ad5d0628.dbfd4"]]},{"id":"ff644ab0.f30778","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"delay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":1220,"wires":[["2a19eecf.d55a82"]]},{"id":"9d6367ca.71a2c8","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"delayunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1090,"y":1220,"wires":[["2a19eecf.d55a82"]]},{"id":"62fa0d6.415ec74","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":49,"width":"8","height":"1","name":"08 finalspacer","label":"(during which no BL measure will be made).","format":"{{msg.payload}}","layout":"row-spread","x":1240,"y":1140,"wires":[]},{"id":"862e6875.355f8","type":"ui_text_input","z":"1ddf0442.60e8f4","name":"09 DETAILS","label":"DETAILS:","tooltip":"","group":"178a1720.914539","order":52,"width":"16","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1110,"y":2560,"wires":[["6b5ec851.dd8b68"]]},{"id":"26c79b1e.ce888c","type":"ui_text_input","z":"1ddf0442.60e8f4","name":"10 Nickname","label":"Nickname:","tooltip":"","group":"178a1720.914539","order":54,"width":"4","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1120,"y":2600,"wires":[["e04bcf06.4df918"]]},{"id":"f5e962ab.eecdf","type":"inject","z":"1ddf0442.60e8f4","name":"","topic":"","payload":"eV15_","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":830,"y":2600,"wires":[["d32125ec.7e3e28"]]},{"id":"53f428da.904b88","type":"ui_button","z":"1ddf0442.60e8f4","name":"10 LAUNCH EXP","group":"178a1720.914539","order":55,"width":"10","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"bool","topic":"","x":310,"y":1900,"wires":[["c2c29cc8.73f44","2bd68614.e5db6a","f4ce75ea.b56b58","10237eec.e40b21","60a5fb2f.42a6e4","a1994ee6.11e2a8","1fd792e.f92dd6d"]]},{"id":"b26452c2.0db93","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.label=\"Running...\";\nmsg.background=\"#FFC300\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1600,"wires":[["53f428da.904b88"]]},{"id":"d2888307.6cc0a8","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.label=\"LAUNCH EXPERIMENT\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1520,"wires":[["53f428da.904b88"]]},{"id":"c1ed78ef.7d5e8","type":"inject","z":"1ddf0442.60e8f4","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":210,"y":1640,"wires":[["10237eec.e40b21"]]},{"id":"6b416bf8.4f42bc","type":"ui_button","z":"1ddf0442.60e8f4","name":"10 RESET","group":"178a1720.914539","order":57,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"reset","payloadType":"str","topic":"","x":1610,"y":1480,"wires":[["63d0b8cb.b6dbd","73278a17.a2f984","557404ad.36ba8c","edfc3325.e0c2c8"]]},{"id":"63d0b8cb.b6dbd","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.label=\"Reseting...\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1520,"wires":[["6b416bf8.4f42bc","323b97a2.627be8"]]},{"id":"46b08124.68ba88","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.label=\"RESET\";\nmsg.background=\"grey\";\nreturn msg;","outputs":1,"noerr":0,"x":1750,"y":1660,"wires":[["6b416bf8.4f42bc"]]},{"id":"6c33584.835bda8","type":"inject","z":"1ddf0442.60e8f4","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1630,"y":1680,"wires":[["46b08124.68ba88"]]},{"id":"323b97a2.627be8","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1560,"wires":[["edcccf51.a15fa"]]},{"id":"edcccf51.a15fa","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.label=\"SUCCESS\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1600,"wires":[["d38cd5d.682efa8","6b416bf8.4f42bc"]]},{"id":"d38cd5d.682efa8","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1640,"wires":[["46b08124.68ba88"]]},{"id":"787ae7b6.890748","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.label=\"Halted experiment\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1560,"wires":[["53f428da.904b88"]]},{"id":"cf3bac89.614e4","type":"ui_button","z":"1ddf0442.60e8f4","name":"10 STOP","group":"178a1720.914539","order":56,"width":"4","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"str","topic":"","x":860,"y":1540,"wires":[["ff643a40.4219e8"]]},{"id":"99b3b9b4.306c8","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.label=\"Stopped.\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":1580,"wires":[["cf3bac89.614e4"]]},{"id":"37491cd.6f63ce4","type":"inject","z":"1ddf0442.60e8f4","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":710,"y":1500,"wires":[["83ee922a.eb22f"]]},{"id":"83ee922a.eb22f","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.label=\"STOP\";\nmsg.background=\"#cb4335\";\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1500,"wires":[["cf3bac89.614e4"]]},{"id":"a7e28bb4.51e78","type":"comment","z":"1ddf0442.60e8f4","name":"Launch TODOs","info":"Turn off and disable all above switches\ndisable the launch button\nCA MARCHE PAS","x":840,"y":2080,"wires":[]},{"id":"3ea9fc31.5726d4","type":"comment","z":"1ddf0442.60e8f4","name":"Reset TODOs","info":"Enable anew all above switches\nReset all default values in exp menu\nBlink LEDs as indicators ;)","x":1440,"y":1660,"wires":[]},{"id":"32549059.9f5c","type":"comment","z":"1ddf0442.60e8f4","name":"Stop TODOs","info":"","x":850,"y":1420,"wires":[]},{"id":"fbb673fa.2d4b2","type":"simpletime","z":"1ddf0442.60e8f4","name":"","x":910,"y":2360,"wires":[["a77093a2.a62b6","18a2f9ea.770d0e"]]},{"id":"a77093a2.a62b6","type":"function","z":"1ddf0442.60e8f4","name":"20190417_172653_nickname/...","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\")+\"/\"+msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1180,"y":2360,"wires":[["6841cd02.7d4b7c","f129217a.669938","a2225407.68267","39e49a49.066036"]]},{"id":"a2225407.68267","type":"join","z":"1ddf0442.60e8f4","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2400,"wires":[["8d983183.3059b8"]]},{"id":"6841cd02.7d4b7c","type":"join","z":"1ddf0442.60e8f4","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2440,"wires":[["b6cfe2b.34d342"]]},{"id":"f129217a.669938","type":"join","z":"1ddf0442.60e8f4","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2480,"wires":[["9f5b399d.57b0b"]]},{"id":"8bf0257.f843158","type":"function","z":"1ddf0442.60e8f4","name":"/home/lab513/Desktop/eVOLVER_data/","func":"if (msg.payload){\n    msg.payload=\"/home/lab513/Desktop/eVOLVER_data/\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":2320,"wires":[["a2225407.68267","6841cd02.7d4b7c","f129217a.669938","39e49a49.066036"]]},{"id":"911f4be5.8a4e9","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"delay","timeout":"0.2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2360,"wires":[["fbb673fa.2d4b2"]]},{"id":"63c1aad5.3c43bc","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"nickname","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":2600,"wires":[[]]},{"id":"e4c0e473.2cd1","type":"function","z":"1ddf0442.60e8f4","name":".IR","func":"if (msg.payload){\n    msg.payload=\".IR\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2400,"wires":[["a2225407.68267"]]},{"id":"1b2b4cab.bdaba3","type":"function","z":"1ddf0442.60e8f4","name":".BL","func":"if (msg.payload){\n    msg.payload=\".BL\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2440,"wires":[["6841cd02.7d4b7c"]]},{"id":"f4e6303a.104ba","type":"function","z":"1ddf0442.60e8f4","name":".Temp","func":"if (msg.payload){\n    msg.payload=\".Temp\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2480,"wires":[["f129217a.669938"]]},{"id":"c2c29cc8.73f44","type":"function","z":"1ddf0442.60e8f4","name":"Creates Files:","func":"\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":2280,"wires":[["911f4be5.8a4e9","1020832f.c7ce65","59e337f1.4c205","ae9115a5.8be2f","10ca71dd.f342ce","338d74cb.58974c","240cd792.b55a7"]]},{"id":"ae9115a5.8be2f","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2400,"wires":[["e4c0e473.2cd1"]]},{"id":"10ca71dd.f342ce","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2440,"wires":[["1b2b4cab.bdaba3"]]},{"id":"338d74cb.58974c","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2480,"wires":[["f4e6303a.104ba"]]},{"id":"1020832f.c7ce65","type":"function","z":"1ddf0442.60e8f4","name":"reset","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":2280,"wires":[["8d983183.3059b8","b6cfe2b.34d342","9f5b399d.57b0b","7351fd13.e06514"]]},{"id":"59e337f1.4c205","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"delay","timeout":"0.1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2320,"wires":[["8bf0257.f843158"]]},{"id":"e04bcf06.4df918","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2600,"wires":[["63c1aad5.3c43bc"]]},{"id":"8d983183.3059b8","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"FileNameIR","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1500,"y":2400,"wires":[[]]},{"id":"b6cfe2b.34d342","type":"change","z":"1ddf0442.60e8f4","name":"FileNameBL","rules":[{"t":"set","p":"FileNameBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1470,"y":2440,"wires":[[]]},{"id":"9f5b399d.57b0b","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"FileNameTemp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":2480,"wires":[[]]},{"id":"39e49a49.066036","type":"join","z":"1ddf0442.60e8f4","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2520,"wires":[["7351fd13.e06514"]]},{"id":"4c64adba.465fdc","type":"function","z":"1ddf0442.60e8f4","name":".readme","func":"if (msg.payload){\n    msg.payload=\".readme\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":2520,"wires":[["39e49a49.066036"]]},{"id":"240cd792.b55a7","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2520,"wires":[["4c64adba.465fdc"]]},{"id":"7351fd13.e06514","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"FileNameReadme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":2520,"wires":[[]]},{"id":"79ba1d91.741f04","type":"inject","z":"1ddf0442.60e8f4","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":810,"y":2560,"wires":[["5f08db97.1b1c44"]]},{"id":"6b5ec851.dd8b68","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2560,"wires":[["3bcee3f2.f99db4"]]},{"id":"3bcee3f2.f99db4","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"readme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1480,"y":2560,"wires":[[]]},{"id":"18a2f9ea.770d0e","type":"function","z":"1ddf0442.60e8f4","name":"displayname","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":2640,"wires":[["d2192fb8.6787f"]]},{"id":"d2192fb8.6787f","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":2,"width":"15","height":"1","name":"00 Running","label":"Running:","format":"{{msg.payload}}","layout":"row-left","x":1310,"y":2640,"wires":[]},{"id":"cf16b176.b7c688","type":"inject","z":"1ddf0442.60e8f4","name":"","topic":"","payload":"-","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":890,"y":2640,"wires":[["407c87cf.70e1e8"]]},{"id":"ff643a40.4219e8","type":"function","z":"1ddf0442.60e8f4","name":"STOP ACTIONS:","func":"msg.payload=false;\nreturn msg;\n\n//this function allows the fact that the\n//reset button first does the stop action\n//and then resets the buttons etc","outputs":1,"noerr":0,"x":1050,"y":1560,"wires":[["787ae7b6.890748","99b3b9b4.306c8","fab80ca6.30de7","b37afdcf.3c4ce8","5df10d34.dd0834"]]},{"id":"73278a17.a2f984","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":300,"y":1480,"wires":[["d2888307.6cc0a8"]]},{"id":"557404ad.36ba8c","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":850,"y":1460,"wires":[["83ee922a.eb22f"]]},{"id":"ce95458a.bb3ad","type":"function","z":"1ddf0442.60e8f4","name":"disable/enable switches","func":"if (msg.payload===\"launch\"){\n    msg.enabled=false;\n}\nelse if (msg.payload===0){\n    msg.enabled=true;\n}\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":2080,"wires":[[]]},{"id":"407c87cf.70e1e8","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=\"-\";\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":2640,"wires":[["d2192fb8.6787f"]]},{"id":"2bd68614.e5db6a","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":560,"y":2800,"wires":[["9f9f54ca.7b5c18","33d02203.4be7b6","577c0a2d.372b14","219194fd.3c82dc","8386493b.0319b","648c4eae.962c28","87abd544.f37a28","4f42ba24.2cba9c"]]},{"id":"d2cf0d7b.039968","type":"file","z":"1ddf0442.60e8f4","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3420,"wires":[[]]},{"id":"9dbe8903.954428","type":"file","z":"1ddf0442.60e8f4","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3380,"wires":[[]]},{"id":"8fc5f15e.3195b8","type":"file","z":"1ddf0442.60e8f4","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3460,"wires":[[]]},{"id":"6fa8b384.0901fc","type":"switch","z":"1ddf0442.60e8f4","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3420,"wires":[["d65e4713.3c9238"]]},{"id":"33d02203.4be7b6","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"StoreInFile","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":3340,"wires":[[]]},{"id":"85deac02.825838","type":"comment","z":"1ddf0442.60e8f4","name":"Allows storage in the filenames","info":"","x":1050,"y":3340,"wires":[]},{"id":"5042356e.9901fc","type":"arduino in","z":"1ddf0442.60e8f4","name":"Blue Light Sensor","pin":"2","state":"ANALOG","arduino":"c1cc5fa7.d444c","x":790,"y":3420,"wires":[["35bfbcac.5e0f6c"]]},{"id":"cc7ad4b9.884ba","type":"arduino in","z":"1ddf0442.60e8f4","name":"IR Sensor","pin":"1","state":"ANALOG","arduino":"c1cc5fa7.d444c","x":760,"y":3380,"wires":[["89dca1c1.771ce"]]},{"id":"35bfbcac.5e0f6c","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3420,"wires":[["6fa8b384.0901fc","6f77b5de.b1c6c4"]]},{"id":"89dca1c1.771ce","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3380,"wires":[["c7785f07.6d40f8","344cd1bc.c1593e"]]},{"id":"afd13708.485018","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3460,"wires":[["7f6fe664.786c2","b4995719.b4d4f"]]},{"id":"c7785f07.6d40f8","type":"switch","z":"1ddf0442.60e8f4","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3380,"wires":[["f5fe0a65.eb67c"]]},{"id":"7f6fe664.786c2","type":"switch","z":"1ddf0442.60e8f4","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3460,"wires":[["65a06cca.0e7504"]]},{"id":"2c5d5369.97a08c","type":"inject","z":"1ddf0442.60e8f4","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":330,"y":3340,"wires":[["3fbba9f6.401426"]]},{"id":"9f9f54ca.7b5c18","type":"function","z":"1ddf0442.60e8f4","name":"readme","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=flow.get(\"readme\")+\"\\n\"+\n    \"measOD \"+flow.get(\"measOD\").toString()+\"\\n\"+\n    \"measODunits \"+flow.get(\"measODunits\").toString()+\"\\n\"+\n    \"measODtotal \"+flow.get(\"measODtotal\").toString()+\"\\n\"+\n    \n    \"measBL \"+flow.get(\"measBL\").toString()+\"\\n\"+\n    \"measBLunits \"+flow.get(\"measBLunits\").toString()+\"\\n\"+\n    \"measBLtotal \"+flow.get(\"measBLtotal\").toString()+\"\\n\"+\n    \n    \"intBL \"+flow.get(\"intBL\").toString()+\"\\n\"+\n    \n    \"pillBL \"+flow.get(\"pillBL\").toString()+\"\\n\"+\n    \"pillBLunits \"+flow.get(\"pillBLunits\").toString()+\"\\n\"+\n    \"pillBLtotal \"+flow.get(\"pillBLtotal\").toString()+\"\\n\"+\n    \n    \"tillBL \"+flow.get(\"tillBL\").toString()+\"\\n\"+\n    \"tillBLunits \"+flow.get(\"tillBLunits\").toString()+\"\\n\"+\n    \"tillBLtotal \"+flow.get(\"tillBLtotal\").toString()+\"\\n\"+\n    \n    \"Temp \"+flow.get(\"Temp\").toString()+\"\\n\"+\n    \"PID \"+flow.get(\"PID\").toString()+\"\\n\"+\n    \n    \"FANstate \"+flow.get(\"FANstate\").toString()+\"\\n\"+\n    \"intFAN \"+flow.get(\"intFAN\").toString()+\"\\n\"+\n    \n    \"delay \"+flow.get(\"delay\").toString()+\"\\n\"+\n    \"delayunits \"+flow.get(\"delayunits\").toString()+\"\\n\"+\n    \"delaytotal \"+flow.get(\"delaytotal\").toString()+\"\\n\";\n\n//msg.myepoch=msg.myepoch.toString();\n//msg.payload=msg.payload+\";\"+msg.myepoch;\n\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":2940,"wires":[["11d2c0f.d849f3f"]]},{"id":"11d2c0f.d849f3f","type":"file","z":"1ddf0442.60e8f4","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":890,"y":2940,"wires":[[]]},{"id":"f5fe0a65.eb67c","type":"simpletime","z":"1ddf0442.60e8f4","name":"","x":1330,"y":3380,"wires":[["fc7b15cc.59b83"]]},{"id":"fc7b15cc.59b83","type":"function","z":"1ddf0442.60e8f4","name":"IR+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameIR\");\nreturn msg;","outputs":1,"noerr":0,"x":1480,"y":3380,"wires":[["9dbe8903.954428"]]},{"id":"d65e4713.3c9238","type":"simpletime","z":"1ddf0442.60e8f4","name":"","x":1330,"y":3420,"wires":[["c4315897.7605e"]]},{"id":"c4315897.7605e","type":"function","z":"1ddf0442.60e8f4","name":"BL+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameBL\");\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":3420,"wires":[["d2cf0d7b.039968"]]},{"id":"65a06cca.0e7504","type":"simpletime","z":"1ddf0442.60e8f4","name":"","x":1330,"y":3460,"wires":[["5c5289dc.7254e8"]]},{"id":"5c5289dc.7254e8","type":"function","z":"1ddf0442.60e8f4","name":"Temp+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameTemp\");\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":3460,"wires":[["8fc5f15e.3195b8"]]},{"id":"5f08db97.1b1c44","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2560,"wires":[["862e6875.355f8"]]},{"id":"d32125ec.7e3e28","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=\"eV15_\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2600,"wires":[["26c79b1e.ce888c"]]},{"id":"be764c18.3d7a7","type":"function","z":"1ddf0442.60e8f4","name":"(reset)","func":"\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":2600,"wires":[["5f08db97.1b1c44","d32125ec.7e3e28","407c87cf.70e1e8"]]},{"id":"f4ce75ea.b56b58","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=\"launch\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":2040,"wires":[["ce95458a.bb3ad"]]},{"id":"3fbba9f6.401426","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3340,"wires":[["33d02203.4be7b6"]]},{"id":"577c0a2d.372b14","type":"function","z":"1ddf0442.60e8f4","name":"255","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":750,"y":3640,"wires":[["1f09fa94.cfc115","963ffa3f.e8cfa"]]},{"id":"1f09fa94.cfc115","type":"function","z":"1ddf0442.60e8f4","name":"measODtotal","func":"msg.delay=flow.get(\"measODtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":780,"y":3680,"wires":[["dcd51891.0c6f38"]]},{"id":"dcd51891.0c6f38","type":"delay","z":"1ddf0442.60e8f4","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":3720,"wires":[["577c0a2d.372b14"]]},{"id":"2b18e57e.46302a","type":"function","z":"1ddf0442.60e8f4","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3640,"wires":[["dcd51891.0c6f38","963ffa3f.e8cfa"]]},{"id":"963ffa3f.e8cfa","type":"trigger","z":"1ddf0442.60e8f4","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1050,"y":3640,"wires":[["2ee66da7.2fda62","7a218e4f.7aece","62a7d0af.1b3008"]]},{"id":"2ee66da7.2fda62","type":"function","z":"1ddf0442.60e8f4","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":3640,"wires":[["71989287.1e3aa4"]]},{"id":"7a218e4f.7aece","type":"arduino out","z":"1ddf0442.60e8f4","name":"IR17","pin":"5","state":"PWM","arduino":"c1cc5fa7.d444c","x":1810,"y":3680,"wires":[]},{"id":"5687ecb3.a671f4","type":"switch","z":"1ddf0442.60e8f4","name":"lance ventilo","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"gt","v":"160","vt":"num"},{"t":"btwn","v":"0","vt":"num","v2":"160","v2t":"num"}],"checkall":"false","repair":false,"outputs":3,"x":1470,"y":3820,"wires":[["562b00c.82f8c8"],["562b00c.82f8c8"],["22f054c8.8a852c","4d92e747.855c08"]],"info":"Coz the ventilo wont start if the value is \nbelow 160.\nTo have a value below 160, we need to start w\na bigger value and THEN get down in value"},{"id":"562b00c.82f8c8","type":"arduino out","z":"1ddf0442.60e8f4","name":"Fan","pin":"9","state":"PWM","arduino":"c1cc5fa7.d444c","x":1810,"y":3800,"wires":[]},{"id":"4d92e747.855c08","type":"function","z":"1ddf0442.60e8f4","name":"200","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":1630,"y":3840,"wires":[["562b00c.82f8c8"]]},{"id":"22f054c8.8a852c","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":3880,"wires":[["562b00c.82f8c8"]]},{"id":"71989287.1e3aa4","type":"arduino out","z":"1ddf0442.60e8f4","name":"BL17","pin":"6","state":"PWM","arduino":"c1cc5fa7.d444c","x":1810,"y":3740,"wires":[]},{"id":"edfc3325.e0c2c8","type":"link out","z":"1ddf0442.60e8f4","name":"RESET17->","links":["41d8ad69.b9fb24","b887b334.11504","2dcad8b4.a45cb8","440a2d2c.698774","3742e0c8.bcab08","b9fa99c.24e2868","9b3e4119.84a748","948bae02.d8b248"],"x":1755,"y":1480,"wires":[]},{"id":"41d8ad69.b9fb24","type":"link in","z":"1ddf0442.60e8f4","name":"->Nickname&details","links":["edfc3325.e0c2c8"],"x":595,"y":2560,"wires":[["be764c18.3d7a7"]]},{"id":"bfa17579.bdf05","type":"link in","z":"1ddf0442.60e8f4","name":"->StoreInFile","links":["fab80ca6.30de7"],"x":375,"y":3300,"wires":[["3fbba9f6.401426"]]},{"id":"caba5ee9.fae608","type":"link in","z":"1ddf0442.60e8f4","name":"->ODmeas","links":["fab80ca6.30de7"],"x":395,"y":3640,"wires":[["2b18e57e.46302a"]]},{"id":"b887b334.11504","type":"link in","z":"1ddf0442.60e8f4","name":"->stop","links":["edfc3325.e0c2c8"],"x":875,"y":1620,"wires":[["ff643a40.4219e8"]]},{"id":"f79b3ef3.f96838","type":"function","z":"1ddf0442.60e8f4","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1740,"y":260,"wires":[["1a7b1030.d4a0b8"]]},{"id":"97fb53d7.ea545","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"measOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":260,"wires":[["4447538b.d53c84"]]},{"id":"1a7b1030.d4a0b8","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"measODunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":260,"wires":[["4447538b.d53c84"]]},{"id":"4447538b.d53c84","type":"function","z":"1ddf0442.60e8f4","name":"multiply","func":"msg.payload=flow.get(\"measOD\")*flow.get(\"measODunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2100,"y":260,"wires":[["c259e9e5.da3ec8"]]},{"id":"c47e9874.816758","type":"function","z":"1ddf0442.60e8f4","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1760,"y":380,"wires":[["8ba93464.69aa28"]]},{"id":"44ee6c69.1506f4","type":"function","z":"1ddf0442.60e8f4","name":"multiply","func":"msg.payload=flow.get(\"measBL\")*flow.get(\"measBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2120,"y":380,"wires":[["37b7dd75.f6fdca"]]},{"id":"37b7dd75.f6fdca","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"measBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":380,"wires":[["75d7e6e2.df75a8"]]},{"id":"beec577e.ca73d8","type":"function","z":"1ddf0442.60e8f4","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1100,"y":600,"wires":[["d9aa0a56.148538"]]},{"id":"ccb5a624.8fefb8","type":"function","z":"1ddf0442.60e8f4","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":600,"wires":[["c11fb8ce.49bce8"]]},{"id":"4c6a7d7d.8992b4","type":"function","z":"1ddf0442.60e8f4","name":"multiply","func":"msg.payload=flow.get(\"pillBL\")*flow.get(\"pillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1000,"y":700,"wires":[["21242a55.2f68be"]]},{"id":"21242a55.2f68be","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"pillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1170,"y":700,"wires":[["b7219fd9.a0dab"]]},{"id":"96349b4b.b38488","type":"function","z":"1ddf0442.60e8f4","name":"multiply","func":"msg.payload=flow.get(\"tillBL\")*flow.get(\"tillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":700,"wires":[["59db52e6.3abecc"]]},{"id":"59db52e6.3abecc","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"tillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":700,"wires":[[]]},{"id":"2a19eecf.d55a82","type":"function","z":"1ddf0442.60e8f4","name":"multiply","func":"msg.payload=flow.get(\"delay\")*flow.get(\"delayunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":1220,"wires":[["6dc869b9.4e7368"]]},{"id":"6dc869b9.4e7368","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"delaytotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":1220,"wires":[["468c9014.9e2de8"]]},{"id":"ad5d0628.dbfd4","type":"function","z":"1ddf0442.60e8f4","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1180,"wires":[["9d6367ca.71a2c8"]]},{"id":"fab80ca6.30de7","type":"link out","z":"1ddf0442.60e8f4","name":"STOP17.false","links":["a505267e.452fc8","caba5ee9.fae608","cada1c6d.de642","bfa17579.bdf05","59387981.5e9d3","461e1459.82a704","97d97ab0.b34678","691b2b13.b6d30c","5ee4017c.d857f","3ff6e619.e6e302"],"x":1235,"y":1580,"wires":[]},{"id":"62a7d0af.1b3008","type":"function","z":"1ddf0442.60e8f4","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":3680,"wires":[["5687ecb3.a671f4"]]},{"id":"9a206920.e1691","type":"comment","z":"1ddf0442.60e8f4","name":"OD mesaurements","info":"","x":790,"y":3600,"wires":[]},{"id":"ec4e781c.1b071","type":"function","z":"1ddf0442.60e8f4","name":"255","func":"if (flow.get(\"measBLtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":910,"y":4220,"wires":[["e1691bf3.48168","ccf39fc8.ab3138"]]},{"id":"e1691bf3.48168","type":"function","z":"1ddf0442.60e8f4","name":"measBLtotal","func":"msg.delay=flow.get(\"measBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":4280,"wires":[["e081a1c5.baa918"]]},{"id":"e081a1c5.baa918","type":"delay","z":"1ddf0442.60e8f4","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1050,"y":4320,"wires":[["ec4e781c.1b071"]]},{"id":"66dba29.db58b5c","type":"trigger","z":"1ddf0442.60e8f4","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1350,"y":4240,"wires":[["e94e3f82.9e9c28","16c9e1e.ac4fa9e"]]},{"id":"378fe135.941e86","type":"comment","z":"1ddf0442.60e8f4","name":"BL mesaurements","info":"","x":910,"y":4180,"wires":[]},{"id":"ccf39fc8.ab3138","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"delay","timeout":"7","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1180,"y":4200,"wires":[["66dba29.db58b5c","fcd3c033.e112e8"]]},{"id":"7e19e792.0eec","type":"function","z":"1ddf0442.60e8f4","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":4220,"wires":[["e081a1c5.baa918","66dba29.db58b5c","ccf39fc8.ab3138","acffcf37.7d90b8","22f054c8.8a852c"]]},{"id":"cada1c6d.de642","type":"link in","z":"1ddf0442.60e8f4","name":"->BLmeas","links":["fab80ca6.30de7"],"x":335,"y":4220,"wires":[["7e19e792.0eec"]]},{"id":"16c9e1e.ac4fa9e","type":"function","z":"1ddf0442.60e8f4","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":4220,"wires":[["71989287.1e3aa4"]]},{"id":"e94e3f82.9e9c28","type":"function","z":"1ddf0442.60e8f4","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":4260,"wires":[["5687ecb3.a671f4"]]},{"id":"b37afdcf.3c4ce8","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1540,"wires":[["89ab1ff7.9a8e1"]]},{"id":"89ab1ff7.9a8e1","type":"link out","z":"1ddf0442.60e8f4","name":"STOP17.0","links":["fe0fea81.306bf8","b0302005.517358","c58951a5.56b19","74c45ca4.5e0444","48c11f9d.37dde","7b3e4ac7.65d3e4"],"x":1295,"y":1540,"wires":[]},{"id":"fe0fea81.306bf8","type":"link in","z":"1ddf0442.60e8f4","name":"->IT,BL,FAN","links":["89ab1ff7.9a8e1"],"x":1475,"y":3640,"wires":[["71989287.1e3aa4","7a218e4f.7aece","562b00c.82f8c8"]]},{"id":"70b10bd5.9369bc","type":"ui_button","z":"1ddf0442.60e8f4","name":"02 OD realtime value","group":"178a1720.914539","order":11,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3380,"wires":[[]]},{"id":"344cd1bc.c1593e","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.label=msg.payload;\nif (msg.payload>150){\n    msg.background=\"red\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3380,"wires":[["70b10bd5.9369bc"]]},{"id":"6f77b5de.b1c6c4","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.label=msg.payload;\nif (msg.payload>300){\n    msg.background=\"#44cff1\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3420,"wires":[["59c0315a.b02e28"]]},{"id":"59c0315a.b02e28","type":"ui_button","z":"1ddf0442.60e8f4","name":"03 BL realtime value","group":"178a1720.914539","order":18,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3420,"wires":[[]]},{"id":"da8468f2.8d14e8","type":"comment","z":"1ddf0442.60e8f4","name":"Display:","info":"","x":1800,"y":3340,"wires":[]},{"id":"acffcf37.7d90b8","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":3900,"wires":[["29efe438.4e1d84"]]},{"id":"29efe438.4e1d84","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=true;\nreturn msg;\n\n","outputs":1,"noerr":0,"x":750,"y":3940,"wires":[["ec4e781c.1b071","c66ec3e8.e4905","6b8010e.64f34f","a28f5dc3.fc569"]]},{"id":"219194fd.3c82dc","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.delay=flow.get(\"delaytotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3860,"wires":[["acffcf37.7d90b8","1d5a65f0.95801a","a28f5dc3.fc569"]]},{"id":"1d5a65f0.95801a","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3880,"wires":[["88796b95.c63118"]]},{"id":"7e83da8e.833b74","type":"comment","z":"1ddf0442.60e8f4","name":"growth delay","info":"","x":770,"y":3820,"wires":[]},{"id":"58b91a34.197d9c","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.delay=flow.get(\"tillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4740,"wires":[["61279e8.3c1d86"]]},{"id":"61279e8.3c1d86","type":"delay","z":"1ddf0442.60e8f4","name":"part","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4740,"wires":[["a9998894.a001d"]]},{"id":"c66ec3e8.e4905","type":"function","z":"1ddf0442.60e8f4","name":"","func":"if (flow.get(\"pillBLtotal\") === 0 || flow.get(\"tillBLtotal\") === 0){\n    return;\n}\nelse{\n    msg.payload=flow.get(\"intBL\");\n    msg.state=\"ON\";\n    return msg;\n}\n\n\n","outputs":1,"noerr":0,"x":910,"y":4600,"wires":[["58b91a34.197d9c","d7e53951.ab2898","4dfe6c1d.cb6b9c","22ecb26f.f14276","524aec6e.098a54"]]},{"id":"a9998894.a001d","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=0;\nmsg.state=\"OFF\";\nreturn msg;\n","outputs":1,"noerr":0,"x":1010,"y":4740,"wires":[["4dfe6c1d.cb6b9c","22ecb26f.f14276","524aec6e.098a54"]]},{"id":"d7e53951.ab2898","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.delay=flow.get(\"pillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4700,"wires":[["f47da5a2.ea15d8"]]},{"id":"f47da5a2.ea15d8","type":"delay","z":"1ddf0442.60e8f4","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4700,"wires":[["c66ec3e8.e4905"]]},{"id":"518a1338.963cf4","type":"function","z":"1ddf0442.60e8f4","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":4620,"wires":[["f47da5a2.ea15d8","61279e8.3c1d86","b85881d4.1fb5d8","524aec6e.098a54"]]},{"id":"2e73fb37.020934","type":"comment","z":"1ddf0442.60e8f4","name":"Cycle w sous cycle la: cool pr la blue LED","info":"","x":990,"y":4500,"wires":[]},{"id":"a505267e.452fc8","type":"link in","z":"1ddf0442.60e8f4","name":"->BLcycle","links":["fab80ca6.30de7"],"x":635,"y":4620,"wires":[["518a1338.963cf4"]]},{"id":"4dfe6c1d.cb6b9c","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"BLstate","pt":"flow","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":4560,"wires":[[]]},{"id":"e2f4e5e1.aa539","type":"inject","z":"1ddf0442.60e8f4","name":"","topic":"","payload":"OFF","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":890,"y":4540,"wires":[["b85881d4.1fb5d8"]]},{"id":"8386493b.0319b","type":"function","z":"1ddf0442.60e8f4","name":"for FAN","func":"if (flow.get(\"FANstate\")===\"ON\"){\n    msg.payload=flow.get(\"intFAN\");\n}\nelse if (flow.get(\"FANstate\")===\"OFF\"){\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":3000,"wires":[["35cb87fa.a91018"]]},{"id":"b0302005.517358","type":"link in","z":"1ddf0442.60e8f4","name":"->PID","links":["89ab1ff7.9a8e1"],"x":455,"y":3140,"wires":[["648c4eae.962c28"]]},{"id":"10237eec.e40b21","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.label=\"Initialization\";\nmsg.background=\"#f39c12\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1640,"wires":[["53f428da.904b88"]]},{"id":"60a5fb2f.42a6e4","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":200,"y":1600,"wires":[["b26452c2.0db93"]]},{"id":"9b3b42a7.6fd31","type":"ui_button","z":"1ddf0442.60e8f4","name":"06 Temp realtime value","group":"178a1720.914539","order":39,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1970,"y":3460,"wires":[[]]},{"id":"b4995719.b4d4f","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.label=msg.payload;\nif (flow.get(\"PIDstate\")>0){\n    msg.background=\"#fdedec\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3460,"wires":[["9b3b42a7.6fd31"]]},{"id":"6d75bc06.6db9ac","type":"ui_button","z":"1ddf0442.60e8f4","name":"05 BLstate","group":"178a1720.914539","order":27,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1470,"y":4600,"wires":[[]]},{"id":"22ecb26f.f14276","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.label=msg.state;\nif (msg.label===\"ON\"){\n    msg.background=\"#ebf5fb\";\n}\nelse if (msg.label===\"OFF\"){\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":4600,"wires":[["6d75bc06.6db9ac"]]},{"id":"b85881d4.1fb5d8","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.state=\"OFF\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":4540,"wires":[["4dfe6c1d.cb6b9c","22ecb26f.f14276"]]},{"id":"eea5fadc.98c45","type":"function","z":"1ddf0442.60e8f4","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"pillBLtotal\")/1000-(msg.count%(flow.get(\"pillBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":620,"wires":[["1efa3d02.5611a3"]]},{"id":"d8b4b58.29f3dc8","type":"ui_button","z":"1ddf0442.60e8f4","name":"04 pillBL Cycle counter","group":"178a1720.914539","order":26,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3330,"y":600,"wires":[[]]},{"id":"b7219fd9.a0dab","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=flow.get(\"pillBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":580,"wires":[["1efa3d02.5611a3","468c9014.9e2de8"]]},{"id":"8ce423f8.ad11","type":"counter","z":"1ddf0442.60e8f4","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":680,"wires":[["eea5fadc.98c45"]]},{"id":"a9125326.319e7","type":"function","z":"1ddf0442.60e8f4","name":"","func":"if (flow.get(\"counterpillBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"counterpillBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":640,"wires":[["8ce423f8.ad11"]]},{"id":"6b8010e.64f34f","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"counterpillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":4460,"wires":[[]]},{"id":"e9d37aad.3ea218","type":"inject","z":"1ddf0442.60e8f4","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4480,"wires":[["290114a1.09cccc"]]},{"id":"290114a1.09cccc","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4460,"wires":[["6b8010e.64f34f"]]},{"id":"59387981.5e9d3","type":"link in","z":"1ddf0442.60e8f4","name":"->Counter","links":["fab80ca6.30de7"],"x":415,"y":4440,"wires":[["290114a1.09cccc"]]},{"id":"e08cf2ee.04316","type":"inject","z":"1ddf0442.60e8f4","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"3","x":190,"y":1520,"wires":[["d2888307.6cc0a8"]]},{"id":"c5b5d7c3.623c38","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":1,"width":"3","height":"1","name":"00 eVOLVER15","label":"<font size =5>eVOLVER15","format":"{{msg.payload}}","layout":"row-center","x":700,"y":60,"wires":[]},{"id":"5faf2bab.1de95c","type":"link out","z":"1ddf0442.60e8f4","name":"enabled->","links":["4dea90fc.2f6ab"],"x":955,"y":2080,"wires":[]},{"id":"74c45ca4.5e0444","type":"link in","z":"1ddf0442.60e8f4","name":"->GL","links":["89ab1ff7.9a8e1"],"x":255,"y":2120,"wires":[["ce95458a.bb3ad","a1994ee6.11e2a8"]]},{"id":"38fa4e32.02dd22","type":"comment","z":"1ddf0442.60e8f4","name":"01","info":"","x":550,"y":60,"wires":[]},{"id":"56d12436.d0acac","type":"comment","z":"1ddf0442.60e8f4","name":"02 ODmeas","info":"","x":650,"y":180,"wires":[]},{"id":"35baabf3.c01b44","type":"comment","z":"1ddf0442.60e8f4","name":"03 BLmeas","info":"","x":670,"y":300,"wires":[]},{"id":"3a6c4e63.72b2ca","type":"link in","z":"1ddf0442.60e8f4","name":"->ARDUINO FAN","links":["27c6e7ad.dcd558","35cb87fa.a91018"],"x":1275,"y":3820,"wires":[["5687ecb3.a671f4"]]},{"id":"3ef044d.3df14bc","type":"link in","z":"1ddf0442.60e8f4","name":"->ARDUINO IR","links":["f5fff4be.b7611"],"x":1695,"y":3640,"wires":[["7a218e4f.7aece"]]},{"id":"7ecdf0c2.792ea","type":"link in","z":"1ddf0442.60e8f4","name":"->ARDUINO BL","links":["524aec6e.098a54","a550d006.ce5f2"],"x":1615,"y":3760,"wires":[["71989287.1e3aa4"]]},{"id":"524aec6e.098a54","type":"link out","z":"1ddf0442.60e8f4","name":"BLcycle->BL","links":["7ecdf0c2.792ea"],"x":1235,"y":4660,"wires":[]},{"id":"35cb87fa.a91018","type":"link out","z":"1ddf0442.60e8f4","name":"Fancontrol","links":["3a6c4e63.72b2ca"],"x":895,"y":3000,"wires":[]},{"id":"27c6e7ad.dcd558","type":"link out","z":"1ddf0442.60e8f4","name":"Fansetup","links":["3a6c4e63.72b2ca"],"x":1735,"y":1060,"wires":[]},{"id":"f5fff4be.b7611","type":"link out","z":"1ddf0442.60e8f4","name":"IRsetup","links":["3ef044d.3df14bc"],"x":1115,"y":180,"wires":[]},{"id":"a550d006.ce5f2","type":"link out","z":"1ddf0442.60e8f4","name":"BLcycle->BL","links":["7ecdf0c2.792ea"],"x":1135,"y":300,"wires":[]},{"id":"fbd2da2.acc90a8","type":"link out","z":"1ddf0442.60e8f4","name":"PIDsetup->","links":["84ab0433.5f814"],"x":1295,"y":880,"wires":[]},{"id":"84ab0433.5f814","type":"link in","z":"1ddf0442.60e8f4","name":"->ARDUINO HEATER","links":["fbd2da2.acc90a8","adac9125.ca28a8"],"x":1215,"y":3140,"wires":[["8f6340d8.9b0ed"]]},{"id":"a1994ee6.11e2a8","type":"link out","z":"1ddf0442.60e8f4","name":"GRlaunch->","links":["6c2b7dd.016c204"],"x":515,"y":2160,"wires":[]},{"id":"6c2b7dd.016c204","type":"link in","z":"1ddf0442.60e8f4","name":"->GL","links":["a1994ee6.11e2a8"],"x":1035,"y":120,"wires":[["e755e558.301f18"]]},{"id":"5fc047e8.c0aaa8","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":800,"y":3160,"wires":[["831e6712.1a0018"]]},{"id":"29199948.077a0e","type":"PID","z":"1ddf0442.60e8f4","name":"","setpoint":"550","pb":"0","ti":"900","td":0,"integral_default":0.5,"smooth_factor":3,"max_interval":600,"enable":"0","disabled_op":0,"x":1010,"y":3100,"wires":[["c81b495c.c6733","5739f697.38f778"]]},{"id":"14293ba6.20ee7c","type":"arduino in","z":"1ddf0442.60e8f4","name":"TempSensor","pin":"0","state":"ANALOG","arduino":"c1cc5fa7.d444c","x":750,"y":3120,"wires":[["5fc047e8.c0aaa8","afd13708.485018"]]},{"id":"8f6340d8.9b0ed","type":"arduino out","z":"1ddf0442.60e8f4","name":"Heater","pin":"4","state":"OUTPUT","arduino":"c1cc5fa7.d444c","x":1330,"y":3100,"wires":[]},{"id":"c81b495c.c6733","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"PIDstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":3060,"wires":[[]]},{"id":"9ab50173.cc9ed8","type":"inject","z":"1ddf0442.60e8f4","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":"0.3","x":1130,"y":3020,"wires":[["c81b495c.c6733"]]},{"id":"648c4eae.962c28","type":"function","z":"1ddf0442.60e8f4","name":"","func":"if (msg.payload===true){\n    msg.enable=1;\n}\nif (msg.payload===0){\n    msg.enable=0;\n}\nif (flow.get(\"PID\")===\"OFF\"){\n    msg.enable=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3080,"wires":[["29199948.077a0e"]]},{"id":"831e6712.1a0018","type":"function","z":"1ddf0442.60e8f4","name":"setpoint","func":"msg.setpoint=flow.get(\"Temp\");\nreturn msg;","outputs":1,"noerr":0,"x":840,"y":3200,"wires":[["29199948.077a0e"]]},{"id":"d77cfeaa.f8bc08","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":940,"y":980,"wires":[["db6f8cf7.32555"]]},{"id":"db6f8cf7.32555","type":"function","z":"1ddf0442.60e8f4","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    msg.payload=0;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1210,"y":960,"wires":[["8a00e6c7.8116c"]]},{"id":"5739f697.38f778","type":"function","z":"1ddf0442.60e8f4","name":"","func":"if (flow.get(\"launched\")===false){\n    return;\n}\nelse if (flow.get(\"launched\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":1170,"y":3100,"wires":[["8f6340d8.9b0ed"]]},{"id":"1fd792e.f92dd6d","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"launched","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1960,"wires":[[]]},{"id":"5bca8056.76a3c","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":800,"wires":[[]]},{"id":"124e4085.677787","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"PID","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":860,"wires":[["20c1287c.c4e67"]]},{"id":"951991e8.e21bd","type":"inject","z":"1ddf0442.60e8f4","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":250,"y":1960,"wires":[["1fd792e.f92dd6d"]]},{"id":"461e1459.82a704","type":"link in","z":"1ddf0442.60e8f4","name":"->launched","links":["fab80ca6.30de7"],"x":275,"y":2000,"wires":[["1fd792e.f92dd6d"]]},{"id":"b7405609.388c78","type":"function","z":"1ddf0442.60e8f4","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    return msg;\n}\n","outputs":1,"noerr":0,"x":910,"y":940,"wires":[["d77cfeaa.f8bc08"]]},{"id":"644fc9b5.ad5a68","type":"inject","z":"1ddf0442.60e8f4","name":"INITIALIZATION","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":290,"y":720,"wires":[["b4598ae5.7a263"]]},{"id":"b4598ae5.7a263","type":"function","z":"1ddf0442.60e8f4","name":"initialization","func":"\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":740,"wires":[["91c77879.a3ca2","505315fa.e60bdc","3817878d.5476d8","e6b0b378.a29d18","8267bee1.72dff","7fe9637a.87670c","54c91252.d8d28c","4ab40a76.9b18d4","8dd09eec.898858"]]},{"id":"2906ab7e.9b2214","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=10;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":180,"wires":[["99296467.b8f21","fbee779e.ffab98","1360d212.ea83a6"]]},{"id":"fbee779e.ffab98","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1670,"y":180,"wires":[["2fdf868f.c9c07a","602b09fd.3e0588","ff0907a4.9e7e9"]]},{"id":"1360d212.ea83a6","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":300,"wires":[["63dcfec7.b0bf6","66e8bbba.c70acc"]]},{"id":"66e8bbba.c70acc","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1710,"y":300,"wires":[["12d788f7.e3b487"]]},{"id":"419e5c4f.58f2bc","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":520,"wires":[["cef76385.47b32","fb357f28.cdec28"]]},{"id":"fb357f28.cdec28","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=\"seconds\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":520,"wires":[["292029a4.2d09be"]]},{"id":"91c77879.a3ca2","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=1;\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":520,"wires":[["7487bbb8.7e347c","ebce3451.9259f8"]]},{"id":"ebce3451.9259f8","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":520,"wires":[["e2e04e4b.0ebe","419e5c4f.58f2bc"]]},{"id":"13f5b006.09c55","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":1140,"wires":[["82d43dc0.57e99","77955d22.193194"]]},{"id":"505315fa.e60bdc","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":1140,"wires":[["52287466.366dd4","13f5b006.09c55"]]},{"id":"3817878d.5476d8","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=550;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":840,"wires":[["b2319709.2d9e5"]]},{"id":"e6b0b378.a29d18","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":880,"wires":[["8a00e6c7.8116c"]]},{"id":"77955d22.193194","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":1020,"wires":[["68c532be.0397b4","43e46dda.0432b4"]]},{"id":"43e46dda.0432b4","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=100;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":980,"wires":[["f34d37ba.ebd778","bbdf3475.2fe968"]]},{"id":"bbdf3475.2fe968","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":800,"wires":[["124e4085.677787","fb6a982e.b43518"]]},{"id":"8267bee1.72dff","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":1020,"wires":[["59ba567c.1eb3"]]},{"id":"7fe9637a.87670c","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":420,"wires":[["9143f7da.254828"]]},{"id":"8dd09eec.898858","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":300,"wires":[["6a6a403.4d064c"]]},{"id":"4ab40a76.9b18d4","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":180,"wires":[["cf9a5b31.aabc6","4db7c2f4.305c14"]]},{"id":"54c91252.d8d28c","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":60,"wires":[["b7947bec.fe33f"]]},{"id":"4db7c2f4.305c14","type":"function","z":"1ddf0442.60e8f4","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":60,"wires":[["80cdaf4e.09cc5","2906ab7e.9b2214"]]},{"id":"2dcad8b4.a45cb8","type":"link in","z":"1ddf0442.60e8f4","name":"->initialization","links":["edfc3325.e0c2c8"],"x":375,"y":760,"wires":[["b4598ae5.7a263"]]},{"id":"68c532be.0397b4","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1480,"y":1060,"wires":[["8f7eb932.28b5b"]]},{"id":"1efa3d02.5611a3","type":"function","z":"1ddf0442.60e8f4","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":600,"wires":[["d8b4b58.29f3dc8"]]},{"id":"56825bdd.8d38c4","type":"inject","z":"1ddf0442.60e8f4","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":640,"wires":[["a9125326.319e7"]]},{"id":"bb70d6c1.f560d","type":"function","z":"1ddf0442.60e8f4","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measODtotal\")/1000-(msg.count%(flow.get(\"measODtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":300,"wires":[["ed76a029.cbeb28"]]},{"id":"77e8f0d0.d3af2","type":"ui_button","z":"1ddf0442.60e8f4","name":"02 ODmeas Cycle counter","group":"178a1720.914539","order":10,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":280,"wires":[[]]},{"id":"602b09fd.3e0588","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=flow.get(\"measODtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":260,"wires":[["ed76a029.cbeb28","75d7e6e2.df75a8"]]},{"id":"c31f5cde.fc177","type":"counter","z":"1ddf0442.60e8f4","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":360,"wires":[["bb70d6c1.f560d"]]},{"id":"61272291.64b684","type":"function","z":"1ddf0442.60e8f4","name":"","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}if (flow.get(\"countermeasOD\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasOD\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":320,"wires":[["c31f5cde.fc177"]]},{"id":"ed76a029.cbeb28","type":"function","z":"1ddf0442.60e8f4","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":280,"wires":[["77e8f0d0.d3af2"]]},{"id":"45acbffe.158a98","type":"inject","z":"1ddf0442.60e8f4","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":320,"wires":[["61272291.64b684"]]},{"id":"6ca4c270.c0e90c","type":"function","z":"1ddf0442.60e8f4","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measBLtotal\")/1000-(msg.count%(flow.get(\"measBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":460,"wires":[["5c91ffae.e547e"]]},{"id":"2822122c.317b26","type":"ui_button","z":"1ddf0442.60e8f4","name":"03 BLmeas Cycle counter","group":"178a1720.914539","order":17,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":440,"wires":[[]]},{"id":"75d7e6e2.df75a8","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=flow.get(\"measBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":420,"wires":[["5c91ffae.e547e","b7219fd9.a0dab"]]},{"id":"7022c2be.233a9c","type":"counter","z":"1ddf0442.60e8f4","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":520,"wires":[["6ca4c270.c0e90c"]]},{"id":"6bf191fc.eab0b","type":"function","z":"1ddf0442.60e8f4","name":"","func":"if (flow.get(\"countermeasBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":480,"wires":[["7022c2be.233a9c"]]},{"id":"5c91ffae.e547e","type":"function","z":"1ddf0442.60e8f4","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":440,"wires":[["2822122c.317b26"]]},{"id":"ece754df.c2414","type":"inject","z":"1ddf0442.60e8f4","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":480,"wires":[["6bf191fc.eab0b"]]},{"id":"db377f7d.528a5","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"countermeasBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1010,"y":4140,"wires":[[]]},{"id":"bb78f614.71a868","type":"inject","z":"1ddf0442.60e8f4","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4160,"wires":[["9e04b89c.8ee268"]]},{"id":"9e04b89c.8ee268","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4140,"wires":[["db377f7d.528a5"]]},{"id":"97d97ab0.b34678","type":"link in","z":"1ddf0442.60e8f4","name":"->Counter","links":["fab80ca6.30de7"],"x":415,"y":4120,"wires":[["9e04b89c.8ee268"]]},{"id":"87abd544.f37a28","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"countermeasOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3560,"wires":[[]]},{"id":"a6bc3160.fde3b","type":"inject","z":"1ddf0442.60e8f4","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":230,"y":3580,"wires":[["4076929c.4a6c2c"]]},{"id":"4076929c.4a6c2c","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":3560,"wires":[["87abd544.f37a28"]]},{"id":"691b2b13.b6d30c","type":"link in","z":"1ddf0442.60e8f4","name":"->Counter","links":["fab80ca6.30de7"],"x":255,"y":3540,"wires":[["4076929c.4a6c2c"]]},{"id":"fcd3c033.e112e8","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":4040,"wires":[["db377f7d.528a5"]]},{"id":"fd40c3db.793f3","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":900,"wires":[["bfcbfc6d.46b45"]]},{"id":"db7ae365.044bc","type":"counter","z":"1ddf0442.60e8f4","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":980,"wires":[["aa4c2f3f.7a6928"]]},{"id":"ee5744e7.96477","type":"function","z":"1ddf0442.60e8f4","name":"","func":"if (flow.get(\"counterlaunch\")===false){\n    return;\n}\nelse if (flow.get(\"counterlaunch\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":940,"wires":[["db7ae365.044bc"]]},{"id":"bfcbfc6d.46b45","type":"function","z":"1ddf0442.60e8f4","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3120,"y":920,"wires":[["6e0abe26.31efb","1007ede5.c06f62"]]},{"id":"5c2c9255.a101ec","type":"inject","z":"1ddf0442.60e8f4","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":940,"wires":[["ee5744e7.96477"]]},{"id":"6e0abe26.31efb","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":53,"width":"4","height":"1","name":"09 elapsed time","label":"Elapsed time: ","format":"{{msg.payload}}","layout":"row-left","x":3280,"y":940,"wires":[]},{"id":"aa4c2f3f.7a6928","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=msg.count;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":940,"wires":[["bfcbfc6d.46b45"]]},{"id":"4f42ba24.2cba9c","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"counterlaunch","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":2880,"wires":[[]]},{"id":"5057f19.9d4969","type":"inject","z":"1ddf0442.60e8f4","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":270,"y":2900,"wires":[["a6f21eb3.a43948"]]},{"id":"a6f21eb3.a43948","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":2880,"wires":[["4f42ba24.2cba9c"]]},{"id":"5ee4017c.d857f","type":"link in","z":"1ddf0442.60e8f4","name":"->Counter","links":["fab80ca6.30de7"],"x":295,"y":2860,"wires":[["a6f21eb3.a43948"]]},{"id":"d35f7b3d.c9741","type":"function","z":"1ddf0442.60e8f4","name":"","func":"if (msg.count>=flow.get(\"delaytotal\")/1000){\n    msg.payload=0;\n}\nelse {\n    msg.payload=flow.get(\"delaytotal\")/1000-(msg.count%(flow.get(\"delaytotal\")/1000));\n\n}\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":780,"wires":[["4b570ff2.35374"]]},{"id":"38e06ec1.919502","type":"ui_button","z":"1ddf0442.60e8f4","name":"08 growthdelay Cycle counter","group":"178a1720.914539","order":50,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3350,"y":760,"wires":[[]]},{"id":"468c9014.9e2de8","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=flow.get(\"delaytotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":740,"wires":[["4b570ff2.35374","fd40c3db.793f3"]]},{"id":"6cac2b52.9b00c4","type":"counter","z":"1ddf0442.60e8f4","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":840,"wires":[["d35f7b3d.c9741"]]},{"id":"20720764.aadc9","type":"function","z":"1ddf0442.60e8f4","name":"","func":"if (flow.get(\"delaytotal\")===0){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===false){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":800,"wires":[["6cac2b52.9b00c4"]]},{"id":"4b570ff2.35374","type":"function","z":"1ddf0442.60e8f4","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":760,"wires":[["38e06ec1.919502"]]},{"id":"dafa9da4.efa98","type":"inject","z":"1ddf0442.60e8f4","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":800,"wires":[["20720764.aadc9"]]},{"id":"88796b95.c63118","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"counterdelay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1040,"y":3840,"wires":[[]]},{"id":"8d4ad07.17864b","type":"inject","z":"1ddf0442.60e8f4","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":430,"y":3860,"wires":[["d32130b3.be447"]]},{"id":"d32130b3.be447","type":"function","z":"1ddf0442.60e8f4","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":3840,"wires":[["88796b95.c63118","a28f5dc3.fc569"]]},{"id":"3ff6e619.e6e302","type":"link in","z":"1ddf0442.60e8f4","name":"->Counter","links":["fab80ca6.30de7"],"x":455,"y":3820,"wires":[["d32130b3.be447"]]},{"id":"fcfa39c.f4a8b48","type":"ui_text","z":"1ddf0442.60e8f4","group":"178a1720.914539","order":51,"width":"2","height":"1","name":"08 growth delay status","label":"","format":"{{msg.payload}}","layout":"row-center","x":1110,"y":3960,"wires":[]},{"id":"a28f5dc3.fc569","type":"function","z":"1ddf0442.60e8f4","name":"","func":"if (msg.payload===false){\n    msg.payload=\"delay status\";\n}\nif (msg.payload===\"delay\"){\n    msg.payload=\"ongoing\";\n}\nelse if (msg.payload===true){\n    msg.payload=\"over\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3960,"wires":[["fcfa39c.f4a8b48"]]},{"id":"809522e9.61e6e","type":"function","z":"1ddf0442.60e8f4","name":"reset","func":"msg.reset=true;\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2410,"y":540,"wires":[["c31f5cde.fc177","8ce423f8.ad11","6cac2b52.9b00c4","db7ae365.044bc"]]},{"id":"ff0907a4.9e7e9","type":"delay","z":"1ddf0442.60e8f4","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":2240,"y":520,"wires":[["809522e9.61e6e"]]},{"id":"1007ede5.c06f62","type":"change","z":"1ddf0442.60e8f4","name":"","rules":[{"t":"set","p":"elapsed","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3290,"y":900,"wires":[[]]},{"id":"5df10d34.dd0834","type":"function","z":"1ddf0442.60e8f4","name":"elapsed","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=\"Elapsed time \"+flow.get(\"elapsed\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":1660,"wires":[["1d11c62f.aeff62"]]},{"id":"1d11c62f.aeff62","type":"file","z":"1ddf0442.60e8f4","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1270,"y":1660,"wires":[[]]},{"id":"697cc96d.0f1dd","type":"comment","z":"1ddf0442.60e8f4","name":"BOUGZY DEPLOY","info":"","x":2590,"y":80,"wires":[]},{"id":"9c805605.93fb9","type":"arduino out","z":"42061ad8.4facfc","name":"GL17","pin":"3","state":"OUTPUT","arduino":"472ba25d.ba8c1c","x":1130,"y":60,"wires":[]},{"id":"c513a1cf.1c77a8","type":"arduino out","z":"42061ad8.4facfc","name":"YL17","pin":"2","state":"OUTPUT","arduino":"472ba25d.ba8c1c","x":1550,"y":60,"wires":[]},{"id":"2b02d7c3.3525e","type":"ui_slider","z":"42061ad8.4facfc","name":"05 intensity:","label":"intensity:","tooltip":"","group":"63aa638c.503edc","order":30,"width":"7","height":"1","passthru":true,"outs":"end","topic":"","min":0,"max":"255","step":"1","x":1170,"y":420,"wires":[["cb455a70.1a5db8","dc6f1cd.6a6f96"]]},{"id":"7c05c3.c6c74a3c","type":"ui_numeric","z":"42061ad8.4facfc","name":"06 and set to 480","label":"and set to","tooltip":"","group":"63aa638c.503edc","order":37,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"1025","step":"1","x":1030,"y":840,"wires":[["7daa088.5a2de78"]]},{"id":"f471bcf5.dafc08","type":"ui_switch","z":"42061ad8.4facfc","name":"01 GL17","label":"","tooltip":"","group":"63aa638c.503edc","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"green","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"green","x":1000,"y":60,"wires":[["9c805605.93fb9"]]},{"id":"546ec4aa.8c95f4","type":"ui_switch","z":"42061ad8.4facfc","name":"01 YL17","label":"","tooltip":"","group":"63aa638c.503edc","order":4,"width":"1","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#e2c43c","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"#e2c43c","x":1420,"y":60,"wires":[["c513a1cf.1c77a8"]]},{"id":"89353cf6.6aee6","type":"ui_switch","z":"42061ad8.4facfc","name":"02 IR17","label":"","tooltip":"","group":"63aa638c.503edc","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"red","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1000,"y":180,"wires":[["257e4c65.50db14"]]},{"id":"10ad31c7.6e08d6","type":"ui_switch","z":"42061ad8.4facfc","name":"03 BL17","label":"","tooltip":"","group":"63aa638c.503edc","order":12,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#44cff1","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1020,"y":300,"wires":[["dc6f1cd.6a6f96"]]},{"id":"ca3c195.0aeace8","type":"ui_switch","z":"42061ad8.4facfc","name":"07 FAN","label":"","tooltip":"","group":"63aa638c.503edc","order":40,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"toys","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1620,"y":1080,"wires":[["1a1705f7.e653d2"]]},{"id":"ff83704d.6bdef","type":"ui_switch","z":"42061ad8.4facfc","name":"06 T01 PID","label":"","tooltip":"","group":"63aa638c.503edc","order":33,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"enable","style":"","onvalue":"1","onvalueType":"num","onicon":"hot_tub","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1030,"y":880,"wires":[["b5732b06.3a649","f78fec06.c9a098"]]},{"id":"2814d9d6.10ebee","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":25,"width":"2","height":"1","name":"04 spacer","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1770,"y":520,"wires":[]},{"id":"d19a5d0f.5ff81","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":46,"width":"7","height":"1","name":"07 last spacer","label":"(produces sound: fine).","format":"{{msg.payload}}","layout":"row-spread","x":1960,"y":1020,"wires":[]},{"id":"bb176c92.580968","type":"ui_numeric","z":"42061ad8.4facfc","name":"02 every 5","label":"every","tooltip":"","group":"63aa638c.503edc","order":7,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1450,"y":220,"wires":[["63614163.b8c61"]]},{"id":"6345624a.8d888c","type":"ui_dropdown","z":"42061ad8.4facfc","name":"02 minutes","label":"","tooltip":"","place":"Select option","group":"63aa638c.503edc","order":8,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1690,"y":220,"wires":[["d04b3b63.e029c"]]},{"id":"70358908.0d3f98","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"measODtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2280,"y":320,"wires":[["ab8f1d45.9e9c88"]]},{"id":"e69abfc2.d5e8f8","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":9,"width":"7","height":"1","name":"02 (takes 5 seconds)","label":"(takes 5 seconds).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":180,"wires":[]},{"id":"f3e44f0f.1d5788","type":"ui_numeric","z":"42061ad8.4facfc","name":"03 every 5","label":"every","tooltip":"","group":"63aa638c.503edc","order":14,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1490,"y":340,"wires":[["95524429.5e4e98"]]},{"id":"f0710986.8ac9e","type":"ui_dropdown","z":"42061ad8.4facfc","name":"03 minutes","label":"","tooltip":"","place":"Select option","group":"63aa638c.503edc","order":15,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1730,"y":340,"wires":[["483ee712.f09fa8"]]},{"id":"95524429.5e4e98","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"measBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":380,"wires":[["f7877b74.96e168"]]},{"id":"f8920b6a.eae39","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"measBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1940,"y":380,"wires":[["f7877b74.96e168"]]},{"id":"79e3a35f.077f94","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":16,"width":"7","height":"1","name":"03 (takes 5 seconds)","label":"(takes 5 secs, max illum., shifted timing).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":300,"wires":[]},{"id":"cb455a70.1a5db8","type":"ui_numeric","z":"42061ad8.4facfc","name":"05 at 255","label":"at","tooltip":"","group":"63aa638c.503edc","order":29,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":"1","x":1020,"y":420,"wires":[["28e7602.59d952","2b02d7c3.3525e"]]},{"id":"28e7602.59d952","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"intBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":460,"wires":[[]]},{"id":"fbfbb9b5.2c28a8","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":6,"width":"3","height":"1","name":"02 Meaure OD:","label":"Measure OD:","format":"{{msg.payload}}","layout":"row-spread","x":1280,"y":180,"wires":[]},{"id":"f94e9cb6.6a91d8","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":13,"width":"3","height":"1","name":"03 Meaure BL:","label":"Measure BL:","format":"{{msg.payload}}","layout":"row-spread","x":1340,"y":300,"wires":[]},{"id":"19255914.72f007","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":28,"width":"4","height":"1","name":"05 spacer1","label":"","format":"{{msg.payload}}","layout":"row-spread","x":710,"y":420,"wires":[]},{"id":"77c407cd.ab809","type":"ui_button","z":"42061ad8.4facfc","name":"05 OK","group":"63aa638c.503edc","order":31,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1350,"y":420,"wires":[["10ad31c7.6e08d6"]]},{"id":"c3ebb17a.b84e88","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":19,"width":"1","height":"1","name":"04 - -","label":"","format":"{{msg.payload}}","layout":"row-spread","x":630,"y":520,"wires":[]},{"id":"37805b40.7b7774","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":20,"width":"3","height":"1","name":"04 Illuminate BL:","label":"Illuminate BL:","format":"{{msg.payload}}","layout":"row-spread","x":670,"y":560,"wires":[]},{"id":"35da3f00.c87efa","type":"ui_numeric","z":"42061ad8.4facfc","name":"04 every 1","label":"every","tooltip":"","group":"63aa638c.503edc","order":21,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":850,"y":560,"wires":[["a6d36070.9034b"]]},{"id":"5b4b5577.363134","type":"ui_dropdown","z":"42061ad8.4facfc","name":"04 hour","label":"","tooltip":"","place":"Select option","group":"63aa638c.503edc","order":22,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1080,"y":560,"wires":[["f4a0693c.2aba98"]]},{"id":"a6d36070.9034b","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"pillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":600,"wires":[["a6a5b7c6.70add"]]},{"id":"11404e69.9d3862","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"pillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":640,"wires":[["a6a5b7c6.70add"]]},{"id":"3158bf91.7ffdb8","type":"ui_numeric","z":"42061ad8.4facfc","name":"04 for 5","label":"for","tooltip":"","group":"63aa638c.503edc","order":23,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1340,"y":560,"wires":[["5453a825.4bb9a"]]},{"id":"cb4aefa6.cd66c","type":"ui_dropdown","z":"42061ad8.4facfc","name":"04 minutes","label":"","tooltip":"","place":"Select option","group":"63aa638c.503edc","order":24,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1590,"y":560,"wires":[["bc9c6344.874738"]]},{"id":"5453a825.4bb9a","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"tillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":600,"wires":[["fcdcd813.ccadb"]]},{"id":"fc952ee2.6d597","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"tillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1610,"y":640,"wires":[["fcdcd813.ccadb"]]},{"id":"89973067.3c706","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":32,"width":"5","height":"1","name":"05 spacer2","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1530,"y":420,"wires":[]},{"id":"f0787d8b.f5de28","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":35,"width":"2","height":"1","name":"06 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1850,"y":860,"wires":[]},{"id":"38bc9f99.245ed8","type":"ui_switch","z":"42061ad8.4facfc","name":"06 act.switch","label":"","tooltip":"","group":"63aa638c.503edc","order":36,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"hot_tub","oncolor":"red","offvalue":"OFF","offvalueType":"str","officon":"ac_unit","offcolor":"grey","x":1520,"y":880,"wires":[["285e2bc6.4812fc"]]},{"id":"fa040f95.fa6298","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":38,"width":"6","height":"1","name":"06 Volts.","label":"Volts.","format":"{{msg.payload}}","layout":"row-spread","x":1220,"y":840,"wires":[]},{"id":"ec68ead5.a05318","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":34,"width":"4","height":"1","name":"06 Temperature control:","label":"Temperature control:","format":"{{msg.payload}}","layout":"row-spread","x":2050,"y":860,"wires":[]},{"id":"3df7055a.435a72","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":41,"width":"4","height":"1","name":"07 Fan:","label":"Fan:","format":"{{msg.payload}}","layout":"row-spread","x":700,"y":1060,"wires":[]},{"id":"dda2322d.4dc488","type":"ui_switch","z":"42061ad8.4facfc","name":"07 enable switch","label":"","tooltip":"","group":"63aa638c.503edc","order":43,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"toys","oncolor":"green","offvalue":"OFF","offvalueType":"str","officon":"radio_button_unchecked","offcolor":"grey","x":910,"y":1060,"wires":[["51d45bd7.9e2ef4","2a78912b.4e36f6"]]},{"id":"2a78912b.4e36f6","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":42,"width":"2","height":"1","name":"07 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1230,"y":1060,"wires":[]},{"id":"51d45bd7.9e2ef4","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"FANstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1020,"wires":[[]]},{"id":"9a919e3b.a74c","type":"ui_numeric","z":"42061ad8.4facfc","name":"07 and set to 100","label":"and set to","tooltip":"","group":"63aa638c.503edc","order":44,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"255","step":"1","x":1590,"y":1020,"wires":[["12392d35.d3ea8b","1a1705f7.e653d2"]]},{"id":"12392d35.d3ea8b","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"intFAN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1780,"y":1000,"wires":[[]]},{"id":"9724c3d7.59d07","type":"ui_button","z":"42061ad8.4facfc","name":"07 OK","group":"63aa638c.503edc","order":45,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1430,"y":1100,"wires":[["ca3c195.0aeace8"]]},{"id":"198423db.bbf454","type":"ui_numeric","z":"42061ad8.4facfc","name":"08 add delay","label":"Add growing delay of","tooltip":"","group":"63aa638c.503edc","order":47,"width":"6","height":"1","passthru":true,"topic":"setpoint","format":"{{value}}","min":"0","max":"100","step":"1","x":870,"y":1180,"wires":[["1c186b2f.dd40a5"]]},{"id":"64a20124.c56138","type":"ui_dropdown","z":"42061ad8.4facfc","name":"08 hour","label":"","tooltip":"","place":"Select option","group":"63aa638c.503edc","order":48,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1060,"y":1180,"wires":[["318973e1.6adcfc"]]},{"id":"1c186b2f.dd40a5","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"delay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":1220,"wires":[["c5e74f70.5ff5e8"]]},{"id":"5eeaac4a.e8d304","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"delayunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1090,"y":1220,"wires":[["c5e74f70.5ff5e8"]]},{"id":"68d49a23.ac1084","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":49,"width":"8","height":"1","name":"08 finalspacer","label":"(during which no BL measure will be made).","format":"{{msg.payload}}","layout":"row-spread","x":1240,"y":1140,"wires":[]},{"id":"a7062d2a.1a586","type":"ui_text_input","z":"42061ad8.4facfc","name":"09 DETAILS","label":"DETAILS:","tooltip":"","group":"63aa638c.503edc","order":52,"width":"16","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1110,"y":2560,"wires":[["41a8110f.a07d78"]]},{"id":"70fe4e04.110bd8","type":"ui_text_input","z":"42061ad8.4facfc","name":"10 Nickname","label":"Nickname:","tooltip":"","group":"63aa638c.503edc","order":54,"width":"4","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1120,"y":2600,"wires":[["64728e98.ab0e78"]]},{"id":"f6cd22f3.7a8108","type":"inject","z":"42061ad8.4facfc","name":"","topic":"","payload":"eV16_","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":830,"y":2600,"wires":[["530187bb.449f58"]]},{"id":"845ad848.6f2a5","type":"ui_button","z":"42061ad8.4facfc","name":"10 LAUNCH EXP","group":"63aa638c.503edc","order":55,"width":"10","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"bool","topic":"","x":310,"y":1900,"wires":[["8d5edd0c.906818","750372dc.eb272c","443acd61.31ef6c","d342fc68.8e601","f87cd043.b5dba","6d2d3db7.1c7f4c","e3276012.9f681"]]},{"id":"183972c5.a4c635","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.label=\"Running...\";\nmsg.background=\"#FFC300\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1600,"wires":[["845ad848.6f2a5"]]},{"id":"3fbe59a8.ff6686","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.label=\"LAUNCH EXPERIMENT\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1520,"wires":[["845ad848.6f2a5"]]},{"id":"c4199ce3.22ff1","type":"inject","z":"42061ad8.4facfc","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":210,"y":1640,"wires":[["d342fc68.8e601"]]},{"id":"aa0b0f0f.c2c048","type":"ui_button","z":"42061ad8.4facfc","name":"10 RESET","group":"63aa638c.503edc","order":57,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"reset","payloadType":"str","topic":"","x":1610,"y":1480,"wires":[["52923f89.1528c8","f23b47ba.09e7b8","38d176b2.de748a","78377c80.e6dccc"]]},{"id":"52923f89.1528c8","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.label=\"Reseting...\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1520,"wires":[["aa0b0f0f.c2c048","e7f7eb43.b4b948"]]},{"id":"5251d6b1.43ac58","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.label=\"RESET\";\nmsg.background=\"grey\";\nreturn msg;","outputs":1,"noerr":0,"x":1750,"y":1660,"wires":[["aa0b0f0f.c2c048"]]},{"id":"e5383dc1.c210a8","type":"inject","z":"42061ad8.4facfc","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1630,"y":1680,"wires":[["5251d6b1.43ac58"]]},{"id":"e7f7eb43.b4b948","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1560,"wires":[["e403e426.fe0d9"]]},{"id":"e403e426.fe0d9","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.label=\"SUCCESS\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1600,"wires":[["9b8f6195.c21938","aa0b0f0f.c2c048"]]},{"id":"9b8f6195.c21938","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1640,"wires":[["5251d6b1.43ac58"]]},{"id":"c86c2c1a.20268","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.label=\"Halted experiment\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1560,"wires":[["845ad848.6f2a5"]]},{"id":"f90dfa38.3b9d6","type":"ui_button","z":"42061ad8.4facfc","name":"10 STOP","group":"63aa638c.503edc","order":56,"width":"4","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"str","topic":"","x":860,"y":1540,"wires":[["99201a3d.d27aa8"]]},{"id":"3aec8cf7.3e671c","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.label=\"Stopped.\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":1580,"wires":[["f90dfa38.3b9d6"]]},{"id":"5c1ee976.4d69c","type":"inject","z":"42061ad8.4facfc","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":710,"y":1500,"wires":[["5d457182.06f1e8"]]},{"id":"5d457182.06f1e8","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.label=\"STOP\";\nmsg.background=\"#cb4335\";\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1500,"wires":[["f90dfa38.3b9d6"]]},{"id":"7e5b32cb.1dff04","type":"comment","z":"42061ad8.4facfc","name":"Launch TODOs","info":"Turn off and disable all above switches\ndisable the launch button\nCA MARCHE PAS","x":840,"y":2080,"wires":[]},{"id":"642be1e1.e4a078","type":"comment","z":"42061ad8.4facfc","name":"Reset TODOs","info":"Enable anew all above switches\nReset all default values in exp menu\nBlink LEDs as indicators ;)","x":1440,"y":1660,"wires":[]},{"id":"7f91b5da.b8e28c","type":"comment","z":"42061ad8.4facfc","name":"Stop TODOs","info":"","x":850,"y":1420,"wires":[]},{"id":"2c347d71.c5bcea","type":"simpletime","z":"42061ad8.4facfc","name":"","x":910,"y":2360,"wires":[["862fb638.ecc64","9cef6f75.8db5e8"]]},{"id":"862fb638.ecc64","type":"function","z":"42061ad8.4facfc","name":"20190417_172653_nickname/...","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\")+\"/\"+msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1180,"y":2360,"wires":[["a86eea92.f5c898","628aaa4c.7837dc","d24f0ac6.e3ff8","ed4b00ab.2bbe58"]]},{"id":"d24f0ac6.e3ff8","type":"join","z":"42061ad8.4facfc","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2400,"wires":[["2ed925b9.d73dca"]]},{"id":"a86eea92.f5c898","type":"join","z":"42061ad8.4facfc","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2440,"wires":[["54b2fd7f.bb7dd4"]]},{"id":"628aaa4c.7837dc","type":"join","z":"42061ad8.4facfc","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2480,"wires":[["17d48c9.3373673"]]},{"id":"30ca2a9a.6732ae","type":"function","z":"42061ad8.4facfc","name":"/home/lab513/Desktop/eVOLVER_data/","func":"if (msg.payload){\n    msg.payload=\"/home/lab513/Desktop/eVOLVER_data/\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":2320,"wires":[["d24f0ac6.e3ff8","a86eea92.f5c898","628aaa4c.7837dc","ed4b00ab.2bbe58"]]},{"id":"e9a2e213.05905","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"delay","timeout":"0.2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2360,"wires":[["2c347d71.c5bcea"]]},{"id":"f8bc8196.2e3628","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"nickname","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":2600,"wires":[[]]},{"id":"15c290f9.151abf","type":"function","z":"42061ad8.4facfc","name":".IR","func":"if (msg.payload){\n    msg.payload=\".IR\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2400,"wires":[["d24f0ac6.e3ff8"]]},{"id":"d4a23066.f9ee1","type":"function","z":"42061ad8.4facfc","name":".BL","func":"if (msg.payload){\n    msg.payload=\".BL\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2440,"wires":[["a86eea92.f5c898"]]},{"id":"2ce5b43e.74447c","type":"function","z":"42061ad8.4facfc","name":".Temp","func":"if (msg.payload){\n    msg.payload=\".Temp\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2480,"wires":[["628aaa4c.7837dc"]]},{"id":"8d5edd0c.906818","type":"function","z":"42061ad8.4facfc","name":"Creates Files:","func":"\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":2280,"wires":[["e9a2e213.05905","20533060.1955a8","b31d9af1.0bec78","33b136b.525624a","eec5dda8.9800f8","2149e59a.3d836a","2f332dde.bff64a"]]},{"id":"33b136b.525624a","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2400,"wires":[["15c290f9.151abf"]]},{"id":"eec5dda8.9800f8","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2440,"wires":[["d4a23066.f9ee1"]]},{"id":"2149e59a.3d836a","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2480,"wires":[["2ce5b43e.74447c"]]},{"id":"20533060.1955a8","type":"function","z":"42061ad8.4facfc","name":"reset","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":2280,"wires":[["2ed925b9.d73dca","54b2fd7f.bb7dd4","17d48c9.3373673","e4eda43f.027978"]]},{"id":"b31d9af1.0bec78","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"delay","timeout":"0.1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2320,"wires":[["30ca2a9a.6732ae"]]},{"id":"64728e98.ab0e78","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2600,"wires":[["f8bc8196.2e3628"]]},{"id":"2ed925b9.d73dca","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"FileNameIR","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1500,"y":2400,"wires":[[]]},{"id":"54b2fd7f.bb7dd4","type":"change","z":"42061ad8.4facfc","name":"FileNameBL","rules":[{"t":"set","p":"FileNameBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1470,"y":2440,"wires":[[]]},{"id":"17d48c9.3373673","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"FileNameTemp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":2480,"wires":[[]]},{"id":"ed4b00ab.2bbe58","type":"join","z":"42061ad8.4facfc","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2520,"wires":[["e4eda43f.027978"]]},{"id":"c764cafe.ce7e08","type":"function","z":"42061ad8.4facfc","name":".readme","func":"if (msg.payload){\n    msg.payload=\".readme\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":2520,"wires":[["ed4b00ab.2bbe58"]]},{"id":"2f332dde.bff64a","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2520,"wires":[["c764cafe.ce7e08"]]},{"id":"e4eda43f.027978","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"FileNameReadme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":2520,"wires":[[]]},{"id":"bc04675a.1676b8","type":"inject","z":"42061ad8.4facfc","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":810,"y":2560,"wires":[["b9cdc843.b09b6"]]},{"id":"41a8110f.a07d78","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2560,"wires":[["56289de1.b687dc"]]},{"id":"56289de1.b687dc","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"readme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1480,"y":2560,"wires":[[]]},{"id":"9cef6f75.8db5e8","type":"function","z":"42061ad8.4facfc","name":"displayname","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":2640,"wires":[["98131148.8e6fb"]]},{"id":"98131148.8e6fb","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":2,"width":"15","height":"1","name":"00 Running","label":"Running:","format":"{{msg.payload}}","layout":"row-left","x":1310,"y":2640,"wires":[]},{"id":"8e01a7da.cf7638","type":"inject","z":"42061ad8.4facfc","name":"","topic":"","payload":"-","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":890,"y":2640,"wires":[["8c394bab.6af9c"]]},{"id":"99201a3d.d27aa8","type":"function","z":"42061ad8.4facfc","name":"STOP ACTIONS:","func":"msg.payload=false;\nreturn msg;\n\n//this function allows the fact that the\n//reset button first does the stop action\n//and then resets the buttons etc","outputs":1,"noerr":0,"x":1050,"y":1560,"wires":[["c86c2c1a.20268","3aec8cf7.3e671c","87cb290f.dc01f","ceecc89f.bcefa","5d7ee6e.8e88d98"]]},{"id":"f23b47ba.09e7b8","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":300,"y":1480,"wires":[["3fbe59a8.ff6686"]]},{"id":"38d176b2.de748a","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":850,"y":1460,"wires":[["5d457182.06f1e8"]]},{"id":"69594fa6.28c208","type":"function","z":"42061ad8.4facfc","name":"disable/enable switches","func":"if (msg.payload===\"launch\"){\n    msg.enabled=false;\n}\nelse if (msg.payload===0){\n    msg.enabled=true;\n}\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":2080,"wires":[[]]},{"id":"8c394bab.6af9c","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=\"-\";\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":2640,"wires":[["98131148.8e6fb"]]},{"id":"750372dc.eb272c","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":560,"y":2800,"wires":[["bbdaee0.b401b1","28ba2441.7a0684","44819ae0.586cb4","fa76e726.e75de8","727964d5.deae0c","13ac4422.249b94","595b6e63.874ca","301aaf1f.3761d"]]},{"id":"30dee2a4.a7b296","type":"file","z":"42061ad8.4facfc","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3420,"wires":[[]]},{"id":"2c88d091.a1468","type":"file","z":"42061ad8.4facfc","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3380,"wires":[[]]},{"id":"4b1cda41.bf1d2c","type":"file","z":"42061ad8.4facfc","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3460,"wires":[[]]},{"id":"5826a85f.c6c0b8","type":"switch","z":"42061ad8.4facfc","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3420,"wires":[["7f6cfc5e.c8c2a4"]]},{"id":"28ba2441.7a0684","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"StoreInFile","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":3340,"wires":[[]]},{"id":"42e33707.1fb55","type":"comment","z":"42061ad8.4facfc","name":"Allows storage in the filenames","info":"","x":1050,"y":3340,"wires":[]},{"id":"797b34b4.e71e1c","type":"arduino in","z":"42061ad8.4facfc","name":"Blue Light Sensor","pin":"2","state":"ANALOG","arduino":"7aa0e762.ce5f48","x":790,"y":3420,"wires":[["136eca2b.daffbe"]]},{"id":"b4c09033.151af","type":"arduino in","z":"42061ad8.4facfc","name":"IR Sensor","pin":"1","state":"ANALOG","arduino":"7aa0e762.ce5f48","x":760,"y":3380,"wires":[["77509340.c85d84"]]},{"id":"136eca2b.daffbe","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3420,"wires":[["5826a85f.c6c0b8","a77df151.e3c06"]]},{"id":"77509340.c85d84","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3380,"wires":[["19b38993.312cd6","15afaa3c.eae5b6"]]},{"id":"72c0b873.b1761","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3460,"wires":[["eb51b7be.dc2d38","e40404a1.8d6d78"]]},{"id":"19b38993.312cd6","type":"switch","z":"42061ad8.4facfc","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3380,"wires":[["b31505bd.22a248"]]},{"id":"eb51b7be.dc2d38","type":"switch","z":"42061ad8.4facfc","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3460,"wires":[["f1df023a.e4837"]]},{"id":"1c49f5bf.4d191a","type":"inject","z":"42061ad8.4facfc","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":330,"y":3340,"wires":[["37fd5f53.c1a258"]]},{"id":"bbdaee0.b401b1","type":"function","z":"42061ad8.4facfc","name":"readme","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=flow.get(\"readme\")+\"\\n\"+\n    \"measOD \"+flow.get(\"measOD\").toString()+\"\\n\"+\n    \"measODunits \"+flow.get(\"measODunits\").toString()+\"\\n\"+\n    \"measODtotal \"+flow.get(\"measODtotal\").toString()+\"\\n\"+\n    \n    \"measBL \"+flow.get(\"measBL\").toString()+\"\\n\"+\n    \"measBLunits \"+flow.get(\"measBLunits\").toString()+\"\\n\"+\n    \"measBLtotal \"+flow.get(\"measBLtotal\").toString()+\"\\n\"+\n    \n    \"intBL \"+flow.get(\"intBL\").toString()+\"\\n\"+\n    \n    \"pillBL \"+flow.get(\"pillBL\").toString()+\"\\n\"+\n    \"pillBLunits \"+flow.get(\"pillBLunits\").toString()+\"\\n\"+\n    \"pillBLtotal \"+flow.get(\"pillBLtotal\").toString()+\"\\n\"+\n    \n    \"tillBL \"+flow.get(\"tillBL\").toString()+\"\\n\"+\n    \"tillBLunits \"+flow.get(\"tillBLunits\").toString()+\"\\n\"+\n    \"tillBLtotal \"+flow.get(\"tillBLtotal\").toString()+\"\\n\"+\n    \n    \"Temp \"+flow.get(\"Temp\").toString()+\"\\n\"+\n    \"PID \"+flow.get(\"PID\").toString()+\"\\n\"+\n    \n    \"FANstate \"+flow.get(\"FANstate\").toString()+\"\\n\"+\n    \"intFAN \"+flow.get(\"intFAN\").toString()+\"\\n\"+\n    \n    \"delay \"+flow.get(\"delay\").toString()+\"\\n\"+\n    \"delayunits \"+flow.get(\"delayunits\").toString()+\"\\n\"+\n    \"delaytotal \"+flow.get(\"delaytotal\").toString()+\"\\n\";\n\n//msg.myepoch=msg.myepoch.toString();\n//msg.payload=msg.payload+\";\"+msg.myepoch;\n\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":2940,"wires":[["c4126e1.9c37d1"]]},{"id":"c4126e1.9c37d1","type":"file","z":"42061ad8.4facfc","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":890,"y":2940,"wires":[[]]},{"id":"b31505bd.22a248","type":"simpletime","z":"42061ad8.4facfc","name":"","x":1330,"y":3380,"wires":[["f9c0b96.1537c48"]]},{"id":"f9c0b96.1537c48","type":"function","z":"42061ad8.4facfc","name":"IR+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameIR\");\nreturn msg;","outputs":1,"noerr":0,"x":1480,"y":3380,"wires":[["2c88d091.a1468"]]},{"id":"7f6cfc5e.c8c2a4","type":"simpletime","z":"42061ad8.4facfc","name":"","x":1330,"y":3420,"wires":[["a5051493.88a35"]]},{"id":"a5051493.88a35","type":"function","z":"42061ad8.4facfc","name":"BL+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameBL\");\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":3420,"wires":[["30dee2a4.a7b296"]]},{"id":"f1df023a.e4837","type":"simpletime","z":"42061ad8.4facfc","name":"","x":1330,"y":3460,"wires":[["97f5807d.8c2618"]]},{"id":"97f5807d.8c2618","type":"function","z":"42061ad8.4facfc","name":"Temp+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameTemp\");\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":3460,"wires":[["4b1cda41.bf1d2c"]]},{"id":"b9cdc843.b09b6","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2560,"wires":[["a7062d2a.1a586"]]},{"id":"530187bb.449f58","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=\"eV16_\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2600,"wires":[["70fe4e04.110bd8"]]},{"id":"7acd1de7.3abcd4","type":"function","z":"42061ad8.4facfc","name":"(reset)","func":"\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":2600,"wires":[["b9cdc843.b09b6","530187bb.449f58","8c394bab.6af9c"]]},{"id":"443acd61.31ef6c","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=\"launch\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":2040,"wires":[["69594fa6.28c208"]]},{"id":"37fd5f53.c1a258","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3340,"wires":[["28ba2441.7a0684"]]},{"id":"44819ae0.586cb4","type":"function","z":"42061ad8.4facfc","name":"255","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":750,"y":3640,"wires":[["59926cbd.91a8e4","29c58a0f.721cc6"]]},{"id":"59926cbd.91a8e4","type":"function","z":"42061ad8.4facfc","name":"measODtotal","func":"msg.delay=flow.get(\"measODtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":780,"y":3680,"wires":[["2de339c.71ef646"]]},{"id":"2de339c.71ef646","type":"delay","z":"42061ad8.4facfc","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":3720,"wires":[["44819ae0.586cb4"]]},{"id":"6821d1e6.bd747","type":"function","z":"42061ad8.4facfc","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3640,"wires":[["2de339c.71ef646","29c58a0f.721cc6"]]},{"id":"29c58a0f.721cc6","type":"trigger","z":"42061ad8.4facfc","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1050,"y":3640,"wires":[["cafc8b6e.7ca298","fcab0fc9.7795d","45b12ebe.ddc238"]]},{"id":"cafc8b6e.7ca298","type":"function","z":"42061ad8.4facfc","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":3640,"wires":[["28a0e712.693e58"]]},{"id":"fcab0fc9.7795d","type":"arduino out","z":"42061ad8.4facfc","name":"IR17","pin":"5","state":"PWM","arduino":"7aa0e762.ce5f48","x":1810,"y":3680,"wires":[]},{"id":"7b62d8ea.b1e538","type":"switch","z":"42061ad8.4facfc","name":"lance ventilo","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"gt","v":"160","vt":"num"},{"t":"btwn","v":"0","vt":"num","v2":"160","v2t":"num"}],"checkall":"false","repair":false,"outputs":3,"x":1470,"y":3820,"wires":[["99cdc60a.4a0ec8"],["99cdc60a.4a0ec8"],["f52b0292.361e88","8a0afe8e.eb8088"]],"info":"Coz the ventilo wont start if the value is \nbelow 160.\nTo have a value below 160, we need to start w\na bigger value and THEN get down in value"},{"id":"99cdc60a.4a0ec8","type":"arduino out","z":"42061ad8.4facfc","name":"Fan","pin":"9","state":"PWM","arduino":"7aa0e762.ce5f48","x":1810,"y":3800,"wires":[]},{"id":"8a0afe8e.eb8088","type":"function","z":"42061ad8.4facfc","name":"200","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":1630,"y":3840,"wires":[["99cdc60a.4a0ec8"]]},{"id":"f52b0292.361e88","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":3880,"wires":[["99cdc60a.4a0ec8"]]},{"id":"28a0e712.693e58","type":"arduino out","z":"42061ad8.4facfc","name":"BL17","pin":"6","state":"PWM","arduino":"7aa0e762.ce5f48","x":1810,"y":3740,"wires":[]},{"id":"78377c80.e6dccc","type":"link out","z":"42061ad8.4facfc","name":"RESET17->","links":["b62567cd.0cc8a8","942df972.468bf","674f3fce.3e7c4","440a2d2c.698774","3742e0c8.bcab08","b9fa99c.24e2868","9b3e4119.84a748","948bae02.d8b248"],"x":1755,"y":1480,"wires":[]},{"id":"b62567cd.0cc8a8","type":"link in","z":"42061ad8.4facfc","name":"->Nickname&details","links":["78377c80.e6dccc"],"x":595,"y":2560,"wires":[["7acd1de7.3abcd4"]]},{"id":"7fe7cd95.e9c63c","type":"link in","z":"42061ad8.4facfc","name":"->StoreInFile","links":["87cb290f.dc01f"],"x":375,"y":3300,"wires":[["37fd5f53.c1a258"]]},{"id":"df126e7a.37478","type":"link in","z":"42061ad8.4facfc","name":"->ODmeas","links":["87cb290f.dc01f"],"x":395,"y":3640,"wires":[["6821d1e6.bd747"]]},{"id":"942df972.468bf","type":"link in","z":"42061ad8.4facfc","name":"->stop","links":["78377c80.e6dccc"],"x":875,"y":1620,"wires":[["99201a3d.d27aa8"]]},{"id":"d04b3b63.e029c","type":"function","z":"42061ad8.4facfc","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1740,"y":260,"wires":[["99dfd41b.36b7a"]]},{"id":"63614163.b8c61","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"measOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":260,"wires":[["d2a28500.af8498"]]},{"id":"99dfd41b.36b7a","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"measODunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":260,"wires":[["d2a28500.af8498"]]},{"id":"d2a28500.af8498","type":"function","z":"42061ad8.4facfc","name":"multiply","func":"msg.payload=flow.get(\"measOD\")*flow.get(\"measODunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2100,"y":260,"wires":[["70358908.0d3f98"]]},{"id":"483ee712.f09fa8","type":"function","z":"42061ad8.4facfc","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1760,"y":380,"wires":[["f8920b6a.eae39"]]},{"id":"f7877b74.96e168","type":"function","z":"42061ad8.4facfc","name":"multiply","func":"msg.payload=flow.get(\"measBL\")*flow.get(\"measBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2120,"y":380,"wires":[["39054ffa.7785"]]},{"id":"39054ffa.7785","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"measBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":380,"wires":[["b89c4581.4f24d"]]},{"id":"f4a0693c.2aba98","type":"function","z":"42061ad8.4facfc","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1100,"y":600,"wires":[["11404e69.9d3862"]]},{"id":"bc9c6344.874738","type":"function","z":"42061ad8.4facfc","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":600,"wires":[["fc952ee2.6d597"]]},{"id":"a6a5b7c6.70add","type":"function","z":"42061ad8.4facfc","name":"multiply","func":"msg.payload=flow.get(\"pillBL\")*flow.get(\"pillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1000,"y":700,"wires":[["c55d4ed7.99f4a"]]},{"id":"c55d4ed7.99f4a","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"pillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1170,"y":700,"wires":[["30f04d8a.585eea"]]},{"id":"fcdcd813.ccadb","type":"function","z":"42061ad8.4facfc","name":"multiply","func":"msg.payload=flow.get(\"tillBL\")*flow.get(\"tillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":700,"wires":[["d14d3aa8.02c3a"]]},{"id":"d14d3aa8.02c3a","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"tillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":700,"wires":[[]]},{"id":"c5e74f70.5ff5e8","type":"function","z":"42061ad8.4facfc","name":"multiply","func":"msg.payload=flow.get(\"delay\")*flow.get(\"delayunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":1220,"wires":[["40ebcbac.ad668c"]]},{"id":"40ebcbac.ad668c","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"delaytotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":1220,"wires":[["e83fa2db.8240a"]]},{"id":"318973e1.6adcfc","type":"function","z":"42061ad8.4facfc","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1180,"wires":[["5eeaac4a.e8d304"]]},{"id":"87cb290f.dc01f","type":"link out","z":"42061ad8.4facfc","name":"STOP17.false","links":["16e672b2.3cba15","df126e7a.37478","8c357c9c.a1745","7fe7cd95.e9c63c","33365f38.081c3","1c2bdeeb.23f431","afe590ea.56aef8","baf0212b.19da48","92026217.78d8a8","b15a3a86.ee1a2"],"x":1235,"y":1580,"wires":[]},{"id":"45b12ebe.ddc238","type":"function","z":"42061ad8.4facfc","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":3680,"wires":[["7b62d8ea.b1e538"]]},{"id":"34d9f11f.7757ae","type":"comment","z":"42061ad8.4facfc","name":"OD mesaurements","info":"","x":790,"y":3600,"wires":[]},{"id":"4f8fe035.7b451","type":"function","z":"42061ad8.4facfc","name":"255","func":"if (flow.get(\"measBLtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":910,"y":4220,"wires":[["aab3e9e1.941238","7d89a49d.41b83c"]]},{"id":"aab3e9e1.941238","type":"function","z":"42061ad8.4facfc","name":"measBLtotal","func":"msg.delay=flow.get(\"measBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":4280,"wires":[["66f743a5.15349c"]]},{"id":"66f743a5.15349c","type":"delay","z":"42061ad8.4facfc","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1050,"y":4320,"wires":[["4f8fe035.7b451"]]},{"id":"aa9ffa2b.b03d1","type":"trigger","z":"42061ad8.4facfc","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1350,"y":4240,"wires":[["d82fa130.67046","90f94917.3eb718"]]},{"id":"1369ff9e.e5fe9","type":"comment","z":"42061ad8.4facfc","name":"BL mesaurements","info":"","x":910,"y":4180,"wires":[]},{"id":"7d89a49d.41b83c","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"delay","timeout":"7","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1180,"y":4200,"wires":[["aa9ffa2b.b03d1","77629541.a9635c"]]},{"id":"38332dd8.ced7ca","type":"function","z":"42061ad8.4facfc","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":4220,"wires":[["66f743a5.15349c","aa9ffa2b.b03d1","7d89a49d.41b83c","5a4901c7.d1fc6","f52b0292.361e88"]]},{"id":"8c357c9c.a1745","type":"link in","z":"42061ad8.4facfc","name":"->BLmeas","links":["87cb290f.dc01f"],"x":335,"y":4220,"wires":[["38332dd8.ced7ca"]]},{"id":"90f94917.3eb718","type":"function","z":"42061ad8.4facfc","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":4220,"wires":[["28a0e712.693e58"]]},{"id":"d82fa130.67046","type":"function","z":"42061ad8.4facfc","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":4260,"wires":[["7b62d8ea.b1e538"]]},{"id":"ceecc89f.bcefa","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1540,"wires":[["e051b693.ad4b28"]]},{"id":"e051b693.ad4b28","type":"link out","z":"42061ad8.4facfc","name":"STOP17.0","links":["812a7d83.f28ea","6db55bcd.7a86e4","c58951a5.56b19","615d1638.14342","48c11f9d.37dde","7b3e4ac7.65d3e4"],"x":1295,"y":1540,"wires":[]},{"id":"812a7d83.f28ea","type":"link in","z":"42061ad8.4facfc","name":"->IT,BL,FAN","links":["e051b693.ad4b28"],"x":1475,"y":3640,"wires":[["28a0e712.693e58","fcab0fc9.7795d","99cdc60a.4a0ec8"]]},{"id":"56165391.d89ad4","type":"ui_button","z":"42061ad8.4facfc","name":"02 OD realtime value","group":"63aa638c.503edc","order":11,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3380,"wires":[[]]},{"id":"15afaa3c.eae5b6","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.label=msg.payload;\nif (msg.payload>150){\n    msg.background=\"red\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3380,"wires":[["56165391.d89ad4"]]},{"id":"a77df151.e3c06","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.label=msg.payload;\nif (msg.payload>300){\n    msg.background=\"#44cff1\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3420,"wires":[["af4bfeab.4511f"]]},{"id":"af4bfeab.4511f","type":"ui_button","z":"42061ad8.4facfc","name":"03 BL realtime value","group":"63aa638c.503edc","order":18,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3420,"wires":[[]]},{"id":"9f292c13.7d7f9","type":"comment","z":"42061ad8.4facfc","name":"Display:","info":"","x":1800,"y":3340,"wires":[]},{"id":"5a4901c7.d1fc6","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":3900,"wires":[["73c639e6.91cc38"]]},{"id":"73c639e6.91cc38","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=true;\nreturn msg;\n\n","outputs":1,"noerr":0,"x":750,"y":3940,"wires":[["4f8fe035.7b451","91de955a.66589","ae9b9685.00436","32dad66d.3353d2"]]},{"id":"fa76e726.e75de8","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.delay=flow.get(\"delaytotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3860,"wires":[["5a4901c7.d1fc6","76ba6682.bbc238","32dad66d.3353d2"]]},{"id":"76ba6682.bbc238","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3880,"wires":[["1ce8dbfe.794b0c"]]},{"id":"a303422d.2f02f8","type":"comment","z":"42061ad8.4facfc","name":"growth delay","info":"","x":770,"y":3820,"wires":[]},{"id":"a900b846.65e538","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.delay=flow.get(\"tillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4740,"wires":[["1e788efd.bd64b1"]]},{"id":"1e788efd.bd64b1","type":"delay","z":"42061ad8.4facfc","name":"part","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4740,"wires":[["f3aa9038.50d94"]]},{"id":"91de955a.66589","type":"function","z":"42061ad8.4facfc","name":"","func":"if (flow.get(\"pillBLtotal\") === 0 || flow.get(\"tillBLtotal\") === 0){\n    return;\n}\nelse{\n    msg.payload=flow.get(\"intBL\");\n    msg.state=\"ON\";\n    return msg;\n}\n\n\n","outputs":1,"noerr":0,"x":910,"y":4600,"wires":[["a900b846.65e538","b144be7a.9442b8","2a785dfa.32317a","bb16073a.01635","1cd400b.7ddd4ff"]]},{"id":"f3aa9038.50d94","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=0;\nmsg.state=\"OFF\";\nreturn msg;\n","outputs":1,"noerr":0,"x":1010,"y":4740,"wires":[["2a785dfa.32317a","bb16073a.01635","1cd400b.7ddd4ff"]]},{"id":"b144be7a.9442b8","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.delay=flow.get(\"pillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4700,"wires":[["9d3ca905.f9cb38"]]},{"id":"9d3ca905.f9cb38","type":"delay","z":"42061ad8.4facfc","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4700,"wires":[["91de955a.66589"]]},{"id":"2a8d4f5d.13763","type":"function","z":"42061ad8.4facfc","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":4620,"wires":[["9d3ca905.f9cb38","1e788efd.bd64b1","3d45d676.7fb11a","1cd400b.7ddd4ff"]]},{"id":"10697f34.ca2ef9","type":"comment","z":"42061ad8.4facfc","name":"Cycle w sous cycle la: cool pr la blue LED","info":"","x":990,"y":4500,"wires":[]},{"id":"16e672b2.3cba15","type":"link in","z":"42061ad8.4facfc","name":"->BLcycle","links":["87cb290f.dc01f"],"x":635,"y":4620,"wires":[["2a8d4f5d.13763"]]},{"id":"2a785dfa.32317a","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"BLstate","pt":"flow","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":4560,"wires":[[]]},{"id":"a8fdbac9.9f785","type":"inject","z":"42061ad8.4facfc","name":"","topic":"","payload":"OFF","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":890,"y":4540,"wires":[["3d45d676.7fb11a"]]},{"id":"727964d5.deae0c","type":"function","z":"42061ad8.4facfc","name":"for FAN","func":"if (flow.get(\"FANstate\")===\"ON\"){\n    msg.payload=flow.get(\"intFAN\");\n}\nelse if (flow.get(\"FANstate\")===\"OFF\"){\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":3000,"wires":[["18c5c856.e75fa"]]},{"id":"6db55bcd.7a86e4","type":"link in","z":"42061ad8.4facfc","name":"->PID","links":["e051b693.ad4b28"],"x":455,"y":3140,"wires":[["13ac4422.249b94"]]},{"id":"d342fc68.8e601","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.label=\"Initialization\";\nmsg.background=\"#f39c12\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1640,"wires":[["845ad848.6f2a5"]]},{"id":"f87cd043.b5dba","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":200,"y":1600,"wires":[["183972c5.a4c635"]]},{"id":"ff9c332c.455c7","type":"ui_button","z":"42061ad8.4facfc","name":"06 Temp realtime value","group":"63aa638c.503edc","order":39,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1970,"y":3460,"wires":[[]]},{"id":"e40404a1.8d6d78","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.label=msg.payload;\nif (flow.get(\"PIDstate\")>0){\n    msg.background=\"#fdedec\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3460,"wires":[["ff9c332c.455c7"]]},{"id":"4dd6bf66.0955a","type":"ui_button","z":"42061ad8.4facfc","name":"05 BLstate","group":"63aa638c.503edc","order":27,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1470,"y":4600,"wires":[[]]},{"id":"bb16073a.01635","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.label=msg.state;\nif (msg.label===\"ON\"){\n    msg.background=\"#ebf5fb\";\n}\nelse if (msg.label===\"OFF\"){\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":4600,"wires":[["4dd6bf66.0955a"]]},{"id":"3d45d676.7fb11a","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.state=\"OFF\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":4540,"wires":[["2a785dfa.32317a","bb16073a.01635"]]},{"id":"f013370f.8644d8","type":"function","z":"42061ad8.4facfc","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"pillBLtotal\")/1000-(msg.count%(flow.get(\"pillBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":620,"wires":[["8a5b6e8f.c07fa"]]},{"id":"9947db86.25e018","type":"ui_button","z":"42061ad8.4facfc","name":"04 pillBL Cycle counter","group":"63aa638c.503edc","order":26,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3330,"y":600,"wires":[[]]},{"id":"30f04d8a.585eea","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=flow.get(\"pillBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":580,"wires":[["8a5b6e8f.c07fa","e83fa2db.8240a"]]},{"id":"52952044.81b418","type":"counter","z":"42061ad8.4facfc","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":680,"wires":[["f013370f.8644d8"]]},{"id":"dbd813ae.3b5498","type":"function","z":"42061ad8.4facfc","name":"","func":"if (flow.get(\"counterpillBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"counterpillBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":640,"wires":[["52952044.81b418"]]},{"id":"ae9b9685.00436","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"counterpillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":4460,"wires":[[]]},{"id":"e9ae0c98.2a299","type":"inject","z":"42061ad8.4facfc","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4480,"wires":[["c8159ff4.1973f8"]]},{"id":"c8159ff4.1973f8","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4460,"wires":[["ae9b9685.00436"]]},{"id":"33365f38.081c3","type":"link in","z":"42061ad8.4facfc","name":"->Counter","links":["87cb290f.dc01f"],"x":415,"y":4440,"wires":[["c8159ff4.1973f8"]]},{"id":"514bb7f4.07979","type":"inject","z":"42061ad8.4facfc","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"3","x":190,"y":1520,"wires":[["3fbe59a8.ff6686"]]},{"id":"abdadf8c.09e6","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":1,"width":"3","height":"1","name":"00 eVOLVER16","label":"<font size =5>eVOLVER16","format":"{{msg.payload}}","layout":"row-center","x":700,"y":60,"wires":[]},{"id":"576b05f3.a9f6cc","type":"link out","z":"42061ad8.4facfc","name":"enabled->","links":["4dea90fc.2f6ab"],"x":955,"y":2080,"wires":[]},{"id":"615d1638.14342","type":"link in","z":"42061ad8.4facfc","name":"->GL","links":["e051b693.ad4b28"],"x":255,"y":2120,"wires":[["69594fa6.28c208","6d2d3db7.1c7f4c"]]},{"id":"eaa5cd4.e7930b","type":"comment","z":"42061ad8.4facfc","name":"01","info":"","x":550,"y":60,"wires":[]},{"id":"94aae09a.3e2e98","type":"comment","z":"42061ad8.4facfc","name":"02 ODmeas","info":"","x":650,"y":180,"wires":[]},{"id":"1f288017.439648","type":"comment","z":"42061ad8.4facfc","name":"03 BLmeas","info":"","x":670,"y":300,"wires":[]},{"id":"56109957.79dfc","type":"link in","z":"42061ad8.4facfc","name":"->ARDUINO FAN","links":["1a1705f7.e653d2","18c5c856.e75fa"],"x":1275,"y":3820,"wires":[["7b62d8ea.b1e538"]]},{"id":"3455bb36.63d114","type":"link in","z":"42061ad8.4facfc","name":"->ARDUINO IR","links":["257e4c65.50db14"],"x":1695,"y":3640,"wires":[["fcab0fc9.7795d"]]},{"id":"bb844264.d777f8","type":"link in","z":"42061ad8.4facfc","name":"->ARDUINO BL","links":["1cd400b.7ddd4ff","dc6f1cd.6a6f96"],"x":1615,"y":3760,"wires":[["28a0e712.693e58"]]},{"id":"1cd400b.7ddd4ff","type":"link out","z":"42061ad8.4facfc","name":"BLcycle->BL","links":["bb844264.d777f8"],"x":1235,"y":4660,"wires":[]},{"id":"18c5c856.e75fa","type":"link out","z":"42061ad8.4facfc","name":"Fancontrol","links":["56109957.79dfc"],"x":895,"y":3000,"wires":[]},{"id":"1a1705f7.e653d2","type":"link out","z":"42061ad8.4facfc","name":"Fansetup","links":["56109957.79dfc"],"x":1735,"y":1060,"wires":[]},{"id":"257e4c65.50db14","type":"link out","z":"42061ad8.4facfc","name":"IRsetup","links":["3455bb36.63d114"],"x":1115,"y":180,"wires":[]},{"id":"dc6f1cd.6a6f96","type":"link out","z":"42061ad8.4facfc","name":"BLcycle->BL","links":["bb844264.d777f8"],"x":1135,"y":300,"wires":[]},{"id":"b5732b06.3a649","type":"link out","z":"42061ad8.4facfc","name":"PIDsetup->","links":["9f202de2.72e3f"],"x":1295,"y":880,"wires":[]},{"id":"9f202de2.72e3f","type":"link in","z":"42061ad8.4facfc","name":"->ARDUINO HEATER","links":["b5732b06.3a649","adac9125.ca28a8"],"x":1215,"y":3140,"wires":[["ca64c027.2e63d"]]},{"id":"6d2d3db7.1c7f4c","type":"link out","z":"42061ad8.4facfc","name":"GRlaunch->","links":["df6d15ff.73e378"],"x":515,"y":2160,"wires":[]},{"id":"df6d15ff.73e378","type":"link in","z":"42061ad8.4facfc","name":"->GL","links":["6d2d3db7.1c7f4c"],"x":1035,"y":120,"wires":[["9c805605.93fb9"]]},{"id":"5621b01e.6604d","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":800,"y":3160,"wires":[["fa0960e4.2d3218"]]},{"id":"7515175c.ed3738","type":"PID","z":"42061ad8.4facfc","name":"","setpoint":"550","pb":"0","ti":"900","td":0,"integral_default":0.5,"smooth_factor":3,"max_interval":600,"enable":"0","disabled_op":0,"x":1010,"y":3100,"wires":[["fb92d381.fa6cc8","d7b11bfe.369488"]]},{"id":"f190c7d.8b08438","type":"arduino in","z":"42061ad8.4facfc","name":"TempSensor","pin":"0","state":"ANALOG","arduino":"7aa0e762.ce5f48","x":750,"y":3120,"wires":[["5621b01e.6604d","72c0b873.b1761"]]},{"id":"ca64c027.2e63d","type":"arduino out","z":"42061ad8.4facfc","name":"Heater","pin":"4","state":"OUTPUT","arduino":"7aa0e762.ce5f48","x":1330,"y":3100,"wires":[]},{"id":"fb92d381.fa6cc8","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"PIDstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":3060,"wires":[[]]},{"id":"4c02e363.08a604","type":"inject","z":"42061ad8.4facfc","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":"0.3","x":1130,"y":3020,"wires":[["fb92d381.fa6cc8"]]},{"id":"13ac4422.249b94","type":"function","z":"42061ad8.4facfc","name":"","func":"if (msg.payload===true){\n    msg.enable=1;\n}\nif (msg.payload===0){\n    msg.enable=0;\n}\nif (flow.get(\"PID\")===\"OFF\"){\n    msg.enable=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3080,"wires":[["7515175c.ed3738"]]},{"id":"fa0960e4.2d3218","type":"function","z":"42061ad8.4facfc","name":"setpoint","func":"msg.setpoint=flow.get(\"Temp\");\nreturn msg;","outputs":1,"noerr":0,"x":840,"y":3200,"wires":[["7515175c.ed3738"]]},{"id":"d2ae3e86.658548","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":940,"y":980,"wires":[["6c26fef2.31ea3"]]},{"id":"6c26fef2.31ea3","type":"function","z":"42061ad8.4facfc","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    msg.payload=0;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1210,"y":960,"wires":[["ff83704d.6bdef"]]},{"id":"d7b11bfe.369488","type":"function","z":"42061ad8.4facfc","name":"","func":"if (flow.get(\"launched\")===false){\n    return;\n}\nelse if (flow.get(\"launched\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":1170,"y":3100,"wires":[["ca64c027.2e63d"]]},{"id":"e3276012.9f681","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"launched","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1960,"wires":[[]]},{"id":"7daa088.5a2de78","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":800,"wires":[[]]},{"id":"285e2bc6.4812fc","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"PID","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":860,"wires":[["f0787d8b.f5de28"]]},{"id":"64665582.4376dc","type":"inject","z":"42061ad8.4facfc","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":250,"y":1960,"wires":[["e3276012.9f681"]]},{"id":"1c2bdeeb.23f431","type":"link in","z":"42061ad8.4facfc","name":"->launched","links":["87cb290f.dc01f"],"x":275,"y":2000,"wires":[["e3276012.9f681"]]},{"id":"f78fec06.c9a098","type":"function","z":"42061ad8.4facfc","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    return msg;\n}\n","outputs":1,"noerr":0,"x":910,"y":940,"wires":[["d2ae3e86.658548"]]},{"id":"ce09b255.577a98","type":"inject","z":"42061ad8.4facfc","name":"INITIALIZATION","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":290,"y":720,"wires":[["d807eb52.bc9ef8"]]},{"id":"d807eb52.bc9ef8","type":"function","z":"42061ad8.4facfc","name":"initialization","func":"\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":740,"wires":[["6851a2ae.8c2724","7af42690.8ba64","c33a5b0.309b228","48b7a886.d24da","724ddcbd.6b610c","b06c116b.336258","8171b9f7.c3eda","3b9da2b2.863eee","60a4ebcc.261a3c"]]},{"id":"55053b41.c0663c","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=10;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":180,"wires":[["bb176c92.580968","44d25461.46a2ac","d0d8b6d3.f9282"]]},{"id":"44d25461.46a2ac","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1670,"y":180,"wires":[["6345624a.8d888c","ab8f1d45.9e9c88","41f69005.5675c"]]},{"id":"d0d8b6d3.f9282","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":300,"wires":[["f3e44f0f.1d5788","fed9a593.a435f"]]},{"id":"fed9a593.a435f","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1710,"y":300,"wires":[["f0710986.8ac9e"]]},{"id":"99d04e20.18eea","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":520,"wires":[["3158bf91.7ffdb8","f16ebf3d.d6ead"]]},{"id":"f16ebf3d.d6ead","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=\"seconds\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":520,"wires":[["cb4aefa6.cd66c"]]},{"id":"6851a2ae.8c2724","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=1;\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":520,"wires":[["35da3f00.c87efa","95d60126.ee673"]]},{"id":"95d60126.ee673","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":520,"wires":[["5b4b5577.363134","99d04e20.18eea"]]},{"id":"86a17bd1.4c3f6","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":1140,"wires":[["64a20124.c56138","12a4c37f.b47bcd"]]},{"id":"7af42690.8ba64","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":1140,"wires":[["198423db.bbf454","86a17bd1.4c3f6"]]},{"id":"c33a5b0.309b228","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=550;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":840,"wires":[["7c05c3.c6c74a3c"]]},{"id":"48b7a886.d24da","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":880,"wires":[["ff83704d.6bdef"]]},{"id":"12a4c37f.b47bcd","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":1020,"wires":[["1bb3ba00.18ca16","8059c08b.c3d158"]]},{"id":"8059c08b.c3d158","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=100;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":980,"wires":[["9a919e3b.a74c","ae0975e9.8b79d8"]]},{"id":"ae0975e9.8b79d8","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":800,"wires":[["285e2bc6.4812fc","38bc9f99.245ed8"]]},{"id":"724ddcbd.6b610c","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":1020,"wires":[["dda2322d.4dc488"]]},{"id":"b06c116b.336258","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":420,"wires":[["cb455a70.1a5db8"]]},{"id":"60a4ebcc.261a3c","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":300,"wires":[["10ad31c7.6e08d6"]]},{"id":"3b9da2b2.863eee","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":180,"wires":[["89353cf6.6aee6","ea15a043.bf07d8"]]},{"id":"8171b9f7.c3eda","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":60,"wires":[["f471bcf5.dafc08"]]},{"id":"ea15a043.bf07d8","type":"function","z":"42061ad8.4facfc","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":60,"wires":[["546ec4aa.8c95f4","55053b41.c0663c"]]},{"id":"674f3fce.3e7c4","type":"link in","z":"42061ad8.4facfc","name":"->initialization","links":["78377c80.e6dccc"],"x":375,"y":760,"wires":[["d807eb52.bc9ef8"]]},{"id":"1bb3ba00.18ca16","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1480,"y":1060,"wires":[["ca3c195.0aeace8"]]},{"id":"8a5b6e8f.c07fa","type":"function","z":"42061ad8.4facfc","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":600,"wires":[["9947db86.25e018"]]},{"id":"6e94c4d5.007454","type":"inject","z":"42061ad8.4facfc","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":640,"wires":[["dbd813ae.3b5498"]]},{"id":"9b01bc62.1e1088","type":"function","z":"42061ad8.4facfc","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measODtotal\")/1000-(msg.count%(flow.get(\"measODtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":300,"wires":[["711f3c60.5e68dc"]]},{"id":"77a5682c.af6578","type":"ui_button","z":"42061ad8.4facfc","name":"02 ODmeas Cycle counter","group":"63aa638c.503edc","order":10,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":280,"wires":[[]]},{"id":"ab8f1d45.9e9c88","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=flow.get(\"measODtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":260,"wires":[["711f3c60.5e68dc","b89c4581.4f24d"]]},{"id":"47c10279.583d54","type":"counter","z":"42061ad8.4facfc","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":360,"wires":[["9b01bc62.1e1088"]]},{"id":"fbc2f56e.c550e8","type":"function","z":"42061ad8.4facfc","name":"","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}if (flow.get(\"countermeasOD\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasOD\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":320,"wires":[["47c10279.583d54"]]},{"id":"711f3c60.5e68dc","type":"function","z":"42061ad8.4facfc","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":280,"wires":[["77a5682c.af6578"]]},{"id":"bcc4d85f.b81228","type":"inject","z":"42061ad8.4facfc","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":320,"wires":[["fbc2f56e.c550e8"]]},{"id":"9ba29938.ba29c","type":"function","z":"42061ad8.4facfc","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measBLtotal\")/1000-(msg.count%(flow.get(\"measBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":460,"wires":[["f5b8b2d7.dffe38"]]},{"id":"b15ac3d0.e70e68","type":"ui_button","z":"42061ad8.4facfc","name":"03 BLmeas Cycle counter","group":"63aa638c.503edc","order":17,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":440,"wires":[[]]},{"id":"b89c4581.4f24d","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=flow.get(\"measBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":420,"wires":[["f5b8b2d7.dffe38","30f04d8a.585eea"]]},{"id":"7115541e.e7e71c","type":"counter","z":"42061ad8.4facfc","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":520,"wires":[["9ba29938.ba29c"]]},{"id":"7913bef5.ae7b18","type":"function","z":"42061ad8.4facfc","name":"","func":"if (flow.get(\"countermeasBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":480,"wires":[["7115541e.e7e71c"]]},{"id":"f5b8b2d7.dffe38","type":"function","z":"42061ad8.4facfc","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":440,"wires":[["b15ac3d0.e70e68"]]},{"id":"39879f9.9a2d3e","type":"inject","z":"42061ad8.4facfc","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":480,"wires":[["7913bef5.ae7b18"]]},{"id":"98834a65.f0634","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"countermeasBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1010,"y":4140,"wires":[[]]},{"id":"95711c97.666fe8","type":"inject","z":"42061ad8.4facfc","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4160,"wires":[["39c32c37.cd4e84"]]},{"id":"39c32c37.cd4e84","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4140,"wires":[["98834a65.f0634"]]},{"id":"afe590ea.56aef8","type":"link in","z":"42061ad8.4facfc","name":"->Counter","links":["87cb290f.dc01f"],"x":415,"y":4120,"wires":[["39c32c37.cd4e84"]]},{"id":"595b6e63.874ca","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"countermeasOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3560,"wires":[[]]},{"id":"86e11788.5f4188","type":"inject","z":"42061ad8.4facfc","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":230,"y":3580,"wires":[["fc0d6774.c63cc8"]]},{"id":"fc0d6774.c63cc8","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":3560,"wires":[["595b6e63.874ca"]]},{"id":"baf0212b.19da48","type":"link in","z":"42061ad8.4facfc","name":"->Counter","links":["87cb290f.dc01f"],"x":255,"y":3540,"wires":[["fc0d6774.c63cc8"]]},{"id":"77629541.a9635c","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":4040,"wires":[["98834a65.f0634"]]},{"id":"17623ae8.12665d","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":900,"wires":[["12800a0d.dc815e"]]},{"id":"4251d2bb.59405c","type":"counter","z":"42061ad8.4facfc","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":980,"wires":[["dd4d877.7841cf8"]]},{"id":"33ecd267.578626","type":"function","z":"42061ad8.4facfc","name":"","func":"if (flow.get(\"counterlaunch\")===false){\n    return;\n}\nelse if (flow.get(\"counterlaunch\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":940,"wires":[["4251d2bb.59405c"]]},{"id":"12800a0d.dc815e","type":"function","z":"42061ad8.4facfc","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3120,"y":920,"wires":[["e33c2b2a.d3b308","538b7b6f.0fec5c"]]},{"id":"1229857b.636abb","type":"inject","z":"42061ad8.4facfc","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":940,"wires":[["33ecd267.578626"]]},{"id":"e33c2b2a.d3b308","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":53,"width":"4","height":"1","name":"09 elapsed time","label":"Elapsed time: ","format":"{{msg.payload}}","layout":"row-left","x":3280,"y":940,"wires":[]},{"id":"dd4d877.7841cf8","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=msg.count;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":940,"wires":[["12800a0d.dc815e"]]},{"id":"301aaf1f.3761d","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"counterlaunch","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":2880,"wires":[[]]},{"id":"45b48060.85b438","type":"inject","z":"42061ad8.4facfc","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":270,"y":2900,"wires":[["a7b97c52.f6c9e8"]]},{"id":"a7b97c52.f6c9e8","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":2880,"wires":[["301aaf1f.3761d"]]},{"id":"92026217.78d8a8","type":"link in","z":"42061ad8.4facfc","name":"->Counter","links":["87cb290f.dc01f"],"x":295,"y":2860,"wires":[["a7b97c52.f6c9e8"]]},{"id":"80897cea.889a38","type":"function","z":"42061ad8.4facfc","name":"","func":"if (msg.count>=flow.get(\"delaytotal\")/1000){\n    msg.payload=0;\n}\nelse {\n    msg.payload=flow.get(\"delaytotal\")/1000-(msg.count%(flow.get(\"delaytotal\")/1000));\n\n}\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":780,"wires":[["352db3a0.a312d4"]]},{"id":"e2f4f19c.938558","type":"ui_button","z":"42061ad8.4facfc","name":"08 growthdelay Cycle counter","group":"63aa638c.503edc","order":50,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3350,"y":760,"wires":[[]]},{"id":"e83fa2db.8240a","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=flow.get(\"delaytotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":740,"wires":[["352db3a0.a312d4","17623ae8.12665d"]]},{"id":"faabaaad.04b71","type":"counter","z":"42061ad8.4facfc","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":840,"wires":[["80897cea.889a38"]]},{"id":"84d5345c.93957","type":"function","z":"42061ad8.4facfc","name":"","func":"if (flow.get(\"delaytotal\")===0){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===false){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":800,"wires":[["faabaaad.04b71"]]},{"id":"352db3a0.a312d4","type":"function","z":"42061ad8.4facfc","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":760,"wires":[["e2f4f19c.938558"]]},{"id":"a0fb3596.94672","type":"inject","z":"42061ad8.4facfc","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":800,"wires":[["84d5345c.93957"]]},{"id":"1ce8dbfe.794b0c","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"counterdelay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1040,"y":3840,"wires":[[]]},{"id":"394bc7a0.d272e8","type":"inject","z":"42061ad8.4facfc","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":430,"y":3860,"wires":[["1a7d5df6.83a1f2"]]},{"id":"1a7d5df6.83a1f2","type":"function","z":"42061ad8.4facfc","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":3840,"wires":[["1ce8dbfe.794b0c","32dad66d.3353d2"]]},{"id":"b15a3a86.ee1a2","type":"link in","z":"42061ad8.4facfc","name":"->Counter","links":["87cb290f.dc01f"],"x":455,"y":3820,"wires":[["1a7d5df6.83a1f2"]]},{"id":"a2fc5332.ecf908","type":"ui_text","z":"42061ad8.4facfc","group":"63aa638c.503edc","order":51,"width":"2","height":"1","name":"08 growth delay status","label":"","format":"{{msg.payload}}","layout":"row-center","x":1110,"y":3960,"wires":[]},{"id":"32dad66d.3353d2","type":"function","z":"42061ad8.4facfc","name":"","func":"if (msg.payload===false){\n    msg.payload=\"delay status\";\n}\nif (msg.payload===\"delay\"){\n    msg.payload=\"ongoing\";\n}\nelse if (msg.payload===true){\n    msg.payload=\"over\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3960,"wires":[["a2fc5332.ecf908"]]},{"id":"16f836a9.a18579","type":"function","z":"42061ad8.4facfc","name":"reset","func":"msg.reset=true;\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2410,"y":540,"wires":[["47c10279.583d54","52952044.81b418","faabaaad.04b71","4251d2bb.59405c"]]},{"id":"41f69005.5675c","type":"delay","z":"42061ad8.4facfc","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":2240,"y":520,"wires":[["16f836a9.a18579"]]},{"id":"538b7b6f.0fec5c","type":"change","z":"42061ad8.4facfc","name":"","rules":[{"t":"set","p":"elapsed","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3290,"y":900,"wires":[[]]},{"id":"5d7ee6e.8e88d98","type":"function","z":"42061ad8.4facfc","name":"elapsed","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=\"Elapsed time \"+flow.get(\"elapsed\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":1660,"wires":[["2d93552e.bcfc42"]]},{"id":"2d93552e.bcfc42","type":"file","z":"42061ad8.4facfc","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1270,"y":1660,"wires":[[]]},{"id":"ce819bf6.bd2bd","type":"comment","z":"42061ad8.4facfc","name":"BOUGZY DEPLOY","info":"","x":2590,"y":80,"wires":[]},{"id":"562fda31.766e54","type":"arduino out","z":"4fbe4352.72609c","name":"GL17","pin":"3","state":"OUTPUT","arduino":"c33baa48.3545b","x":1130,"y":60,"wires":[]},{"id":"c6b4683d.00fae8","type":"arduino out","z":"4fbe4352.72609c","name":"YL17","pin":"2","state":"OUTPUT","arduino":"c33baa48.3545b","x":1550,"y":60,"wires":[]},{"id":"85185d5a.3d6538","type":"ui_slider","z":"4fbe4352.72609c","name":"05 intensity:","label":"intensity:","tooltip":"","group":"71419c2a.2a3a5c","order":30,"width":"7","height":"1","passthru":true,"outs":"end","topic":"","min":0,"max":"255","step":"1","x":1170,"y":420,"wires":[["3f60083a.e88118","db12e82.73d3318"]]},{"id":"e0313cc7.10924","type":"ui_numeric","z":"4fbe4352.72609c","name":"06 and set to 480","label":"and set to","tooltip":"","group":"71419c2a.2a3a5c","order":37,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"1025","step":"1","x":1030,"y":840,"wires":[["95c1b819.adb18"]]},{"id":"e9a721fc.7d59e","type":"ui_switch","z":"4fbe4352.72609c","name":"01 GL17","label":"","tooltip":"","group":"71419c2a.2a3a5c","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"green","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"green","x":1000,"y":60,"wires":[["562fda31.766e54"]]},{"id":"54d53a28.01fadc","type":"ui_switch","z":"4fbe4352.72609c","name":"01 YL17","label":"","tooltip":"","group":"71419c2a.2a3a5c","order":4,"width":"1","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#e2c43c","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"#e2c43c","x":1420,"y":60,"wires":[["c6b4683d.00fae8"]]},{"id":"6725a87c.0c96f8","type":"ui_switch","z":"4fbe4352.72609c","name":"02 IR17","label":"","tooltip":"","group":"71419c2a.2a3a5c","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"red","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1000,"y":180,"wires":[["2750b754.619ee"]]},{"id":"ed81486a.d840b8","type":"ui_switch","z":"4fbe4352.72609c","name":"03 BL17","label":"","tooltip":"","group":"71419c2a.2a3a5c","order":12,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"lightbulb_outline","oncolor":"#44cff1","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1020,"y":300,"wires":[["db12e82.73d3318"]]},{"id":"47d5cb73.338dfc","type":"ui_switch","z":"4fbe4352.72609c","name":"07 FAN","label":"","tooltip":"","group":"71419c2a.2a3a5c","order":40,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"255","onvalueType":"num","onicon":"toys","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1620,"y":1080,"wires":[["40dbb3ce.4e797c"]]},{"id":"8ebb4aa1.4c313","type":"ui_switch","z":"4fbe4352.72609c","name":"06 T01 PID","label":"","tooltip":"","group":"71419c2a.2a3a5c","order":33,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"enable","style":"","onvalue":"1","onvalueType":"num","onicon":"hot_tub","oncolor":"grey","offvalue":"0","offvalueType":"num","officon":"radio_button_unchecked","offcolor":"grey","x":1030,"y":880,"wires":[["ff0db912.dd6e58","273a397f.800b66"]]},{"id":"8b5085b5.9743a8","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":25,"width":"2","height":"1","name":"04 spacer","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1770,"y":520,"wires":[]},{"id":"cc74b1a8.f5634","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":46,"width":"7","height":"1","name":"07 last spacer","label":"(produces sound: fine).","format":"{{msg.payload}}","layout":"row-spread","x":1960,"y":1020,"wires":[]},{"id":"57e8514a.c7fb2","type":"ui_numeric","z":"4fbe4352.72609c","name":"02 every 5","label":"every","tooltip":"","group":"71419c2a.2a3a5c","order":7,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1450,"y":220,"wires":[["3263e05b.45e38"]]},{"id":"69376c90.dfd2ac","type":"ui_dropdown","z":"4fbe4352.72609c","name":"02 minutes","label":"","tooltip":"","place":"Select option","group":"71419c2a.2a3a5c","order":8,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1690,"y":220,"wires":[["6948c741.279af"]]},{"id":"7b6f7920.111f48","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"measODtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2280,"y":320,"wires":[["18b23ffb.122cc"]]},{"id":"b95b02ac.ba9e48","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":9,"width":"7","height":"1","name":"02 (takes 5 seconds)","label":"(takes 5 seconds).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":180,"wires":[]},{"id":"ae2188e9.5f47d","type":"ui_numeric","z":"4fbe4352.72609c","name":"03 every 5","label":"every","tooltip":"","group":"71419c2a.2a3a5c","order":14,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1490,"y":340,"wires":[["9b2ec0b2.b0842"]]},{"id":"3f26aae4.5d9616","type":"ui_dropdown","z":"4fbe4352.72609c","name":"03 minutes","label":"","tooltip":"","place":"Select option","group":"71419c2a.2a3a5c","order":15,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1730,"y":340,"wires":[["c0cf4acb.c2e098"]]},{"id":"9b2ec0b2.b0842","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"measBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":380,"wires":[["40e61d25.767fd4"]]},{"id":"a9fb1377.b4b0c8","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"measBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1940,"y":380,"wires":[["40e61d25.767fd4"]]},{"id":"2489dfc3.61be78","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":16,"width":"7","height":"1","name":"03 (takes 5 seconds)","label":"(takes 5 secs, max illum., shifted timing).","format":"{{msg.payload}}","layout":"row-spread","x":1920,"y":300,"wires":[]},{"id":"3f60083a.e88118","type":"ui_numeric","z":"4fbe4352.72609c","name":"05 at 255","label":"at","tooltip":"","group":"71419c2a.2a3a5c","order":29,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":"1","x":1020,"y":420,"wires":[["3963d0d9.0228f","85185d5a.3d6538"]]},{"id":"3963d0d9.0228f","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"intBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":460,"wires":[[]]},{"id":"8c50342e.228088","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":6,"width":"3","height":"1","name":"02 Meaure OD:","label":"Measure OD:","format":"{{msg.payload}}","layout":"row-spread","x":1280,"y":180,"wires":[]},{"id":"e7382c9.d12dcd","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":13,"width":"3","height":"1","name":"03 Meaure BL:","label":"Measure BL:","format":"{{msg.payload}}","layout":"row-spread","x":1340,"y":300,"wires":[]},{"id":"689b9e14.448f7","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":28,"width":"4","height":"1","name":"05 spacer1","label":"","format":"{{msg.payload}}","layout":"row-spread","x":710,"y":420,"wires":[]},{"id":"dfe72b49.81b96","type":"ui_button","z":"4fbe4352.72609c","name":"05 OK","group":"71419c2a.2a3a5c","order":31,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1350,"y":420,"wires":[["ed81486a.d840b8"]]},{"id":"ae4aeecf.948e5","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":19,"width":"1","height":"1","name":"04 - -","label":"","format":"{{msg.payload}}","layout":"row-spread","x":630,"y":520,"wires":[]},{"id":"70c80362.10f514","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":20,"width":"3","height":"1","name":"04 Illuminate BL:","label":"Illuminate BL:","format":"{{msg.payload}}","layout":"row-spread","x":670,"y":560,"wires":[]},{"id":"1b23576d.7aaa69","type":"ui_numeric","z":"4fbe4352.72609c","name":"04 every 1","label":"every","tooltip":"","group":"71419c2a.2a3a5c","order":21,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":850,"y":560,"wires":[["3379da2e.42e8d6"]]},{"id":"fc9d942c.80ad38","type":"ui_dropdown","z":"4fbe4352.72609c","name":"04 hour","label":"","tooltip":"","place":"Select option","group":"71419c2a.2a3a5c","order":22,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1080,"y":560,"wires":[["cd34fab3.9097b"]]},{"id":"3379da2e.42e8d6","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"pillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":600,"wires":[["245c29f2.b9b296"]]},{"id":"4a42a5a6.be8914","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"pillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":640,"wires":[["245c29f2.b9b296"]]},{"id":"cb59ffd.aba12","type":"ui_numeric","z":"4fbe4352.72609c","name":"04 for 5","label":"for","tooltip":"","group":"71419c2a.2a3a5c","order":23,"width":"3","height":"1","passthru":true,"topic":"","format":"{{value}}","min":0,"max":"60","step":"1","x":1340,"y":560,"wires":[["e66aa06a.db9f5"]]},{"id":"f03bdc87.3279","type":"ui_dropdown","z":"4fbe4352.72609c","name":"04 minutes","label":"","tooltip":"","place":"Select option","group":"71419c2a.2a3a5c","order":24,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1590,"y":560,"wires":[["c4a8e156.44a768"]]},{"id":"e66aa06a.db9f5","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"tillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":600,"wires":[["6f36b0ff.dc5fe"]]},{"id":"c1b1442a.fdf628","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"tillBLunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1610,"y":640,"wires":[["6f36b0ff.dc5fe"]]},{"id":"23b379d7.3fef1e","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":32,"width":"5","height":"1","name":"05 spacer2","label":"","format":"{{msg.payload}}","layout":"row-spread","x":1530,"y":420,"wires":[]},{"id":"9251456.aef3438","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":35,"width":"2","height":"1","name":"06 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1850,"y":860,"wires":[]},{"id":"d9980886.8e953","type":"ui_switch","z":"4fbe4352.72609c","name":"06 act.switch","label":"","tooltip":"","group":"71419c2a.2a3a5c","order":36,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"hot_tub","oncolor":"red","offvalue":"OFF","offvalueType":"str","officon":"ac_unit","offcolor":"grey","x":1520,"y":880,"wires":[["4fcbc4d9.cda2d4"]]},{"id":"a40ebf86.f2284","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":38,"width":"6","height":"1","name":"06 Volts.","label":"Volts.","format":"{{msg.payload}}","layout":"row-spread","x":1220,"y":840,"wires":[]},{"id":"fd9ad929.1d1b18","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":34,"width":"4","height":"1","name":"06 Temperature control:","label":"Temperature control:","format":"{{msg.payload}}","layout":"row-spread","x":2050,"y":860,"wires":[]},{"id":"97bfa492.1c7fb","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":41,"width":"4","height":"1","name":"07 Fan:","label":"Fan:","format":"{{msg.payload}}","layout":"row-spread","x":700,"y":1060,"wires":[]},{"id":"d2796990.f0109","type":"ui_switch","z":"4fbe4352.72609c","name":"07 enable switch","label":"","tooltip":"","group":"71419c2a.2a3a5c","order":43,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"ON","onvalueType":"str","onicon":"toys","oncolor":"green","offvalue":"OFF","offvalueType":"str","officon":"radio_button_unchecked","offcolor":"grey","x":910,"y":1060,"wires":[["d0d14d71.3ab9c","6ba10c40.99e9dc"]]},{"id":"6ba10c40.99e9dc","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":42,"width":"2","height":"1","name":"07 ONOFF","label":"","format":"{{msg.payload}}","layout":"row-center","x":1230,"y":1060,"wires":[]},{"id":"d0d14d71.3ab9c","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"FANstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1020,"wires":[[]]},{"id":"6adb84e.45994fc","type":"ui_numeric","z":"4fbe4352.72609c","name":"07 and set to 100","label":"and set to","tooltip":"","group":"71419c2a.2a3a5c","order":44,"width":"4","height":"1","passthru":true,"topic":"","format":"{{value}}","min":"0","max":"255","step":"1","x":1590,"y":1020,"wires":[["e822a607.40f778","40dbb3ce.4e797c"]]},{"id":"e822a607.40f778","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"intFAN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1780,"y":1000,"wires":[[]]},{"id":"89d480c2.32a17","type":"ui_button","z":"4fbe4352.72609c","name":"07 OK","group":"71419c2a.2a3a5c","order":45,"width":"1","height":"1","passthru":true,"label":"OK","tooltip":"","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1430,"y":1100,"wires":[["47d5cb73.338dfc"]]},{"id":"2c80ce71.e52542","type":"ui_numeric","z":"4fbe4352.72609c","name":"08 add delay","label":"Add growing delay of","tooltip":"","group":"71419c2a.2a3a5c","order":47,"width":"6","height":"1","passthru":true,"topic":"setpoint","format":"{{value}}","min":"0","max":"100","step":"1","x":870,"y":1180,"wires":[["5eae317b.d9b1f"]]},{"id":"41453808.85d24","type":"ui_dropdown","z":"4fbe4352.72609c","name":"08 hour","label":"","tooltip":"","place":"Select option","group":"71419c2a.2a3a5c","order":48,"width":"2","height":"1","passthru":true,"options":[{"label":"seconds","value":"seconds","type":"str"},{"label":"minutes","value":"minutes","type":"str"},{"label":"hours","value":"hours","type":"str"}],"payload":"","topic":"","x":1060,"y":1180,"wires":[["8030d233.bcc3d"]]},{"id":"5eae317b.d9b1f","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"delay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":1220,"wires":[["af29ed34.c2f778"]]},{"id":"179adb81.758ecc","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"delayunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1090,"y":1220,"wires":[["af29ed34.c2f778"]]},{"id":"fca2f606.7e8108","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":49,"width":"8","height":"1","name":"08 finalspacer","label":"(during which no BL measure will be made).","format":"{{msg.payload}}","layout":"row-spread","x":1240,"y":1140,"wires":[]},{"id":"23689365.9316d4","type":"ui_text_input","z":"4fbe4352.72609c","name":"09 DETAILS","label":"DETAILS:","tooltip":"","group":"71419c2a.2a3a5c","order":52,"width":"16","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1110,"y":2560,"wires":[["d264afc0.5bb26"]]},{"id":"2910f026.3c15e8","type":"ui_text_input","z":"4fbe4352.72609c","name":"10 Nickname","label":"Nickname:","tooltip":"","group":"71419c2a.2a3a5c","order":54,"width":"4","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":1120,"y":2600,"wires":[["a5e081e4.26237"]]},{"id":"9a3f1ae4.bad5f8","type":"inject","z":"4fbe4352.72609c","name":"","topic":"","payload":"eV17_","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":830,"y":2600,"wires":[["68f4251d.7b8eb4"]]},{"id":"82ede96d.d79b38","type":"ui_button","z":"4fbe4352.72609c","name":"10 LAUNCH EXP","group":"71419c2a.2a3a5c","order":55,"width":"10","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"bool","topic":"","x":310,"y":1900,"wires":[["d0b8b087.8efd2","c7c3fd.1ac414","9e6facc0.c663b8","42f8af47.d99c28","ff763578.a9f43","431e214c.92e3d","c1f7f2f6.682b9"]]},{"id":"7b428d61.1d98f4","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.label=\"Running...\";\nmsg.background=\"#FFC300\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1600,"wires":[["82ede96d.d79b38"]]},{"id":"50875a8f.7f3dec","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.label=\"LAUNCH EXPERIMENT\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1520,"wires":[["82ede96d.d79b38"]]},{"id":"84dae152.a0896","type":"inject","z":"4fbe4352.72609c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":210,"y":1640,"wires":[["42f8af47.d99c28"]]},{"id":"de0c6db3.d238d8","type":"ui_button","z":"4fbe4352.72609c","name":"10 RESET","group":"71419c2a.2a3a5c","order":57,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"reset","payloadType":"str","topic":"","x":1610,"y":1480,"wires":[["f2106dbf.d68e88","6cc610ea.560138","278a11f6.32e99e","6914e038.e5a908"]]},{"id":"f2106dbf.d68e88","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.label=\"Reseting...\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1520,"wires":[["de0c6db3.d238d8","7b0f75e1.be98e4"]]},{"id":"3b92888f.21946","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.label=\"RESET\";\nmsg.background=\"grey\";\nreturn msg;","outputs":1,"noerr":0,"x":1750,"y":1660,"wires":[["de0c6db3.d238d8"]]},{"id":"6d4a02d9.e4ff84","type":"inject","z":"4fbe4352.72609c","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1630,"y":1680,"wires":[["3b92888f.21946"]]},{"id":"7b0f75e1.be98e4","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1560,"wires":[["82a8f0c0.26ff4"]]},{"id":"82a8f0c0.26ff4","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.label=\"SUCCESS\";\nmsg.background=\"green\";\nreturn msg;","outputs":1,"noerr":0,"x":1610,"y":1600,"wires":[["1a214cd9.a4ba53","de0c6db3.d238d8"]]},{"id":"1a214cd9.a4ba53","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1610,"y":1640,"wires":[["3b92888f.21946"]]},{"id":"f6cfa0e5.ca17f8","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.label=\"Halted experiment\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1560,"wires":[["82ede96d.d79b38"]]},{"id":"720cc6be.5d5408","type":"ui_button","z":"4fbe4352.72609c","name":"10 STOP","group":"71419c2a.2a3a5c","order":56,"width":"4","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"blackgrey","bgcolor":"{{msg.background}}","icon":"","payload":"true","payloadType":"str","topic":"","x":860,"y":1540,"wires":[["9538c82.3438938"]]},{"id":"20c49d6a.66c82a","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.label=\"Stopped.\";\nmsg.background=\"#78281f\";\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":1580,"wires":[["720cc6be.5d5408"]]},{"id":"ba12a81.721ecd8","type":"inject","z":"4fbe4352.72609c","name":"","topic":"","payload":"init","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":710,"y":1500,"wires":[["1cdfcc60.d616fc"]]},{"id":"1cdfcc60.d616fc","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.label=\"STOP\";\nmsg.background=\"#cb4335\";\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":1500,"wires":[["720cc6be.5d5408"]]},{"id":"d04d9085.619d98","type":"comment","z":"4fbe4352.72609c","name":"Launch TODOs","info":"Turn off and disable all above switches\ndisable the launch button\nCA MARCHE PAS","x":840,"y":2080,"wires":[]},{"id":"e04f2e13.670e48","type":"comment","z":"4fbe4352.72609c","name":"Reset TODOs","info":"Enable anew all above switches\nReset all default values in exp menu\nBlink LEDs as indicators ;)","x":1440,"y":1660,"wires":[]},{"id":"4e3efc26.690e34","type":"comment","z":"4fbe4352.72609c","name":"Stop TODOs","info":"","x":850,"y":1420,"wires":[]},{"id":"c52a9f94.247d7","type":"simpletime","z":"4fbe4352.72609c","name":"","x":910,"y":2360,"wires":[["ea1821e4.441f68","770ae894.993688"]]},{"id":"ea1821e4.441f68","type":"function","z":"4fbe4352.72609c","name":"20190417_172653_nickname/...","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\")+\"/\"+msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1180,"y":2360,"wires":[["cc40c138.6fb7d","1db2221b.f0eb1e","eb0ade5a.89f148","41e8da5e.a224a4"]]},{"id":"eb0ade5a.89f148","type":"join","z":"4fbe4352.72609c","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2400,"wires":[["573152e5.e5576c"]]},{"id":"cc40c138.6fb7d","type":"join","z":"4fbe4352.72609c","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2440,"wires":[["a313d08d.c9db38"]]},{"id":"1db2221b.f0eb1e","type":"join","z":"4fbe4352.72609c","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2480,"wires":[["9a5b501a.40415"]]},{"id":"f7b28455.c539e","type":"function","z":"4fbe4352.72609c","name":"/home/lab513/Desktop/eVOLVER_data/","func":"if (msg.payload){\n    msg.payload=\"/home/lab513/Desktop/eVOLVER_data/\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":2320,"wires":[["eb0ade5a.89f148","cc40c138.6fb7d","1db2221b.f0eb1e","41e8da5e.a224a4"]]},{"id":"e9aed878.29ea7","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"delay","timeout":"0.2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2360,"wires":[["c52a9f94.247d7"]]},{"id":"45168e01.05ff1","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"nickname","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":2600,"wires":[[]]},{"id":"965bab08.ee6b5","type":"function","z":"4fbe4352.72609c","name":".IR","func":"if (msg.payload){\n    msg.payload=\".IR\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2400,"wires":[["eb0ade5a.89f148"]]},{"id":"544a763d.5ba8c8","type":"function","z":"4fbe4352.72609c","name":".BL","func":"if (msg.payload){\n    msg.payload=\".BL\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2440,"wires":[["cc40c138.6fb7d"]]},{"id":"41f011ef.0ba1c","type":"function","z":"4fbe4352.72609c","name":".Temp","func":"if (msg.payload){\n    msg.payload=\".Temp\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":2480,"wires":[["1db2221b.f0eb1e"]]},{"id":"d0b8b087.8efd2","type":"function","z":"4fbe4352.72609c","name":"Creates Files:","func":"\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":2280,"wires":[["e9aed878.29ea7","eb191039.f74f48","f2dd2b4c.76825","7d8c3891.39134","6ffb9775.8d151","a79f3062.1da59","8d3623d.12dc66"]]},{"id":"7d8c3891.39134","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2400,"wires":[["965bab08.ee6b5"]]},{"id":"6ffb9775.8d151","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2440,"wires":[["544a763d.5ba8c8"]]},{"id":"a79f3062.1da59","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2480,"wires":[["41f011ef.0ba1c"]]},{"id":"eb191039.f74f48","type":"function","z":"4fbe4352.72609c","name":"reset","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":2280,"wires":[["573152e5.e5576c","a313d08d.c9db38","9a5b501a.40415","3de013fe.3a3d6c"]]},{"id":"f2dd2b4c.76825","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"delay","timeout":"0.1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2320,"wires":[["f7b28455.c539e"]]},{"id":"a5e081e4.26237","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2600,"wires":[["45168e01.05ff1"]]},{"id":"573152e5.e5576c","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"FileNameIR","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1500,"y":2400,"wires":[[]]},{"id":"a313d08d.c9db38","type":"change","z":"4fbe4352.72609c","name":"FileNameBL","rules":[{"t":"set","p":"FileNameBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1470,"y":2440,"wires":[[]]},{"id":"9a5b501a.40415","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"FileNameTemp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":2480,"wires":[[]]},{"id":"41e8da5e.a224a4","type":"join","z":"4fbe4352.72609c","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1270,"y":2520,"wires":[["3de013fe.3a3d6c"]]},{"id":"9b1b105c.9b854","type":"function","z":"4fbe4352.72609c","name":".readme","func":"if (msg.payload){\n    msg.payload=\".readme\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":2520,"wires":[["41e8da5e.a224a4"]]},{"id":"8d3623d.12dc66","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"delay","timeout":"0.4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":2520,"wires":[["9b1b105c.9b854"]]},{"id":"3de013fe.3a3d6c","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"FileNameReadme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":2520,"wires":[[]]},{"id":"124edc1b.fd3b64","type":"inject","z":"4fbe4352.72609c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":810,"y":2560,"wires":[["17253b86.69d894"]]},{"id":"d264afc0.5bb26","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":2560,"wires":[["6c279670.38f49"]]},{"id":"6c279670.38f49","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"readme","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1480,"y":2560,"wires":[[]]},{"id":"770ae894.993688","type":"function","z":"4fbe4352.72609c","name":"displayname","func":"msg.myyear=msg.myyear.toString();\n\nif (msg.mymonthn<10) {\n  msg.mymonthn=\"0\"+msg.mymonthn.toString();\n} else if (msg.payload>=10) {\n  msg.mymonthn=msg.mymonthn.toString();\n}\n\nif (msg.mydom<10) {\n  msg.mydom=\"0\"+msg.mydom.toString();\n} else if (msg.mydom>=10) {\n  msg.mydom=msg.mydom.toString();\n}\n\nif (msg.myhour<10) {\n  msg.myhour=\"0\"+msg.myhour.toString();\n} else if (msg.myhour>=10) {\n  msg.myhour=msg.myhour.toString();\n}\n\nif (msg.myminute<10) {\n  msg.myminute=\"0\"+msg.myminute.toString();\n} else if (msg.myminute>=10) {\n  msg.myminute=msg.myminute.toString();\n}\n\nif (msg.mysecond<10) {\n  msg.mysecond=\"0\"+msg.mysecond.toString();\n} else if (msg.mysecond>=10) {\n  msg.mysecond=msg.mysecond.toString();\n}\n\nmsg.payload=msg.myyear+msg.mymonthn+msg.mydom+\"_\"+msg.myhour+msg.myminute+msg.mysecond+\"_\"+flow.get(\"nickname\");\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":2640,"wires":[["c390356e.dc0798"]]},{"id":"c390356e.dc0798","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":2,"width":"15","height":"1","name":"00 Running","label":"Running:","format":"{{msg.payload}}","layout":"row-left","x":1310,"y":2640,"wires":[]},{"id":"84dfb009.7c1388","type":"inject","z":"4fbe4352.72609c","name":"","topic":"","payload":"-","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"4","x":890,"y":2640,"wires":[["7e45161.dfd1a68"]]},{"id":"9538c82.3438938","type":"function","z":"4fbe4352.72609c","name":"STOP ACTIONS:","func":"msg.payload=false;\nreturn msg;\n\n//this function allows the fact that the\n//reset button first does the stop action\n//and then resets the buttons etc","outputs":1,"noerr":0,"x":1050,"y":1560,"wires":[["f6cfa0e5.ca17f8","20c49d6a.66c82a","9b92376.8cbbd48","253577cb.b4a9b","12259e48.0a147a"]]},{"id":"6cc610ea.560138","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":300,"y":1480,"wires":[["50875a8f.7f3dec"]]},{"id":"278a11f6.32e99e","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":850,"y":1460,"wires":[["1cdfcc60.d616fc"]]},{"id":"3481cd8c.8a488a","type":"function","z":"4fbe4352.72609c","name":"disable/enable switches","func":"if (msg.payload===\"launch\"){\n    msg.enabled=false;\n}\nelse if (msg.payload===0){\n    msg.enabled=true;\n}\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":2080,"wires":[[]]},{"id":"7e45161.dfd1a68","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=\"-\";\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":2640,"wires":[["c390356e.dc0798"]]},{"id":"c7c3fd.1ac414","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":560,"y":2800,"wires":[["bee98783.67afa","6670f86e.6073","7836637.ca3269c","d1659713.15b8a","7e9ff550.3491ec","f924e65c.d0ff7","a2a840e7.4c879","c6a0d75e.76fc7"]]},{"id":"4ac4bdbb.c0513c","type":"file","z":"4fbe4352.72609c","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3420,"wires":[[]]},{"id":"4b5d4134.40016","type":"file","z":"4fbe4352.72609c","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3380,"wires":[[]]},{"id":"e3451972.cd935","type":"file","z":"4fbe4352.72609c","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1650,"y":3460,"wires":[[]]},{"id":"ff495aba.06887","type":"switch","z":"4fbe4352.72609c","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3420,"wires":[["c8c6f51f.7bf77"]]},{"id":"6670f86e.6073","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"StoreInFile","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":3340,"wires":[[]]},{"id":"59387d1.10cff84","type":"comment","z":"4fbe4352.72609c","name":"Allows storage in the filenames","info":"","x":1050,"y":3340,"wires":[]},{"id":"d7c7f329.dd5f9","type":"arduino in","z":"4fbe4352.72609c","name":"Blue Light Sensor","pin":"2","state":"ANALOG","arduino":"c33baa48.3545b","x":790,"y":3420,"wires":[["5b20d463.6876dc"]]},{"id":"9c9d8efc.9d3a18","type":"arduino in","z":"4fbe4352.72609c","name":"IR Sensor","pin":"1","state":"ANALOG","arduino":"c33baa48.3545b","x":760,"y":3380,"wires":[["41ed1de8.b8f06c"]]},{"id":"5b20d463.6876dc","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3420,"wires":[["ff495aba.06887","41fe235a.30a13c"]]},{"id":"41ed1de8.b8f06c","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3380,"wires":[["24b089e1.f8e5c6","e51ade70.3d7d8"]]},{"id":"b759ea1e.c8b0c8","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1000,"y":3460,"wires":[["5bbfb224.ebf004","5bfe6268.688c8c"]]},{"id":"24b089e1.f8e5c6","type":"switch","z":"4fbe4352.72609c","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3380,"wires":[["e4bc4365.16fe08"]]},{"id":"5bbfb224.ebf004","type":"switch","z":"4fbe4352.72609c","name":"","property":"StoreInFile","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1190,"y":3460,"wires":[["2e37d82f.8daeb8"]]},{"id":"769129c.69facd8","type":"inject","z":"4fbe4352.72609c","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":330,"y":3340,"wires":[["234684d.a07f47c"]]},{"id":"bee98783.67afa","type":"function","z":"4fbe4352.72609c","name":"readme","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=flow.get(\"readme\")+\"\\n\"+\n    \"measOD \"+flow.get(\"measOD\").toString()+\"\\n\"+\n    \"measODunits \"+flow.get(\"measODunits\").toString()+\"\\n\"+\n    \"measODtotal \"+flow.get(\"measODtotal\").toString()+\"\\n\"+\n    \n    \"measBL \"+flow.get(\"measBL\").toString()+\"\\n\"+\n    \"measBLunits \"+flow.get(\"measBLunits\").toString()+\"\\n\"+\n    \"measBLtotal \"+flow.get(\"measBLtotal\").toString()+\"\\n\"+\n    \n    \"intBL \"+flow.get(\"intBL\").toString()+\"\\n\"+\n    \n    \"pillBL \"+flow.get(\"pillBL\").toString()+\"\\n\"+\n    \"pillBLunits \"+flow.get(\"pillBLunits\").toString()+\"\\n\"+\n    \"pillBLtotal \"+flow.get(\"pillBLtotal\").toString()+\"\\n\"+\n    \n    \"tillBL \"+flow.get(\"tillBL\").toString()+\"\\n\"+\n    \"tillBLunits \"+flow.get(\"tillBLunits\").toString()+\"\\n\"+\n    \"tillBLtotal \"+flow.get(\"tillBLtotal\").toString()+\"\\n\"+\n    \n    \"Temp \"+flow.get(\"Temp\").toString()+\"\\n\"+\n    \"PID \"+flow.get(\"PID\").toString()+\"\\n\"+\n    \n    \"FANstate \"+flow.get(\"FANstate\").toString()+\"\\n\"+\n    \"intFAN \"+flow.get(\"intFAN\").toString()+\"\\n\"+\n    \n    \"delay \"+flow.get(\"delay\").toString()+\"\\n\"+\n    \"delayunits \"+flow.get(\"delayunits\").toString()+\"\\n\"+\n    \"delaytotal \"+flow.get(\"delaytotal\").toString()+\"\\n\";\n\n//msg.myepoch=msg.myepoch.toString();\n//msg.payload=msg.payload+\";\"+msg.myepoch;\n\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":2940,"wires":[["e343ea36.75fe88"]]},{"id":"e343ea36.75fe88","type":"file","z":"4fbe4352.72609c","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":890,"y":2940,"wires":[[]]},{"id":"e4bc4365.16fe08","type":"simpletime","z":"4fbe4352.72609c","name":"","x":1330,"y":3380,"wires":[["20a81d08.0922ba"]]},{"id":"20a81d08.0922ba","type":"function","z":"4fbe4352.72609c","name":"IR+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameIR\");\nreturn msg;","outputs":1,"noerr":0,"x":1480,"y":3380,"wires":[["4b5d4134.40016"]]},{"id":"c8c6f51f.7bf77","type":"simpletime","z":"4fbe4352.72609c","name":"","x":1330,"y":3420,"wires":[["23d9ee45.688b6a"]]},{"id":"23d9ee45.688b6a","type":"function","z":"4fbe4352.72609c","name":"BL+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameBL\");\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":3420,"wires":[["4ac4bdbb.c0513c"]]},{"id":"2e37d82f.8daeb8","type":"simpletime","z":"4fbe4352.72609c","name":"","x":1330,"y":3460,"wires":[["5df682a3.6eef94"]]},{"id":"5df682a3.6eef94","type":"function","z":"4fbe4352.72609c","name":"Temp+epoch","func":"msg.payload=msg.payload.toString();\nmsg.myepoch=msg.myepoch.toString();\nmsg.payload=msg.payload+\";\"+msg.myepoch;\nmsg.filename=flow.get(\"FileNameTemp\");\nreturn msg;","outputs":1,"noerr":0,"x":1500,"y":3460,"wires":[["e3451972.cd935"]]},{"id":"17253b86.69d894","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=\"\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2560,"wires":[["23689365.9316d4"]]},{"id":"68f4251d.7b8eb4","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=\"eV17_\";\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":2600,"wires":[["2910f026.3c15e8"]]},{"id":"98329218.d706a","type":"function","z":"4fbe4352.72609c","name":"(reset)","func":"\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":2600,"wires":[["17253b86.69d894","68f4251d.7b8eb4","7e45161.dfd1a68"]]},{"id":"9e6facc0.c663b8","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=\"launch\";\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":2040,"wires":[["3481cd8c.8a488a"]]},{"id":"234684d.a07f47c","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3340,"wires":[["6670f86e.6073"]]},{"id":"7836637.ca3269c","type":"function","z":"4fbe4352.72609c","name":"255","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":750,"y":3640,"wires":[["da5da10f.72dd6","a4e72be0.99b848"]]},{"id":"da5da10f.72dd6","type":"function","z":"4fbe4352.72609c","name":"measODtotal","func":"msg.delay=flow.get(\"measODtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":780,"y":3680,"wires":[["ec2f43a0.87909"]]},{"id":"ec2f43a0.87909","type":"delay","z":"4fbe4352.72609c","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":3720,"wires":[["7836637.ca3269c"]]},{"id":"6b8b9f59.3b69","type":"function","z":"4fbe4352.72609c","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":3640,"wires":[["ec2f43a0.87909","a4e72be0.99b848"]]},{"id":"a4e72be0.99b848","type":"trigger","z":"4fbe4352.72609c","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1050,"y":3640,"wires":[["c8db36c8.8881d8","b31d88e9.81fe3","5ebe1d49.fa3464"]]},{"id":"c8db36c8.8881d8","type":"function","z":"4fbe4352.72609c","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":3640,"wires":[["45770c46.78284c"]]},{"id":"b31d88e9.81fe3","type":"arduino out","z":"4fbe4352.72609c","name":"IR17","pin":"5","state":"PWM","arduino":"c33baa48.3545b","x":1810,"y":3680,"wires":[]},{"id":"204049b1.177596","type":"switch","z":"4fbe4352.72609c","name":"lance ventilo","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"gt","v":"160","vt":"num"},{"t":"btwn","v":"0","vt":"num","v2":"160","v2t":"num"}],"checkall":"false","repair":false,"outputs":3,"x":1470,"y":3820,"wires":[["f3640c98.f3129"],["f3640c98.f3129"],["55f5ad0.e2e89d4","ab313058.04d44"]],"info":"Coz the ventilo wont start if the value is \nbelow 160.\nTo have a value below 160, we need to start w\na bigger value and THEN get down in value"},{"id":"f3640c98.f3129","type":"arduino out","z":"4fbe4352.72609c","name":"Fan","pin":"9","state":"PWM","arduino":"c33baa48.3545b","x":1810,"y":3800,"wires":[]},{"id":"ab313058.04d44","type":"function","z":"4fbe4352.72609c","name":"200","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":1630,"y":3840,"wires":[["f3640c98.f3129"]]},{"id":"55f5ad0.e2e89d4","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1640,"y":3880,"wires":[["f3640c98.f3129"]]},{"id":"45770c46.78284c","type":"arduino out","z":"4fbe4352.72609c","name":"BL17","pin":"6","state":"PWM","arduino":"c33baa48.3545b","x":1810,"y":3740,"wires":[]},{"id":"6914e038.e5a908","type":"link out","z":"4fbe4352.72609c","name":"RESET17->","links":["3e53d7ff.ec1e3","dd18ff4c.1126e","44b29e2d.26b5f8","440a2d2c.698774","3742e0c8.bcab08","b9fa99c.24e2868","9b3e4119.84a748","948bae02.d8b248"],"x":1755,"y":1480,"wires":[]},{"id":"3e53d7ff.ec1e3","type":"link in","z":"4fbe4352.72609c","name":"->Nickname&details","links":["6914e038.e5a908"],"x":595,"y":2560,"wires":[["98329218.d706a"]]},{"id":"ba5853b7.3503a8","type":"link in","z":"4fbe4352.72609c","name":"->StoreInFile","links":["9b92376.8cbbd48"],"x":375,"y":3300,"wires":[["234684d.a07f47c"]]},{"id":"7bb981ee.6ca0e8","type":"link in","z":"4fbe4352.72609c","name":"->ODmeas","links":["9b92376.8cbbd48"],"x":395,"y":3640,"wires":[["6b8b9f59.3b69"]]},{"id":"dd18ff4c.1126e","type":"link in","z":"4fbe4352.72609c","name":"->stop","links":["6914e038.e5a908"],"x":875,"y":1620,"wires":[["9538c82.3438938"]]},{"id":"6948c741.279af","type":"function","z":"4fbe4352.72609c","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1740,"y":260,"wires":[["6c635ab3.4796dc"]]},{"id":"3263e05b.45e38","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"measOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":260,"wires":[["875987fe.1bd9f8"]]},{"id":"6c635ab3.4796dc","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"measODunits","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":260,"wires":[["875987fe.1bd9f8"]]},{"id":"875987fe.1bd9f8","type":"function","z":"4fbe4352.72609c","name":"multiply","func":"msg.payload=flow.get(\"measOD\")*flow.get(\"measODunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2100,"y":260,"wires":[["7b6f7920.111f48"]]},{"id":"c0cf4acb.c2e098","type":"function","z":"4fbe4352.72609c","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1760,"y":380,"wires":[["a9fb1377.b4b0c8"]]},{"id":"40e61d25.767fd4","type":"function","z":"4fbe4352.72609c","name":"multiply","func":"msg.payload=flow.get(\"measBL\")*flow.get(\"measBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":2120,"y":380,"wires":[["9e43bf29.c2f418"]]},{"id":"9e43bf29.c2f418","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"measBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":380,"wires":[["34d34f81.f83dc"]]},{"id":"cd34fab3.9097b","type":"function","z":"4fbe4352.72609c","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1100,"y":600,"wires":[["4a42a5a6.be8914"]]},{"id":"c4a8e156.44a768","type":"function","z":"4fbe4352.72609c","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":600,"wires":[["c1b1442a.fdf628"]]},{"id":"245c29f2.b9b296","type":"function","z":"4fbe4352.72609c","name":"multiply","func":"msg.payload=flow.get(\"pillBL\")*flow.get(\"pillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1000,"y":700,"wires":[["7d7b5473.8c4dac"]]},{"id":"7d7b5473.8c4dac","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"pillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1170,"y":700,"wires":[["8d539f9c.90a89"]]},{"id":"6f36b0ff.dc5fe","type":"function","z":"4fbe4352.72609c","name":"multiply","func":"msg.payload=flow.get(\"tillBL\")*flow.get(\"tillBLunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":700,"wires":[["9bcfebec.901568"]]},{"id":"9bcfebec.901568","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"tillBLtotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":700,"wires":[[]]},{"id":"af29ed34.c2f778","type":"function","z":"4fbe4352.72609c","name":"multiply","func":"msg.payload=flow.get(\"delay\")*flow.get(\"delayunits\")*1000;\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":1220,"wires":[["17b4b8c1.eb6927"]]},{"id":"17b4b8c1.eb6927","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"delaytotal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":1220,"wires":[["21418e91.8cc85a"]]},{"id":"8030d233.bcc3d","type":"function","z":"4fbe4352.72609c","name":"millisec","func":"if (msg.payload===\"seconds\"){\n    msg.payload=1;\n}\nelse if (msg.payload===\"minutes\"){\n    msg.payload=60;\n}\nelse if (msg.payload===\"hours\"){\n    msg.payload=60*60;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1180,"wires":[["179adb81.758ecc"]]},{"id":"9b92376.8cbbd48","type":"link out","z":"4fbe4352.72609c","name":"STOP17.false","links":["4136dc47.25438c","7bb981ee.6ca0e8","e4a9d852.813018","ba5853b7.3503a8","33238bdf.5bc264","e737a23a.e39438","1b226ff2.a98db","d4df2c6e.f11068","bc8d5b9e.6154d","10408aef.2d37c5"],"x":1235,"y":1580,"wires":[]},{"id":"5ebe1d49.fa3464","type":"function","z":"4fbe4352.72609c","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":3680,"wires":[["204049b1.177596"]]},{"id":"1b5aba9f.dd8e1d","type":"comment","z":"4fbe4352.72609c","name":"OD mesaurements","info":"","x":790,"y":3600,"wires":[]},{"id":"5535daf3.c7b294","type":"function","z":"4fbe4352.72609c","name":"255","func":"if (flow.get(\"measBLtotal\")===0){\n    return;\n}\nelse {\n    msg.payload =255;\n    return msg;\n}","outputs":1,"noerr":0,"x":910,"y":4220,"wires":[["672a4bb2.68756c","d7342d0d.0f51"]]},{"id":"672a4bb2.68756c","type":"function","z":"4fbe4352.72609c","name":"measBLtotal","func":"msg.delay=flow.get(\"measBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":4280,"wires":[["8a6c4927.aa4b1"]]},{"id":"8a6c4927.aa4b1","type":"delay","z":"4fbe4352.72609c","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1050,"y":4320,"wires":[["5535daf3.c7b294"]]},{"id":"fd7b6620.3c84e8","type":"trigger","z":"4fbe4352.72609c","op1":"255","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","name":"Trigger 5sec","x":1350,"y":4240,"wires":[["e7ab3ab5.f47438","a8bb59c9.8c8fa"]]},{"id":"e614a480.687aa","type":"comment","z":"4fbe4352.72609c","name":"BL mesaurements","info":"","x":910,"y":4180,"wires":[]},{"id":"d7342d0d.0f51","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"delay","timeout":"7","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1180,"y":4200,"wires":[["fd7b6620.3c84e8","67151943.b09f8"]]},{"id":"33cd922d.131e3e","type":"function","z":"4fbe4352.72609c","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":4220,"wires":[["8a6c4927.aa4b1","fd7b6620.3c84e8","d7342d0d.0f51","dcbd815c.ed93a8","55f5ad0.e2e89d4"]]},{"id":"e4a9d852.813018","type":"link in","z":"4fbe4352.72609c","name":"->BLmeas","links":["9b92376.8cbbd48"],"x":335,"y":4220,"wires":[["33cd922d.131e3e"]]},{"id":"a8bb59c9.8c8fa","type":"function","z":"4fbe4352.72609c","name":"for BL","func":"if (msg.payload===0) {\n    if(flow.get(\"BLstate\")===\"ON\"){\n        msg.payload=flow.get(\"intBL\");\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":4220,"wires":[["45770c46.78284c"]]},{"id":"e7ab3ab5.f47438","type":"function","z":"4fbe4352.72609c","name":"for FAN","func":"if (msg.payload===0) {\n    if (flow.get(\"FANstate\")===\"ON\"){\n        msg.payload=flow.get(\"intFAN\");\n    }\n    else if (flow.get(\"FANstate\")===\"OFF\"){\n        msg.payload=0;\n    }\n}\nelse {\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":4260,"wires":[["204049b1.177596"]]},{"id":"253577cb.b4a9b","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1540,"wires":[["a4a06787.e402e8"]]},{"id":"a4a06787.e402e8","type":"link out","z":"4fbe4352.72609c","name":"STOP17.0","links":["91ec7107.a0e758","9a8af24d.e702b8","c58951a5.56b19","1c44ae78.3bcb42","48c11f9d.37dde","7b3e4ac7.65d3e4"],"x":1295,"y":1540,"wires":[]},{"id":"91ec7107.a0e758","type":"link in","z":"4fbe4352.72609c","name":"->IT,BL,FAN","links":["a4a06787.e402e8"],"x":1475,"y":3640,"wires":[["45770c46.78284c","b31d88e9.81fe3","f3640c98.f3129"]]},{"id":"7d5a9ab.74b3664","type":"ui_button","z":"4fbe4352.72609c","name":"02 OD realtime value","group":"71419c2a.2a3a5c","order":11,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3380,"wires":[[]]},{"id":"e51ade70.3d7d8","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.label=msg.payload;\nif (msg.payload>150){\n    msg.background=\"red\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3380,"wires":[["7d5a9ab.74b3664"]]},{"id":"41fe235a.30a13c","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.label=msg.payload;\nif (msg.payload>300){\n    msg.background=\"#44cff1\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3420,"wires":[["a53e7a98.2fa0e"]]},{"id":"a53e7a98.2fa0e","type":"ui_button","z":"4fbe4352.72609c","name":"03 BL realtime value","group":"71419c2a.2a3a5c","order":18,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1960,"y":3420,"wires":[[]]},{"id":"aeb1b51b.41464","type":"comment","z":"4fbe4352.72609c","name":"Display:","info":"","x":1800,"y":3340,"wires":[]},{"id":"dcbd815c.ed93a8","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":3900,"wires":[["dfc27431.6b8548"]]},{"id":"dfc27431.6b8548","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=true;\nreturn msg;\n\n","outputs":1,"noerr":0,"x":750,"y":3940,"wires":[["5535daf3.c7b294","b11fac3f.098648","42af16f4.fb1688","b7f2702b.c3fe48"]]},{"id":"d1659713.15b8a","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.delay=flow.get(\"delaytotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3860,"wires":[["dcbd815c.ed93a8","590a33ab.31fc94","b7f2702b.c3fe48"]]},{"id":"590a33ab.31fc94","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3880,"wires":[["d5016460.ddd608"]]},{"id":"12515168.30a93f","type":"comment","z":"4fbe4352.72609c","name":"growth delay","info":"","x":770,"y":3820,"wires":[]},{"id":"57f38a1.9bf63f4","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.delay=flow.get(\"tillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4740,"wires":[["66bb5d49.3df8d4"]]},{"id":"66bb5d49.3df8d4","type":"delay","z":"4fbe4352.72609c","name":"part","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4740,"wires":[["dc5fd452.5f0368"]]},{"id":"b11fac3f.098648","type":"function","z":"4fbe4352.72609c","name":"","func":"if (flow.get(\"pillBLtotal\") === 0 || flow.get(\"tillBLtotal\") === 0){\n    return;\n}\nelse{\n    msg.payload=flow.get(\"intBL\");\n    msg.state=\"ON\";\n    return msg;\n}\n\n\n","outputs":1,"noerr":0,"x":910,"y":4600,"wires":[["57f38a1.9bf63f4","4b16e54f.2cfddc","dba6b8c5.a1c91","b2d87f6e.008c1","98ab07b6.2768b"]]},{"id":"dc5fd452.5f0368","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=0;\nmsg.state=\"OFF\";\nreturn msg;\n","outputs":1,"noerr":0,"x":1010,"y":4740,"wires":[["dba6b8c5.a1c91","b2d87f6e.008c1","98ab07b6.2768b"]]},{"id":"4b16e54f.2cfddc","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.delay=flow.get(\"pillBLtotal\");\nmsg.payload=\"delay\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":4700,"wires":[["a686ef08.c96f08"]]},{"id":"a686ef08.c96f08","type":"delay","z":"4fbe4352.72609c","name":"total","pauseType":"delayv","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":890,"y":4700,"wires":[["b11fac3f.098648"]]},{"id":"e2af4e55.608748","type":"function","z":"4fbe4352.72609c","name":"reset","func":"msg.payload=\"0\"\nmsg.reset=true;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":4620,"wires":[["a686ef08.c96f08","66bb5d49.3df8d4","2b5f9697.da03d2","98ab07b6.2768b"]]},{"id":"b967a458.df724","type":"comment","z":"4fbe4352.72609c","name":"Cycle w sous cycle la: cool pr la blue LED","info":"","x":990,"y":4500,"wires":[]},{"id":"4136dc47.25438c","type":"link in","z":"4fbe4352.72609c","name":"->BLcycle","links":["9b92376.8cbbd48"],"x":635,"y":4620,"wires":[["e2af4e55.608748"]]},{"id":"dba6b8c5.a1c91","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"BLstate","pt":"flow","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":4560,"wires":[[]]},{"id":"be0fd847.3ef3d8","type":"inject","z":"4fbe4352.72609c","name":"","topic":"","payload":"OFF","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":890,"y":4540,"wires":[["2b5f9697.da03d2"]]},{"id":"7e9ff550.3491ec","type":"function","z":"4fbe4352.72609c","name":"for FAN","func":"if (flow.get(\"FANstate\")===\"ON\"){\n    msg.payload=flow.get(\"intFAN\");\n}\nelse if (flow.get(\"FANstate\")===\"OFF\"){\n    msg.payload=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":3000,"wires":[["52293e93.1034c8"]]},{"id":"9a8af24d.e702b8","type":"link in","z":"4fbe4352.72609c","name":"->PID","links":["a4a06787.e402e8"],"x":455,"y":3140,"wires":[["f924e65c.d0ff7"]]},{"id":"42f8af47.d99c28","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.label=\"Initialization\";\nmsg.background=\"#f39c12\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":1640,"wires":[["82ede96d.d79b38"]]},{"id":"ff763578.a9f43","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":200,"y":1600,"wires":[["7b428d61.1d98f4"]]},{"id":"183ee4fa.1a267b","type":"ui_button","z":"4fbe4352.72609c","name":"06 Temp realtime value","group":"71419c2a.2a3a5c","order":39,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1970,"y":3460,"wires":[[]]},{"id":"5bfe6268.688c8c","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.label=msg.payload;\nif (flow.get(\"PIDstate\")>0){\n    msg.background=\"#fdedec\";\n}\nelse {\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1790,"y":3460,"wires":[["183ee4fa.1a267b"]]},{"id":"c1052e49.67504","type":"ui_button","z":"4fbe4352.72609c","name":"05 BLstate","group":"71419c2a.2a3a5c","order":27,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":1470,"y":4600,"wires":[[]]},{"id":"b2d87f6e.008c1","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.label=msg.state;\nif (msg.label===\"ON\"){\n    msg.background=\"#ebf5fb\";\n}\nelse if (msg.label===\"OFF\"){\n    msg.background=\"white\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":4600,"wires":[["c1052e49.67504"]]},{"id":"2b5f9697.da03d2","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.state=\"OFF\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":4540,"wires":[["dba6b8c5.a1c91","b2d87f6e.008c1"]]},{"id":"33106ec0.6c470a","type":"function","z":"4fbe4352.72609c","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"pillBLtotal\")/1000-(msg.count%(flow.get(\"pillBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":620,"wires":[["5ec8e7f9.a89d58"]]},{"id":"64503319.a656ec","type":"ui_button","z":"4fbe4352.72609c","name":"04 pillBL Cycle counter","group":"71419c2a.2a3a5c","order":26,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3330,"y":600,"wires":[[]]},{"id":"8d539f9c.90a89","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=flow.get(\"pillBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":580,"wires":[["5ec8e7f9.a89d58","21418e91.8cc85a"]]},{"id":"7eb7ec44.68fde4","type":"counter","z":"4fbe4352.72609c","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":680,"wires":[["33106ec0.6c470a"]]},{"id":"2537f580.45694a","type":"function","z":"4fbe4352.72609c","name":"","func":"if (flow.get(\"counterpillBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"counterpillBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":640,"wires":[["7eb7ec44.68fde4"]]},{"id":"42af16f4.fb1688","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"counterpillBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":4460,"wires":[[]]},{"id":"e994d402.e5e118","type":"inject","z":"4fbe4352.72609c","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4480,"wires":[["208274db.d27d14"]]},{"id":"208274db.d27d14","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4460,"wires":[["42af16f4.fb1688"]]},{"id":"33238bdf.5bc264","type":"link in","z":"4fbe4352.72609c","name":"->Counter","links":["9b92376.8cbbd48"],"x":415,"y":4440,"wires":[["208274db.d27d14"]]},{"id":"3cec84b5.fdad9c","type":"inject","z":"4fbe4352.72609c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"3","x":190,"y":1520,"wires":[["50875a8f.7f3dec"]]},{"id":"9a9ad7fd.34a2a","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":1,"width":"3","height":"1","name":"00 eVOLVER17","label":"<font size =5>eVOLVER17","format":"{{msg.payload}}","layout":"row-center","x":700,"y":60,"wires":[]},{"id":"b95e1331.c8e3b","type":"link out","z":"4fbe4352.72609c","name":"enabled->","links":["4dea90fc.2f6ab"],"x":955,"y":2080,"wires":[]},{"id":"1c44ae78.3bcb42","type":"link in","z":"4fbe4352.72609c","name":"->GL","links":["a4a06787.e402e8"],"x":255,"y":2120,"wires":[["3481cd8c.8a488a","431e214c.92e3d"]]},{"id":"8a40c2f7.af1be8","type":"comment","z":"4fbe4352.72609c","name":"01","info":"","x":550,"y":60,"wires":[]},{"id":"398c1224.d45796","type":"comment","z":"4fbe4352.72609c","name":"02 ODmeas","info":"","x":650,"y":180,"wires":[]},{"id":"269b9117.1a4e86","type":"comment","z":"4fbe4352.72609c","name":"03 BLmeas","info":"","x":670,"y":300,"wires":[]},{"id":"1e74606c.deb808","type":"link in","z":"4fbe4352.72609c","name":"->ARDUINO FAN","links":["40dbb3ce.4e797c","52293e93.1034c8"],"x":1275,"y":3820,"wires":[["204049b1.177596"]]},{"id":"83e9206a.0a84e8","type":"link in","z":"4fbe4352.72609c","name":"->ARDUINO IR","links":["2750b754.619ee"],"x":1695,"y":3640,"wires":[["b31d88e9.81fe3"]]},{"id":"2f36b9ce.716a3e","type":"link in","z":"4fbe4352.72609c","name":"->ARDUINO BL","links":["98ab07b6.2768b","db12e82.73d3318"],"x":1615,"y":3760,"wires":[["45770c46.78284c"]]},{"id":"98ab07b6.2768b","type":"link out","z":"4fbe4352.72609c","name":"BLcycle->BL","links":["2f36b9ce.716a3e"],"x":1235,"y":4660,"wires":[]},{"id":"52293e93.1034c8","type":"link out","z":"4fbe4352.72609c","name":"Fancontrol","links":["1e74606c.deb808"],"x":895,"y":3000,"wires":[]},{"id":"40dbb3ce.4e797c","type":"link out","z":"4fbe4352.72609c","name":"Fansetup","links":["1e74606c.deb808"],"x":1735,"y":1060,"wires":[]},{"id":"2750b754.619ee","type":"link out","z":"4fbe4352.72609c","name":"IRsetup","links":["83e9206a.0a84e8"],"x":1115,"y":180,"wires":[]},{"id":"db12e82.73d3318","type":"link out","z":"4fbe4352.72609c","name":"BLcycle->BL","links":["2f36b9ce.716a3e"],"x":1135,"y":300,"wires":[]},{"id":"ff0db912.dd6e58","type":"link out","z":"4fbe4352.72609c","name":"PIDsetup->","links":["acc62d62.3993d8"],"x":1295,"y":880,"wires":[]},{"id":"acc62d62.3993d8","type":"link in","z":"4fbe4352.72609c","name":"->ARDUINO HEATER","links":["ff0db912.dd6e58","adac9125.ca28a8"],"x":1215,"y":3140,"wires":[["48ff4868.a3f26"]]},{"id":"431e214c.92e3d","type":"link out","z":"4fbe4352.72609c","name":"GRlaunch->","links":["64ef7db3.d2ebf4"],"x":515,"y":2160,"wires":[]},{"id":"64ef7db3.d2ebf4","type":"link in","z":"4fbe4352.72609c","name":"->GL","links":["431e214c.92e3d"],"x":1035,"y":120,"wires":[["562fda31.766e54"]]},{"id":"c45574f5.d2068","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":800,"y":3160,"wires":[["fb336a74.b45e38"]]},{"id":"164a71f5.25a96e","type":"PID","z":"4fbe4352.72609c","name":"","setpoint":"550","pb":"0","ti":"900","td":0,"integral_default":0.5,"smooth_factor":3,"max_interval":600,"enable":"0","disabled_op":0,"x":1010,"y":3100,"wires":[["dc0488de.e5fe1","9f5b5725.5e442"]]},{"id":"c8e15b7b.dcfdc","type":"arduino in","z":"4fbe4352.72609c","name":"TempSensor","pin":"0","state":"ANALOG","arduino":"c33baa48.3545b","x":750,"y":3120,"wires":[["c45574f5.d2068","b759ea1e.c8b0c8"]]},{"id":"48ff4868.a3f26","type":"arduino out","z":"4fbe4352.72609c","name":"Heater","pin":"4","state":"OUTPUT","arduino":"c33baa48.3545b","x":1330,"y":3100,"wires":[]},{"id":"dc0488de.e5fe1","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"PIDstate","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":3060,"wires":[[]]},{"id":"c6817c91.eb2f2","type":"inject","z":"4fbe4352.72609c","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":"0.3","x":1130,"y":3020,"wires":[["dc0488de.e5fe1"]]},{"id":"f924e65c.d0ff7","type":"function","z":"4fbe4352.72609c","name":"","func":"if (msg.payload===true){\n    msg.enable=1;\n}\nif (msg.payload===0){\n    msg.enable=0;\n}\nif (flow.get(\"PID\")===\"OFF\"){\n    msg.enable=0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":3080,"wires":[["164a71f5.25a96e"]]},{"id":"fb336a74.b45e38","type":"function","z":"4fbe4352.72609c","name":"setpoint","func":"msg.setpoint=flow.get(\"Temp\");\nreturn msg;","outputs":1,"noerr":0,"x":840,"y":3200,"wires":[["164a71f5.25a96e"]]},{"id":"dcc8ff1f.655718","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":940,"y":980,"wires":[["eb8acc61.491308"]]},{"id":"eb8acc61.491308","type":"function","z":"4fbe4352.72609c","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    msg.payload=0;\n    return msg;\n}\n","outputs":1,"noerr":0,"x":1210,"y":960,"wires":[["8ebb4aa1.4c313"]]},{"id":"9f5b5725.5e442","type":"function","z":"4fbe4352.72609c","name":"","func":"if (flow.get(\"launched\")===false){\n    return;\n}\nelse if (flow.get(\"launched\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":1170,"y":3100,"wires":[["48ff4868.a3f26"]]},{"id":"c1f7f2f6.682b9","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"launched","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1960,"wires":[[]]},{"id":"95c1b819.adb18","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":800,"wires":[[]]},{"id":"4fcbc4d9.cda2d4","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"PID","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":860,"wires":[["9251456.aef3438"]]},{"id":"c9c0b78f.f86cd","type":"inject","z":"4fbe4352.72609c","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":250,"y":1960,"wires":[["c1f7f2f6.682b9"]]},{"id":"e737a23a.e39438","type":"link in","z":"4fbe4352.72609c","name":"->launched","links":["9b92376.8cbbd48"],"x":275,"y":2000,"wires":[["c1f7f2f6.682b9"]]},{"id":"273a397f.800b66","type":"function","z":"4fbe4352.72609c","name":"","func":"if (msg.payload===0){\n    return;\n}\nelse {\n    return msg;\n}\n","outputs":1,"noerr":0,"x":910,"y":940,"wires":[["dcc8ff1f.655718"]]},{"id":"a2d18440.4b825","type":"inject","z":"4fbe4352.72609c","name":"INITIALIZATION","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":290,"y":720,"wires":[["bc6001be.5069d8"]]},{"id":"bc6001be.5069d8","type":"function","z":"4fbe4352.72609c","name":"initialization","func":"\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":740,"wires":[["c556d841.438cb","8be44d85.b786e8","a2b08021.bc3798","5977dbe8.6ab91c","134701f8.3254ae","e2296dbe.6091f","ad311b2c.50ea2","f7805c83.808608","e75a2749.761de8"]]},{"id":"37307883.260d8","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=10;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":180,"wires":[["57e8514a.c7fb2","da676cdd.0cd388","e67f6436.cedf8"]]},{"id":"da676cdd.0cd388","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1670,"y":180,"wires":[["69376c90.dfd2ac","18b23ffb.122cc","c6e34dd3.a0a7a8"]]},{"id":"e67f6436.cedf8","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1510,"y":300,"wires":[["ae2188e9.5f47d","ba496979.dbb17"]]},{"id":"ba496979.dbb17","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=\"minutes\";\nreturn msg;","outputs":1,"noerr":0,"x":1710,"y":300,"wires":[["3f26aae4.5d9616"]]},{"id":"2ec6d186.6a1cbe","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":520,"wires":[["cb59ffd.aba12","b549f756.c14ec"]]},{"id":"b549f756.c14ec","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=\"seconds\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":520,"wires":[["f03bdc87.3279"]]},{"id":"c556d841.438cb","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=1;\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":520,"wires":[["1b23576d.7aaa69","f407f2da.c9851"]]},{"id":"f407f2da.c9851","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":520,"wires":[["fc9d942c.80ad38","2ec6d186.6a1cbe"]]},{"id":"10a7e24b.e0ec66","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=\"hours\";\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":1140,"wires":[["41453808.85d24","80e03ac.6e2f748"]]},{"id":"8be44d85.b786e8","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":1140,"wires":[["2c80ce71.e52542","10a7e24b.e0ec66"]]},{"id":"a2b08021.bc3798","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=550;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":840,"wires":[["e0313cc7.10924"]]},{"id":"5977dbe8.6ab91c","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":880,"wires":[["8ebb4aa1.4c313"]]},{"id":"80e03ac.6e2f748","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":1020,"wires":[["cb9f1ac4.e1465","ca5a19d2.d9f64"]]},{"id":"ca5a19d2.d9f64","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=100;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":980,"wires":[["6adb84e.45994fc","79dc4d91.e7857c"]]},{"id":"79dc4d91.e7857c","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":1570,"y":800,"wires":[["4fcbc4d9.cda2d4","d9980886.8e953"]]},{"id":"134701f8.3254ae","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=\"ON\";\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":1020,"wires":[["d2796990.f0109"]]},{"id":"e2296dbe.6091f","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=255;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":420,"wires":[["3f60083a.e88118"]]},{"id":"e75a2749.761de8","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":300,"wires":[["ed81486a.d840b8"]]},{"id":"f7805c83.808608","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":180,"wires":[["6725a87c.0c96f8","798bedfe.027324"]]},{"id":"ad311b2c.50ea2","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":60,"wires":[["e9a721fc.7d59e"]]},{"id":"798bedfe.027324","type":"function","z":"4fbe4352.72609c","name":"init","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":60,"wires":[["54d53a28.01fadc","37307883.260d8"]]},{"id":"44b29e2d.26b5f8","type":"link in","z":"4fbe4352.72609c","name":"->initialization","links":["6914e038.e5a908"],"x":375,"y":760,"wires":[["bc6001be.5069d8"]]},{"id":"cb9f1ac4.e1465","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1480,"y":1060,"wires":[["47d5cb73.338dfc"]]},{"id":"5ec8e7f9.a89d58","type":"function","z":"4fbe4352.72609c","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":600,"wires":[["64503319.a656ec"]]},{"id":"3088313e.b7084e","type":"inject","z":"4fbe4352.72609c","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":640,"wires":[["2537f580.45694a"]]},{"id":"d5c6682e.8d85b8","type":"function","z":"4fbe4352.72609c","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measODtotal\")/1000-(msg.count%(flow.get(\"measODtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":300,"wires":[["ac9ba474.c355e"]]},{"id":"209812b.14d4aee","type":"ui_button","z":"4fbe4352.72609c","name":"02 ODmeas Cycle counter","group":"71419c2a.2a3a5c","order":10,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":280,"wires":[[]]},{"id":"18b23ffb.122cc","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=flow.get(\"measODtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":260,"wires":[["ac9ba474.c355e","34d34f81.f83dc"]]},{"id":"b306da96.af9c2","type":"counter","z":"4fbe4352.72609c","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":360,"wires":[["d5c6682e.8d85b8"]]},{"id":"972ca7a1.4b1bb","type":"function","z":"4fbe4352.72609c","name":"","func":"if (flow.get(\"measODtotal\")===0){\n    return;\n}if (flow.get(\"countermeasOD\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasOD\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":320,"wires":[["b306da96.af9c2"]]},{"id":"ac9ba474.c355e","type":"function","z":"4fbe4352.72609c","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":280,"wires":[["209812b.14d4aee"]]},{"id":"64a0a947.5fee38","type":"inject","z":"4fbe4352.72609c","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":320,"wires":[["972ca7a1.4b1bb"]]},{"id":"f4e6736a.6032a","type":"function","z":"4fbe4352.72609c","name":"","func":"//msg.payload=flow.get(\"pillBLtotal\")/1000-msg.count;\nmsg.payload=flow.get(\"measBLtotal\")/1000-(msg.count%(flow.get(\"measBLtotal\")/1000));\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":460,"wires":[["a61d07d6.486bc8"]]},{"id":"f62f4312.1155f8","type":"ui_button","z":"4fbe4352.72609c","name":"03 BLmeas Cycle counter","group":"71419c2a.2a3a5c","order":17,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3340,"y":440,"wires":[[]]},{"id":"34d34f81.f83dc","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=flow.get(\"measBLtotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":420,"wires":[["a61d07d6.486bc8","8d539f9c.90a89"]]},{"id":"c80e94b8.ecda08","type":"counter","z":"4fbe4352.72609c","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":520,"wires":[["f4e6736a.6032a"]]},{"id":"535bac76.1bab6c","type":"function","z":"4fbe4352.72609c","name":"","func":"if (flow.get(\"countermeasBL\")===true){\n    return msg;\n}\nelse if (flow.get(\"countermeasBL\")===false){\n    return;\n}","outputs":1,"noerr":0,"x":2850,"y":480,"wires":[["c80e94b8.ecda08"]]},{"id":"a61d07d6.486bc8","type":"function","z":"4fbe4352.72609c","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":440,"wires":[["f62f4312.1155f8"]]},{"id":"96ee8274.f6d398","type":"inject","z":"4fbe4352.72609c","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":480,"wires":[["535bac76.1bab6c"]]},{"id":"25f39d4.6b17462","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"countermeasBL","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1010,"y":4140,"wires":[[]]},{"id":"27de8791.2f25b","type":"inject","z":"4fbe4352.72609c","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":390,"y":4160,"wires":[["fa7c64ff.0545e8"]]},{"id":"fa7c64ff.0545e8","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":4140,"wires":[["25f39d4.6b17462"]]},{"id":"1b226ff2.a98db","type":"link in","z":"4fbe4352.72609c","name":"->Counter","links":["9b92376.8cbbd48"],"x":415,"y":4120,"wires":[["fa7c64ff.0545e8"]]},{"id":"a2a840e7.4c879","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"countermeasOD","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3560,"wires":[[]]},{"id":"8c0ca7ff.053a78","type":"inject","z":"4fbe4352.72609c","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":230,"y":3580,"wires":[["5f8ea7e1.5a2b5"]]},{"id":"5f8ea7e1.5a2b5","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":3560,"wires":[["a2a840e7.4c879"]]},{"id":"d4df2c6e.f11068","type":"link in","z":"4fbe4352.72609c","name":"->Counter","links":["9b92376.8cbbd48"],"x":255,"y":3540,"wires":[["5f8ea7e1.5a2b5"]]},{"id":"67151943.b09f8","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=true;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":4040,"wires":[["25f39d4.6b17462"]]},{"id":"ab364184.ef56f8","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":900,"wires":[["27313951.181136"]]},{"id":"e47a79e1.56a538","type":"counter","z":"4fbe4352.72609c","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":980,"wires":[["911bf5f3.b79a7"]]},{"id":"f9bb7bea.8c6508","type":"function","z":"4fbe4352.72609c","name":"","func":"if (flow.get(\"counterlaunch\")===false){\n    return;\n}\nelse if (flow.get(\"counterlaunch\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":940,"wires":[["e47a79e1.56a538"]]},{"id":"27313951.181136","type":"function","z":"4fbe4352.72609c","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3120,"y":920,"wires":[["a7b365c7.780a98","ed41bde8.024658"]]},{"id":"262bcfae.2feba8","type":"inject","z":"4fbe4352.72609c","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":940,"wires":[["f9bb7bea.8c6508"]]},{"id":"a7b365c7.780a98","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":53,"width":"4","height":"1","name":"09 elapsed time","label":"Elapsed time: ","format":"{{msg.payload}}","layout":"row-left","x":3280,"y":940,"wires":[]},{"id":"911bf5f3.b79a7","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=msg.count;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":940,"wires":[["27313951.181136"]]},{"id":"c6a0d75e.76fc7","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"counterlaunch","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":2880,"wires":[[]]},{"id":"30732765.1893","type":"inject","z":"4fbe4352.72609c","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":270,"y":2900,"wires":[["1a494eb4.4aa7a1"]]},{"id":"1a494eb4.4aa7a1","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":2880,"wires":[["c6a0d75e.76fc7"]]},{"id":"bc8d5b9e.6154d","type":"link in","z":"4fbe4352.72609c","name":"->Counter","links":["9b92376.8cbbd48"],"x":295,"y":2860,"wires":[["1a494eb4.4aa7a1"]]},{"id":"c6d71bdf.5113f8","type":"function","z":"4fbe4352.72609c","name":"","func":"if (msg.count>=flow.get(\"delaytotal\")/1000){\n    msg.payload=0;\n}\nelse {\n    msg.payload=flow.get(\"delaytotal\")/1000-(msg.count%(flow.get(\"delaytotal\")/1000));\n\n}\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":780,"wires":[["d9a558df.dfd3a"]]},{"id":"b92422e0.08d33","type":"ui_button","z":"4fbe4352.72609c","name":"08 growthdelay Cycle counter","group":"71419c2a.2a3a5c","order":50,"width":"2","height":"1","passthru":false,"label":"{{msg.label}}","tooltip":"","color":"black","bgcolor":"{{msg.background}}","icon":"","payload":"","payloadType":"str","topic":"","x":3350,"y":760,"wires":[[]]},{"id":"21418e91.8cc85a","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=flow.get(\"delaytotal\")/1000;\nreturn msg;","outputs":1,"noerr":0,"x":2990,"y":740,"wires":[["d9a558df.dfd3a","ab364184.ef56f8"]]},{"id":"b813c51c.781e4","type":"counter","z":"4fbe4352.72609c","name":"","init":"0","step":"1","lower":"","upper":"","mode":"increment","outputs":"1","x":2860,"y":840,"wires":[["c6d71bdf.5113f8"]]},{"id":"dd3d304d.670bb","type":"function","z":"4fbe4352.72609c","name":"","func":"if (flow.get(\"delaytotal\")===0){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===false){\n    return;\n}\nelse if (flow.get(\"counterdelay\")===true){\n    return msg;\n}","outputs":1,"noerr":0,"x":2850,"y":800,"wires":[["b813c51c.781e4"]]},{"id":"d9a558df.dfd3a","type":"function","z":"4fbe4352.72609c","name":"convert","func":"var hh = Math.floor((msg.payload % 31536000) / 3600);\nvar mm = Math.floor((((msg.payload % 31536000) % 86400) % 3600) / 60);\nvar ss = (((msg.payload % 31536000) % 86400) % 3600) % 60;\n\nif (hh<10){\n    hh=(\"0\" + hh).slice(-2);\n}\nif (mm<10){\n    mm=(\"0\" + mm).slice(-2);\n}\nif (ss<10){\n    ss=(\"0\" + ss).slice(-2);\n}\n\n\n\nmsg.payload=hh+\":\"+mm+\":\"+ss;\n\nmsg.label=msg.payload;\nmsg.background=\"white\";\n\nreturn msg;","outputs":1,"noerr":0,"x":3140,"y":760,"wires":[["b92422e0.08d33"]]},{"id":"1f0da46b.9b0bfc","type":"inject","z":"4fbe4352.72609c","name":"EVERY SEC","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":"3","x":2700,"y":800,"wires":[["dd3d304d.670bb"]]},{"id":"d5016460.ddd608","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"counterdelay","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1040,"y":3840,"wires":[[]]},{"id":"ef1dd7a.70f69a8","type":"inject","z":"4fbe4352.72609c","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":"2","x":430,"y":3860,"wires":[["e98c3728.1feb88"]]},{"id":"e98c3728.1feb88","type":"function","z":"4fbe4352.72609c","name":"","func":"msg.payload=false;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":3840,"wires":[["d5016460.ddd608","b7f2702b.c3fe48"]]},{"id":"10408aef.2d37c5","type":"link in","z":"4fbe4352.72609c","name":"->Counter","links":["9b92376.8cbbd48"],"x":455,"y":3820,"wires":[["e98c3728.1feb88"]]},{"id":"b36d109a.86f73","type":"ui_text","z":"4fbe4352.72609c","group":"71419c2a.2a3a5c","order":51,"width":"2","height":"1","name":"08 growth delay status","label":"","format":"{{msg.payload}}","layout":"row-center","x":1110,"y":3960,"wires":[]},{"id":"b7f2702b.c3fe48","type":"function","z":"4fbe4352.72609c","name":"","func":"if (msg.payload===false){\n    msg.payload=\"delay status\";\n}\nif (msg.payload===\"delay\"){\n    msg.payload=\"ongoing\";\n}\nelse if (msg.payload===true){\n    msg.payload=\"over\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":3960,"wires":[["b36d109a.86f73"]]},{"id":"273c6085.3da0f8","type":"function","z":"4fbe4352.72609c","name":"reset","func":"msg.reset=true;\nmsg.payload=0;\nreturn msg;","outputs":1,"noerr":0,"x":2410,"y":540,"wires":[["b306da96.af9c2","7eb7ec44.68fde4","b813c51c.781e4","e47a79e1.56a538"]]},{"id":"c6e34dd3.a0a7a8","type":"delay","z":"4fbe4352.72609c","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":2240,"y":520,"wires":[["273c6085.3da0f8"]]},{"id":"ed41bde8.024658","type":"change","z":"4fbe4352.72609c","name":"","rules":[{"t":"set","p":"elapsed","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3290,"y":900,"wires":[[]]},{"id":"12259e48.0a147a","type":"function","z":"4fbe4352.72609c","name":"elapsed","func":"msg.filename=flow.get(\"FileNameReadme\");\n\nmsg.payload=\"Elapsed time \"+flow.get(\"elapsed\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":1660,"wires":[["128cac92.c9989b"]]},{"id":"128cac92.c9989b","type":"file","z":"4fbe4352.72609c","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":1270,"y":1660,"wires":[[]]},{"id":"20c8c9f0.01711e","type":"comment","z":"4fbe4352.72609c","name":"BOUGZY DEPLOY","info":"","x":2590,"y":80,"wires":[]}]